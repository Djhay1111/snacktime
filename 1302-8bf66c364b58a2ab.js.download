!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e5e967ae-3ea1-4438-a117-8806307f9db1",e._sentryDebugIdIdentifier="sentry-dbid-e5e967ae-3ea1-4438-a117-8806307f9db1")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"f0223803"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1302],{73754:(e,t,n)=>{n.d(t,{ay:()=>ef,RB:()=>ea,pF:()=>es,g$:()=>eo,Ly:()=>eg.Ly,wV:()=>N,K6:()=>er,a:()=>en,JY:()=>ec,MZ:()=>ed,C3:()=>eu,Wd:()=>ep,BP:()=>el,KH:()=>te,ic:()=>ev,j2:()=>b,Ku:()=>I.Ku,Yd:()=>tV,Ds:()=>tB,nv:()=>tz,Nn:()=>ei,qK:()=>I.qK,ol:()=>tD,se:()=>eN,Bi:()=>eR,lJ:()=>tq.l,WQ:()=>I.WQ,Rk:()=>e4,Yg:()=>eD,R6:()=>eY,Ff:()=>eB,p2:()=>eM,hT:()=>eT,dt:()=>ez,Au:()=>tt,ou:()=>e6,dm:()=>tx,k:()=>tA,Aj:()=>tp,Lh:()=>ts,K2:()=>tY,so:()=>t$,NC:()=>j.NC,uG:()=>e1,UK:()=>L.UK,M$:()=>eG,Al:()=>L.Al,jJ:()=>L.jJ,Y9:()=>L.Y9,Ih:()=>eQ,PQ:()=>eZ,rE:()=>L.rE,nt:()=>L.nt,WS:()=>L.WS,Vg:()=>L.Vg,hX:()=>eF,Nx:()=>tC,lW:()=>tW,Jc:()=>tZ,gp:()=>t_,R9:()=>tl,PP:()=>e2,Gk:()=>L.Gk,q4:()=>L.q4,OI:()=>L.OI,ey:()=>L.ey,JB:()=>eL,J_:()=>eC,mA:()=>ek,H_:()=>L.H_,uY:()=>L.uY,gv:()=>L.gv,vX:()=>L.vX,ac:()=>L.ac,nG:()=>eX,hM:()=>L.hM,sS:()=>L.sS,or:()=>L.or,Zl:()=>eA,V9:()=>e7,E8:()=>eK,fS:()=>tF,tS:()=>tv,ql:()=>L.ql,nY:()=>e$,dp:()=>L.dp,pq:()=>tf,Az:()=>tb,CH:()=>tU,C9:()=>ty,iW:()=>tg,ib:()=>tm,d8:()=>th,C6:()=>L.C6,QV:()=>eh.wV,jt:()=>eq,mi:()=>eH,D2:()=>L.D2,GS:()=>L.GS,Nd:()=>L.tZ,jX:()=>e3,xr:()=>e0,dI:()=>j.dI});var r=n(13454),i=n(5482),o=n(49711),a=n(81433),s=n.n(a),l=n(20178),u=n(40174),c=n(45038),d=(u.ZU.Object({replId:u.ZU.Union([u.ZU.String(),u.ZU.Null()]),orgId:u.ZU.Optional(u.ZU.String())}),u.ZU.Object({userId:u.ZU.Number(),orgId:u.ZU.Optional(u.ZU.String())}),u.ZU.Object({token:u.ZU.String()})),p=u.ZU.Object({isAuthorized:u.ZU.Literal(!0),code:u.ZU.Literal("authorized"),message:u.ZU.String()}),f=u.ZU.Object({isAuthorized:u.ZU.Literal(!1),code:u.ZU.Union([u.ZU.Literal("feature_disabled"),u.ZU.Literal("feature_unsupported_for_non_teams"),u.ZU.Literal("feature_unsupported_for_replit_teams"),u.ZU.Literal("feature_unsupported_for_teams_edu"),u.ZU.Literal("feature_unsupported_for_teams_pro"),u.ZU.Literal("feature_unsupported_for_teams_free"),u.ZU.Literal("insufficient_permissions"),u.ZU.Literal("insufficient_quota"),u.ZU.Literal("insufficient_budget"),u.ZU.Literal("requires_payment_method"),u.ZU.Literal("requires_active_subscription")]),message:u.ZU.String()}),v=u.ZU.Union([p,f]);function h(){return(h=(0,r._)(function(e,t){var n;return(0,i.YH)(this,function(r){switch(r.label){case 0:return[4,fetch("/ai/auth",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({replId:e,orgId:t})})];case 1:return[4,r.sent().json()];case 2:if(n=r.sent(),!o.WT.Check(d,n))throw(0,l.B)("Authentication to chat service failed",{detail:n});return[2,n.token]}})})).apply(this,arguments)}u.ZU.Object({basicModel:v,advancedModel:v,paidAgent:v,freeAgent:v,basicAssistant:v,advancedAssistant:v});var g={minutes:30},m={},U=new(s());function b(e,t,n){return y.apply(this,arguments)}function y(){return(y=(0,r._)(function(e,t,n){return(0,i.YH)(this,function(o){return[2,U.acquire(null!=e?e:"non-repl-key",(0,r._)(function(){var r,o,a;return(0,i.YH)(this,function(i){switch(i.label){case 0:if((r=m[t])&&new Date().getTime()<r.expiration)return[2,r.token];return[4,function(e,t){return h.apply(this,arguments)}(e,n)];case 1:return o=i.sent(),a=new Date().getTime()+6e4*g.minutes,m[t]={token:o,expiration:a},[2,o]}})}))]})})).apply(this,arguments)}var E=n(66622),S=n(94086),C=n(30758),Z=n(8143),_=n(70452),x=n(28668),A=n(4695),w=n(55195),I=n(88942),k=n(26190),O=n(21980),T=n(65640),N="SERVER",R=window.location.search.includes("aiChatDebug=1"),P=function(e,t,n){var r;R&&T[null!=n?n:"info"]("[ai-chat]"+e,t),O.vF[null!=n?n:"info"](e,{river:t,riverTarget:"ai-chat",riverVersion:x.E_}),(null==t?void 0:null===(r=t.tags)||void 0===r?void 0:r.includes("invariant-violation"))&&w.v4(function(n){n.setTag("ai-chat",!0),n.setExtras(t),w.Cp(Error(e))})},j=n(32182),L=n(7881),D=n(20837),M=n(43952),Y=n(96489),$=n.n(Y),F=n(51297),W=n(88165),q=n(45009),H=n(30632),G=n(43751);function V(){var e=(0,q._)(["\n  query AgentModeRepl($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        supportsAgent\n      }\n    }\n  }\n"]);return V=function(){return e},e}var B={},z=(0,H.J1)(V()),K=n(18799);new x.iai({type:x.e3q.BASIC,readable:K.r.readable,qualified:K.r.qualified});var Q=new x.iai({type:x.e3q.BASIC,readable:K.uU.readable,qualified:K.uU.qualified}),X=new x.iai({type:x.e3q.ADVANCED,readable:K.s_.readable,qualified:K.s_.qualified}),J=new x.iai({type:x.e3q.ADVANCED,readable:K.oE.readable,qualified:K.oE.qualified}),ee={basic:Q,advanced:J},et={basic:Q,advanced:X},en=4e3,er=8e3,ei=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.variant,n=e.capitalizeFirstChar;return"formal"===(void 0===t?"casual":t)?"Replit Agent":"".concat(void 0!==n&&n?"T":"t","he agent")},eo="Agent",ea="".concat(eo," can make changes, review its work, and debug itself automatically."),es="https://www.youtube-nocookie.com/embed/QiW2hXEphpI?si=c8iFauvdbpDW9o-n&rel=0",el="Assistant",eu="".concat(el," answers questions, refines code, and makes precise edits."),ec="".concat(el," can use advanced code analysis, debug your project, and directly edit files."),ed="Code analysis, debugging, and direct edits.",ep="https://www.youtube-nocookie.com/embed/QiW2hXEphpI?si=c8iFauvdbpDW9o-n&rel=0&start=15",ef="Add a database",ev=function(e){return e.NOTHING_TO_COMMIT="NOTHING_TO_COMMIT",e}({}),eh=n(1314),eg=n(9209),em=n(66061),eU=n(63679),eb=n(83733),ey=(0,_.eU)(function(e){var t=null,n=!0,r=!1,i=void 0;try{for(var o,a=e(eh.B6)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=(0,E._)(o.value,2)[1];(0,eg._h)(s)&&(null===t||s.created>t.created)&&(t=s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}),eE=(0,_.eU)(function(e){return Array.from(e(eh.B6).values()).filter(eg._h).sort(function(e,t){return e.created.getTime()-t.created.getTime()})}),eS=(0,W.mg)(ey,function(e){return null==e?void 0:e.id});function eC(){return(0,j.h)(eS)}function eZ(){var e=(0,L.Gk)(),t=(0,E._)((0,C.useState)(!0),2),n=t[0],o=t[1],a=(0,j.ob)(L.N9),s=(0,j.h)(eS),l=(0,j.Ou)(eS);return(0,C.useEffect)(function(){if(e){var t=!1;return function(){n.apply(this,arguments)}(),function(){t=!0}}function n(){return(n=(0,r._)(function(){var e;return(0,i.YH)(this,function(n){switch(n.label){case 0:return o(!0),e=O.vF.timeStart({action:"agent_session_load"}),[4,a({archivedOnly:!1,sessionTypes:eg.Ly})];case 1:if(n.sent(),t)return[2];return e("Agent session loaded successfully",{sessionId:s}),o(!1),[2]}})})).apply(this,arguments)}},[e,s,a,l]),{loading:n,sessionId:s}}function e_(e){var t,n;return(null==e?void 0:null===(t=e.contents.contents)||void 0===t?void 0:t.$kind)==="agentTimelineEventContents"&&(null==e?void 0:null===(n=e.contents.contents.agentTimelineEventContents.toolData)||void 0===n?void 0:n.$kind)==="presentResultsToolData"}var ex=(0,_.eU)(function(e){var t=e(ey);if(!t)return null;var n=[],r=ej({session:t,events:e(eh.rA)}).timelineMap,i=e(eh.rA).byId,o=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=(0,E._)(l.value,2),d=c[0],p=c[1];e_(i.get(d))||n.push(d);var f=!0,v=!1,h=void 0;try{for(var g,m=p[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var U=g.value;e_(i.get(U))||n.push(U)}}catch(e){v=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(v)throw h}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return n});function eA(){return(0,j.h)(ex)}var ew=(0,_.eU)(function(e){var t=e(ey);if(!t)return null;var n=null,r=!0,i=!1,o=void 0;try{for(var a,s=(0,A.Xs)({parentId:t.sessionCreationEventId,parentToActiveChild:new Map,events:e(eh.rA)})[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l,u,c,d=a.value;(null==d?void 0:null===(u=d.contents)||void 0===u?void 0:null===(l=u.contents)||void 0===l?void 0:l.$kind)==="agentTimelineEventContents"&&(null===(c=d.contents.contents.agentTimelineEventContents.toolData)||void 0===c?void 0:c.$kind)==="presentResultsToolData"&&(n=d)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}),eI=(0,W.mg)(ew,function(e){var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null});function ek(){return(0,j.h)(eI)}var eO=(0,W.mg)(L.N2,function(e){return null==e?void 0:e.runState});function eT(){return(0,j.h)(eO)}var eN=new Set(["planProgressData","agentPlanStepBegin","acknowledgeUserMessage","workflowsGetOutputToolData","presentResultsToolData","deployConfigData"]),eR=new Set(["generate_plan","modify_step","verification","scroll_file","open_file"]),eP=["aiMessage","userMessage","timeline","plan","planConcluded","revert","newSessionNudge","deploy","stepStarted","checkpoint","thoughts"];function ej(e){var t=e.session,n=e.events,r=[],i=new Map,o=new Map,a=null,s=null,l=new Set,u=x.utd.USER_TYPE_UNKNOWN,c=!0,d=!1,p=void 0;try{for(var f,v=(0,A.Xs)({parentId:t.sessionCreationEventId,parentToActiveChild:new Map,events:n})[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){var h,g=f.value,m=function(e){var t=e.event,n=e.events,r=t.contents.contents;if(t.error.type!==x.fqQ.EVENT_ERROR_TYPE_UNKNOWN)return null;switch(null==r?void 0:r.$kind){case"agentPlanEventContents":if(r.agentPlanEventContents.requiresApproval){if(!Array.from(null!==(c=n.byParentId.get(t.id))&&void 0!==c?c:[]).some(function(e){var t,r=n.byId.get(e);if(!r)return!1;var i=r.contents.contents;return(null==i?void 0:i.$kind)==="agentPlanEventContents"&&(null===(t=i.agentPlanEventContents.Approver)||void 0===t?void 0:t.$kind)}))return{id:t.id,type:"plan"};return null}if(null===(u=r.agentPlanEventContents)||void 0===u?void 0:u.step.subSteps.every(function(e){return e.status===x.jhd.STEP_COMPLETE}))return{id:t.id,type:"planConcluded"};if(!r.agentPlanEventContents.requiresApproval&&(null===(l=r.agentPlanEventContents.Approver)||void 0===l?void 0:l.$kind)==="approver")return{id:t.id,type:"plan"};return null;case"agentTimelineEventContents":var i=r.agentTimelineEventContents.toolData;if((null==i?void 0:i.$kind)==="agentPlanStepBegin")return{id:t.id,type:"stepStarted"};if((null==i?void 0:i.$kind)==="planProgressData"&&i.planProgressData.updatedPlanStep.status===x.jhd.STEP_COMPLETE)return null;if((null==i?void 0:i.$kind)==="deployData")return{id:t.id,type:"deploy"};if(eR.has(r.agentTimelineEventContents.toolName))return null;if((null==i?void 0:i.$kind)==="commitData")return{id:t.id,type:"checkpoint"};if(i&&eN.has(i.$kind)||!i)return null;if((null==i?void 0:i.$kind)==="messageData")return{id:t.id,type:t.sender.type===x.utd.USER?"userMessage":"aiMessage"};if((null==i?void 0:i.$kind)==="newSessionNudge")return{id:t.id,type:"newSessionNudge"};if((null==i?void 0:i.$kind)==="revertData")return{id:t.id,type:"revert"};if((null==i?void 0:i.$kind)==="createPostgresqlDatabaseData")return{id:t.id,type:"timeline",break:!0};if((null==i?void 0:i.$kind)==="thoughts")return{id:t.id,type:"thoughts"};return{id:t.id,type:"timeline"};case"messageEventContents":return{id:t.id,type:t.sender.type===x.utd.USER?"userMessage":"aiMessage"};case"revertEventContents":return{id:t.id,type:"revert"};case"stepTooComplexEventContents":var o=!0,a=!1,s=void 0;try{for(var l,u,c,d,p=n.byId[Symbol.iterator]();!(o=(d=p.next()).done);o=!0){var f=(0,E._)(d.value,2)[1];if(f.id!==t.id&&f.sessionId===t.sessionId){var v=f.contents.contents;if(!((null==v?void 0:v.$kind)!=="stepTooComplexEventContents"||f.created.getTime()<t.created.getTime())&&v.stepTooComplexEventContents.stepId===r.stepTooComplexEventContents.stepId)return null}}}catch(e){a=!0,s=e}finally{try{o||null==p.return||p.return()}finally{if(a)throw s}}return{id:t.id,type:"stepTooComplex"};case"agentAskUserForActionRequest":var h=r.agentAskUserForActionRequest.request;if((null==h?void 0:h.$kind)==="nextStepRequest")return{id:t.id,type:"nextStepRequest"};return null;case"agentAskUserForActionResponse":var g=r.agentAskUserForActionResponse.response;if((null==g?void 0:g.$kind)==="nextStepResponse")return{id:t.id,type:"nextStepResponse"};return null;case"databaseNudgeEventContents":return{id:t.id,type:"databaseNudge"};case"startRapidBuildEventContents":return{id:t.id,type:"startRapidBuild"};default:return null}}({event:g,events:n});if(m){if(eP.includes(m.type)&&g.sender.type!==u&&(l.add(g.id),u=g.sender.type),"deploy"===m.type){r.push(m);continue}if("revert"===m.type){if((null===(C=g.contents.contents)||void 0===C?void 0:C.$kind)==="revertEventContents"){var U=g.contents.contents.revertEventContents.eventIdBeforeRevert;o.set(U,(0,M._)((0,D._)({},o.get(U)),{revertSource:g.id,revertTarget:U,revertStatus:"inflight"}));continue}if((null===(Z=g.contents.contents)||void 0===Z?void 0:Z.$kind)==="agentTimelineEventContents"&&(null===(_=g.contents.contents.agentTimelineEventContents.toolData)||void 0===_?void 0:_.$kind)==="revertData"){var b=g.contents.contents.agentTimelineEventContents.toolData.revertData.eventIdBeforeRevert,y=null===(w=o.get(b))||void 0===w?void 0:w.revertSource;o.set(b,{revertSource:y,revertTarget:b,revertCompleted:g.id,revertStatus:"completed"});for(var S=0;r.length&&r[r.length-1].id!==b;){var C,Z,_,w,I,k,O,T,N=r.pop();N&&("timeline"===N.type?S+=(null!==(k=null===(I=i.get(N.id))||void 0===I?void 0:I.length)&&void 0!==k?k:0)+1:"revert"===N.type?S+=null!==(T=null===(O=o.get(N.id))||void 0===O?void 0:O.hiddenEvents)&&void 0!==T?T:1:S++)}o.set(g.id,{hiddenEvents:S,revertSource:y,revertTarget:b,revertCompleted:g.id,revertStatus:"completed"})}}if("timeline"!==m.type){r.push(m),a=m,s=g;continue}(null==a?void 0:a.type)!=="timeline"||m.break?(i.set(g.id,[]),r.push(m),a=m):null===(h=i.get(a.id))||void 0===h||h.push(g.id),s=g}}}catch(e){d=!0,p=e}finally{try{c||null==v.return||v.return()}finally{if(d)throw p}}return{items:r,timelineMap:i,revertMap:o,inProgressEventId:(null==a?void 0:a.type)==="timeline"&&(null==s?void 0:s.state)===x.qOk.IN_PROGRESS?s.id:null,eventIdsWithAvatars:l}}function eL(e){var t=(0,C.useMemo)(function(){return(0,_.eU)(function(t){if(!!e){var n=t(eh.B6).get(e);if(n){var r=t(eV);if(r.runState!==x.g32.AGENT_STATE_RUNNING&&r.runState!==x.g32.AGENT_STATE_PAUSING){var i=t(eh.rA),o=ej({session:n,events:i}).items,a=o[o.length-1];if(a){var s=i.byId.get(a.id);if(s&&((null===(d=s.contents.contents)||void 0===d?void 0:d.$kind)!=="agentTimelineEventContents"||"user_response"!==s.contents.contents.agentTimelineEventContents.toolName)&&(null===(p=s.contents.contents)||void 0===p?void 0:p.$kind)!=="messageEventContents"){for(var l=0,u=!1,c=0;c<o.length;c++){var d,p,f,v,h=o[c],g=i.byId.get(h.id);"databaseNudge"===h.type&&(u=!0,f={eventId:h.id,eventType:"databaseNudge"}),(null==g?void 0:null===(v=g.contents.contents)||void 0===v?void 0:v.$kind)==="messageEventContents"&&(l++,g.contents.contents.messageEventContents.content===ef&&(u=!1),l>3&&(u=!1))}return u&&f?f:"nextStepRequest"===a.type?{eventId:a.id,eventType:"nextStepRequest"}:void 0}}}}}})},[e]);return(0,j.h)(t)}function eD(e){var t,n,r=(0,L.rh)(e).loading,i=(t=(0,C.useMemo)(function(){return(0,_.eU)(function(t){var n=e?t(eh.B6).get(e):null;if(!n)return null;var r=ej({session:n,events:t(eh.rA)});return{items:r.items,timelineMap:r.timelineMap,inProgressEventId:r.inProgressEventId,eventIdsWithAvatars:r.eventIdsWithAvatars}})},[e]),n=(0,C.useMemo)(function(){return(0,W.mg)(t,function(e){return{items:null==e?void 0:e.items,inProgressEventId:null==e?void 0:e.inProgressEventId,eventIdsWithAvatars:null==e?void 0:e.eventIdsWithAvatars}},$())},[t]),(0,j.h)(n));return{items:i.items,loading:r,inProgressEventId:i.inProgressEventId,eventIdsWithAvatars:i.eventIdsWithAvatars}}function eM(e){var t=(0,C.useMemo)(function(){var t=(0,_.eU)(function(t){var n=t(eh.rA).byId.get(e);if(!n)return null;var r=t(eh.B6).get(n.sessionId);return r?ej({session:r,events:t(eh.rA)}).timelineMap.get(e):null});return(0,W.mg)(t,function(e){return e},$())},[e]);return(0,j.h)(t)}function eY(e){var t=(0,C.useMemo)(function(){var t=(0,_.eU)(function(t){var n=t(eh.rA),r=n.byId.get(e);if(!r)return null;var i=t(eh.B6).get(r.sessionId);if(!i)return null;var o=ej({session:i,events:n}).revertMap;return function(e){var t,n,r=e.event,i=e.events,o=e.revertMap.get(r.id);if(!(null==o?void 0:o.revertCompleted))return null;var a=i.byId.get(o.revertCompleted);if(!a)return null;var s=i.byId.get(o.revertTarget),l=function(e){if(!e)return null;var t,n,r=(null===(t=e.contents.contents)||void 0===t?void 0:t.$kind)==="agentTimelineEventContents"?e.contents.contents.agentTimelineEventContents.toolData:null;return(null==r?void 0:r.$kind)==="planProgressData"?r.planProgressData.updatedPlanStep.commitId:(null==r?void 0:r.$kind)==="messageData"&&r.messageData.commitId?r.messageData.commitId:(null==r?void 0:r.$kind)==="commitData"&&r.commitData.commitId?r.commitData.commitId:(null===(n=e.contents.contents)||void 0===n?void 0:n.$kind)==="messageEventContents"&&e.contents.contents.messageEventContents.commitId?e.contents.contents.messageEventContents.commitId:null}(s);if(!s||!l)return null;var u=i.byId.get(o.revertSource);return(null==u?void 0:null===(t=u.contents.contents)||void 0===t?void 0:t.$kind)!=="revertEventContents"?null:{reverterId:u.sender.id,revertedAt:a.created,revertedCommitId:l,revertHiddenCount:null!==(n=o.hiddenEvents)&&void 0!==n?n:0}}({event:r,events:n,revertMap:o})});return(0,W.mg)(t,function(e){return e},$())},[e]);return(0,j.h)(t)}function e$(e){var t=(0,C.useMemo)(function(){var t=(0,_.eU)(function(t){var n=t(eh.rA).byId.get(e);if(!n)return{isReverting:!1,isReverted:!1};var r=t(eh.B6).get(n.sessionId);if(!r)return{isReverting:!1,isReverted:!1};var i=ej({session:r,events:t(eh.rA)}).revertMap.get(e);return i&&i.revertTarget===e?{isReverting:"inflight"===i.revertStatus,hasBeenReverted:void 0!==i.revertCompleted}:{isReverting:!1,isReverted:!1}});return(0,W.mg)(t,function(e){return e},$())},[e]);return(0,j.h)(t)}function eF(e){var t=(0,C.useMemo)(function(){return(0,_.eU)(function(t){var n=e?t(eh.B6).get(e):null;return!!n&&Array.from(ej({session:n,events:t(eh.rA)}).revertMap.values()).some(function(e){return"inflight"===e.revertStatus})})},[e]);return(0,j.h)(t)}var eW=(0,_.eU)(!1);function eq(){return(0,j.h)(eW)}function eH(){return(0,j.AI)(eW)}function eG(){var e=(0,j.ob)(eW);return(0,C.useCallback)(function(){return e(!0)},[e])}var eV=(0,W.mg)(L.N2,function(e){var t;return{runState:null==e?void 0:e.runState,transitionReason:null==e?void 0:null===(t=e.transitionReason)||void 0===t?void 0:t.reasons}});function eB(){return(0,j.h)(eV)}function ez(e){var t=(0,C.useMemo)(function(){var t=(0,_.eU)(function(t){if(!e)return null;if("connected"!==t(L.U4))return{state:"disconnected"};var n,r,i=t(L.N2);if(!i||e!==i.sessionId)return null;var o=e?t(eh.B6).get(e):null;if(!o)return null;var a=ej({session:o,events:t(eh.rA)}).items;if((null===(n=a[a.length-1])||void 0===n?void 0:n.type)==="planConcluded")return{state:"paused",transitionReason:{$kind:"planConcluded",planConcluded:{}}};var s=i.runState,l=i.transitionReason;if(s===x.g32.AGENT_STATE_NOT_STARTED||s===x.g32.AGENT_STATE_UNKNOWN)return null;if(s===x.g32.AGENT_STATE_RUNNING)return{state:"running"};if(s===x.g32.AGENT_STATE_PAUSING)return{state:"pausing"};switch(null==l?void 0:null===(r=l.reasons)||void 0===r?void 0:r.$kind){case"waitingOnPlanApproval":case"waitingOnUserResponse":return null;default:return{state:"paused",transitionReason:null==l?void 0:l.reasons}}});return(0,W.mg)(t,function(e){return e},$())},[e]);return(0,j.h)(t)}function eK(e){var t=(0,j.ob)(L.QV),n=(0,L.Gk)();return(0,C.useCallback)((0,r._)(function(){var r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(!n||!e)return[2];return[4,t({sessionId:e})];case 1:return(r=i.sent()).ok&&r.payload.runState===x.g32.AGENT_STATE_UNKNOWN&&(0,l.B)("Agent state is unknown on polling"),[2]}})}),[n,e,t])}function eQ(e){var t=(0,L.Gk)(),n=(0,E._)((0,C.useState)(!0),2),o=n[0],a=n[1],s=(0,j.ob)(L.QV),l=(0,j.ob)(L.N2);return(0,C.useEffect)(function(){if(t){var n=!1;return function(){o.apply(this,arguments)}(),function(){n=!0}}function o(){return(o=(0,r._)(function(){var t;return(0,i.YH)(this,function(r){switch(r.label){case 0:if(!e)return[2];return a(!0),[4,s({sessionId:e})];case 1:if(t=r.sent(),n)return[2];return t.ok&&l({sessionId:e,runState:t.payload.runState,transitionReason:t.payload.transitionReason}),a(!1),[2]}})})).apply(this,arguments)}},[t,s,e,l]),{loading:o,state:(0,j.h)(eV)}}function eX(e,t){var n=(0,k.A)(t),r=(0,C.useRef)(!1);(0,L.sS)(e,function(e){if(!r.current&&(null==e?void 0:e.$kind)==="createEventMessage"){var t,i=e.createEventMessage.contents.contents;(null==i?void 0:i.$kind)==="agentPlanEventContents"&&(null===(t=i.agentPlanEventContents.Approver)||void 0===t?void 0:t.approver.id)&&(n.current(),r.current=!0)}})}var eJ=(0,_.eU)(function(e){var t=new Set,n=!0,r=!1,i=void 0;try{for(var o,a=e(eh.rA).byId.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.contents.contents;if((null==s?void 0:s.$kind)==="agentTimelineEventContents"){var l=s.agentTimelineEventContents.toolData;if((null==l?void 0:l.$kind)==="acknowledgeUserMessage"){var u=!0,c=!1,d=void 0;try{for(var p,f=l.acknowledgeUserMessage.eventIds[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var v=p.value;t.add(v)}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t});function e0(e){return(0,j.h)((0,C.useMemo)(function(){return(0,W.mg)(eJ,function(t){return t.has(e)})},[e]))}function e1(){var e,t,n=(0,L.Gk)(),o=(0,j.ob)(L.N9),a=(0,j.h)(eW),s=(0,j.ob)(eW),l=(0,E._)((e={variables:{replId:(0,eb.A)()}},t=(0,D._)({},B,e),G._(z,t)),1)[0];(0,C.useEffect)(function(){if(n&&!a){var e=!1;return!function(){t.apply(this,arguments)}(),function(){e=!0}}function t(){return(t=(0,r._)(function(){var t,n,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:return[4,o({archivedOnly:!1,sessionTypes:eg.Ly})];case 1:if(t=i.sent(),e)return[2];if(null==t?void 0:t.sessions.length)return[3,3];return[4,l()];case 2:if(!((null===(n=(r=i.sent()).data)||void 0===n?void 0:n.getRepl.__typename)==="Repl"&&r.data.getRepl.supportsAgent))return[2];i.label=3;case 3:return s(!0),[2]}})})).apply(this,arguments)}},[n,o,a,s,l])}function e2(e){var t,n=(0,eU._P)({controlName:"flag-chatter-agent-session-read-only"}),r=(0,C.useMemo)(function(){return(0,_.eU)(function(t){if(!e)return!1;var n=t(eE),r=n[n.length-1];return(null==r?void 0:r.id)!==e})},[e]),i=(t=(0,j.NC)(),(0,em.Rj)(function(){return e?t.sessions.query({types:[x.dF3.AGENT_SESSION]}).select(function(t){var n=Array.from(t.values()).sort(function(e,t){return t.created.getTime()-e.created.getTime()}).shift();return(null==n?void 0:n.id)!==e}):null},[t,e],{default:!1})),o=(0,j.h)(r);return n?i:o}var e5=(0,_.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,o,a,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(r=n.eventId,o=n.stepId,a=n.choice,!(s=e(eh.rA).byId.get(r)))throw Error("Event not found: ".concat(r));return[4,t(L.xd,{sessionId:s.sessionId,parentEventId:s.parentEventId,data:{kind:"stepTooComplex",state:a,stepId:o,model:x.e3q.MODEL_TYPE_UNKNOWN}})];case 1:return i.sent(),[2]}})});return function(t,n,r){return e.apply(this,arguments)}}());function e4(){return(0,j.ob)(e5)}function e3(e){var t=(0,C.useMemo)(function(){return(0,_.eU)(function(t){if(!e)return!1;var n=e?t(eh.B6).get(e):null;if(!n)return!1;var r=0,i=!0,o=!1,a=void 0;try{for(var s,l=(0,A.Xs)({parentId:n.sessionCreationEventId,parentToActiveChild:new Map,events:t(eh.rA)})[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)if(s.value.sender.type===x.utd.USER&&10==++r)return!0}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return!1})},[e]);return(0,j.h)(t)}function e7(e){var t=(0,C.useMemo)(function(){return(0,_.eU)(function(t){var n=t(eh.rA).byId.get(e);if((null==n?void 0:null===(c=n.contents.contents)||void 0===c?void 0:c.$kind)!=="agentPlanEventContents")return null;var r=n.contents.contents.agentPlanEventContents,i=r.planId,o=t(eh.rA),a=!0,s=!0,l=!1,u=void 0;try{for(var c,d,p,f=(0,A.Xs)({parentId:n.id,parentToActiveChild:new Map,events:o})[Symbol.iterator]();!(s=(p=f.next()).done);s=!0){var v=p.value.contents.contents;if((null==v?void 0:v.$kind)==="agentPlanEventContents"){var h=v.agentPlanEventContents;h.planId===i&&h.requiresApproval?a=!0:r.planId!==i&&r.requiresApproval&&(a=!1)}}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return r.requiresApproval?{description:r.objective.description,isEditable:a,steps:r.step.subSteps,requiresApproval:!0,approverId:null,sessionId:n.sessionId}:{description:r.objective.description,isEditable:a,requiresApproval:!1,approverId:null===(d=r.Approver)||void 0===d?void 0:d.approver.id,steps:r.step.subSteps,sessionId:n.sessionId}})},[e]);return(0,j.h)(t)}var e8=(0,_.eU)(null,function(e,t,n){var r,i=n.eventId,o=n.steps,a=e(eh.rA).byId.get(i);if((null==a?void 0:null===(r=a.contents.contents)||void 0===r?void 0:r.$kind)!=="agentPlanEventContents")throw Error("Event is not a plan event");var s=a.contents.contents.agentPlanEventContents,l=(0,F.jM)(s,function(e){e.step.subSteps=o});t(L.xd,{sessionId:a.sessionId,parentEventId:a.id,data:{kind:"agentPlan",planId:l.planId,objective:l.objective,step:l.step,requiresApproval:!1,model:x.e3q.MODEL_TYPE_UNKNOWN,approved:!0}})});function e6(){return(0,j.ob)(e8)}var e9=n(62580);function te(e){var t,n,o,a,s,u,c,d,p,f,v,h,g,m,U,y,w,O,T,R,D,M,Y,$,F,W,q,H,G,V,B,z,K,Q,X,J=e.replId,ee=e.currentUserId,et=e.currentUserTimeCreated,en=e.hasAccessToAdvancedModel,er=e.children,ei=(n=(t={replId:J,currentUserId:ee,currentUserTimeCreated:et,hasAccessToAdvancedModel:en,testStore:e.testStore,agentChatEnabled:e.agentChatEnabled,orgId:e.orgId}).replId,o=t.currentUserId,a=t.currentUserTimeCreated,s=t.orgId,u=t.hasAccessToAdvancedModel,c=t.agentChatEnabled,d=t.testStore,p=(0,e9.gc)("assistantAdvancedModelOverride").preferences.assistantAdvancedModelOverride,v=(f={replId:n,currentUserId:o,orgId:s,onProtocolError:function(e){(0,l.B)(e.message,{code:e.type})},onRetriesExceeded:function(){(0,Z.flushSync)(function(){return M.set(L.Ne,!0)})}}).endpoint,h=f.replId,g=f.currentUserId,m=f.orgId,U=f.onRetriesExceeded,y=f.onProtocolError,O=(w=(0,E._)((0,C.useState)(null),2))[0],T=w[1],R=(0,k.A)(U),D=(0,k.A)(y),(0,C.useEffect)(function(){var e=(0,x.hVx)({currentUserId:g}),t=new x.ZnQ({clientId:e,serverId:N,logger:P,getEndpoint:(0,r._)(function(){var t,n;return(0,i.YH)(this,function(r){switch(r.label){case 0:if(v)return[2,v];return[4,b(h,e,m)];case 1:return t=r.sent(),(n=new URL((0,I.qK)())).searchParams.set("auth_token",t),[2,n]}})}),onProtocolError:function(e){var t;null===(t=D.current)||void 0===t||t.call(D,e)},onRetriesExceeded:function(e){var t;null===(t=R.current)||void 0===t||t.call(R,e)}});return T(t),function(){t.close(),T(null)}},[v,h,g,m,R,D]),M=(0,E._)((0,C.useState)(function(){if(d)throw Error("testStore in only meant for tests");var e=null!=d?d:(0,_.y$)();return!0===c&&e.set(eW,c),e}),1)[0],(0,C.useEffect)(function(){M.set(L.Ai,{replId:n,currentUserId:o,currentUserTimeCreated:new Date(a),hasAccessToAdvancedModel:u,assistantAdvancedModelOverride:p,defaultAssistantChatMode:u?"advanced":"basic",defaultAssistantInlineMode:u?"advanced":"basic"})},[M,n,o,a,u,p]),(0,C.useEffect)(function(){if(O&&null!==n){var e=null,t=O.status.subscribe(function(t){if(null==e||e(),e=null,"connected"!==t){(0,Z.flushSync)(function(){return M.set(L.U4,O.status.current)});return}e=(0,A.Ei)(O.service,n,function(e){M.set(L.jA,e)}),M.set(L.U4,t)});return M.set(L.iE,O),M.set(L.U4,O.status.current),function(){null==e||e(),t.unsubscribe(),M.set(L.U4,"connecting"),M.set(L.iE,null)}}},[n,M,O]),{store:M,yapper:($=(Y={connection:O,replId:n,user:(0,C.useMemo)(function(){return{id:o.toString(),type:x.utd.USER,isTeam:!1,roles:[],membership:u?x.VMq.CORE:x.VMq.FREE,orgId:"",username:"",timeCreated:new Date(a)}},[o,u,a]),hasAdvancedModel:u,overrideModel:p||null,onError:function(e,t){setTimeout(function(){(0,l.B)(e,null!=t?t:void 0)})}}).connection,F=Y.replId,W=Y.user,q=Y.hasAdvancedModel,G=void 0===(H=Y.overrideModel)?null:H,V=Y.onError,z=(B=(0,E._)((0,C.useState)(null),2))[0],K=B[1],Q=(0,k.A)(V),X=!!V,(0,C.useEffect)(function(){if($){var e=new x.eGc({connection:$,replId:F,user:W,hasAdvancedModel:q,overrideModel:G,onError:X?function(e,t){var n;return null===(n=Q.current)||void 0===n?void 0:n.call(Q,e,t)}:void 0});return K(e),function(){e.dispose(),K(null)}}},[$,F,X]),(0,C.useEffect)(function(){z&&(z.user.current!==W&&z.user.set(W),z.hasAdvancedModel.current!==q&&z.hasAdvancedModel.set(q),z.overrideModel.current!==G&&z.overrideModel.set(null!=G?G:null))},[z,W,q,G]),z)}),eo=ei.store,ea=ei.yapper;return ea?(0,S.Y)(j.tv,{store:eo,yapper:ea,children:er}):null}function tt(){var e,t,n,o,a,s,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=(0,E._)((0,C.useState)(null!==(s=l.initialSessionId)&&void 0!==s?s:null),2),c=u[0],d=u[1],p=(0,E._)((0,C.useState)(!1),2),f=p[0],v=p[1],h=(0,E._)((t=(e=(0,E._)((0,C.useState)(new Map),2))[0],n=e[1],[t,(0,C.useCallback)(function(e){n(function(t){return(0,F.jM)(t,function(t){null===e.eventId?t.delete(e.parentEventId):t.set(e.parentEventId,e.eventId)})})},[])]),2),g=h[0],m=h[1],U=(0,L.UK)().replId;(0,L.H4)(U);var b=(0,L.Lt)(),y=(0,L.Wb)(),S=(0,L.Wm)(),Z=(0,L.oz)(),_=(0,L.Xx)(),A=(0,L.bR)(),w=(0,L.kB)(c,g),I=(0,L.FS)(),O=(0,k.A)(f),T=(0,L.RM)(c,g);(0,C.useEffect)(function(){return T.subscribe(function(e){if(e&&e.sender.type===x.utd.AI){var t=e.state===x.qOk.COMPLETE;!0===O.current&&t&&v(!1)}})},[T,O]);var N=(0,k.A)(l.onError),R=(0,k.A)(l.onSession),P=(0,C.useCallback)((o=(0,r._)(function(e){var t,n,r,o,a,s,l,u,p,f,h,m=arguments;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=m.length>1&&void 0!==m[1]?m[1]:{},v(!0),c)return[3,3];return[4,Z({replId:U,sessionType:null!==(r=t.newSessionType)&&void 0!==r?r:function(e){switch(e){case"inlineAction":case"shellSuggestion":return x.dF3.INLINE_CHAT;case"translate":case"byoPrompt":return x.dF3.SINGLE_USE_SESSION;default:return x.dF3.CHAT}}(e.kind)})];case 1:if(!(o=i.sent()))return null===(a=N.current)||void 0===a||a.call(N,"Error creating session"),[2];return d(o.id),null===(n=R.current)||void 0===n||n.call(R,o.id,o.sessionType),[4,A({parentEventId:null!==(s=t.parentEventId)&&void 0!==s?s:o.sessionCreationEventId,sessionId:o.id,data:e,getFileContext:t.getFileContext||void 0})];case 2:return l=i.sent(),"localShellExecution"===e.kind&&v(!1),l.ok||null===(u=N.current)||void 0===u||u.call(N,"Error sending message"),[2];case 3:if(!(p=S(c,g)))throw Error("Expected parent id");return[4,A({parentEventId:p,sessionId:c,data:e,getFileContext:t.getFileContext||void 0})];case 4:return f=i.sent(),"localShellExecution"===e.kind&&v(!1),f.ok||null===(h=N.current)||void 0===h||h.call(N,"Error sending message"),[2]}})}),function(e){return o.apply(this,arguments)}),[c,Z,A,S,g,U,R,N]),j=(0,C.useCallback)((a=(0,r._)(function(e){var t;return(0,i.YH)(this,function(n){switch(n.label){case 0:if(!c)throw Error("can't get event without a session");if((t=I(e)).length>0)return[2,t];return[4,_({sessionId:c})];case 1:return n.sent(),[2,I(e)]}})}),function(e){return a.apply(this,arguments)}),[c,_,I]);return{sendMessage:P,stopMessage:w,loading:f,setSessionId:d,sessionId:c,parentToActiveChild:g,setActiveChild:m,getEventsByParentId:j,hasAnyChatSessions:b,hasAnyAgentSessions:y}}var tn=n(27189),tr=n(32596),ti=n(90367),to=n(3596);function ta(e,t){var n,r=(n=(0,eh.wV)(e),(0,C.useMemo)(function(){return(0,_.eU)(function(e){return n?(0,eh.$L)(n,e(eh.rA),t).filter(function(e){var t=(0,E._)(e,2),n=t[0];return"aiMessage"===t[1]&&function(e){if(null==e||!(0,x.TW7)(e,"messageEventContents"))return!1;var t=(0,x.QNh)(e.contents.contents).assistantProposedActions;return t.didCountEditRequest||t.workflowConfigurations.length>0}(n)}).map(function(e){var t=(0,E._)(e,2),n=t[0];return t[1],n}):[]})},[t,n])),i=(0,C.useMemo)(function(){return(0,W.mg)(r,function(e){var t=e[e.length-1];if(!t)return null;var n=(0,ti.zY)(t),r=(0,x.VFn)(n,"proposedFileChanges")?(0,x.QNh)(n):void 0,i=(0,ti.JD)(t);return{eventId:t.id,summary:(null==i?void 0:i.summary)||(null==r?void 0:r.summary)||""}})},[r]);return(0,j.h)(i)}function ts(e){var t=(0,C.useMemo)(function(){return(0,_.eU)(function(t){var n=0;if(null===e)return 0;var r=t(eh.rA),i=!0,o=!1,a=void 0;try{for(var s,l=r.byId[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=(0,E._)(s.value,2)[1];(null==u?void 0:u.sessionId)===e&&tu(u)&&(n+=to.a7)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return n})},[e]);return(0,j.h)(t)}function tl(e){return tu((0,j.h)((0,L.Xz)(e)))}function tu(e){var t=null==e?void 0:e.contents.contents;if(!e||!(0,x.VFn)(t,"messageEventContents"))return!1;var n=t.messageEventContents,r=n.extraActions,i=n.assistantProposedActions;if(e.created<new Date("2025-01-22")){if((0,x.VFn)(r,"proposedFileChanges")&&r.proposedFileChanges.changes.length||i.fileChanges.length>0||i.shellCommands.length>0)return!0}else if(i.didCountEditRequest)return!0;return!1}var tc=n(14733),td=n(24481);function tp(e){var t,n,o=e.sessionId,a=(0,td.A)().git,s=(0,L.WS)(),l=(0,L.dP)(),u=eB(),c=eq(),d=(0,L.D2)(),p=(0,C.useCallback)(function(){return new Promise(function(e,t){switch(u.runState){case x.g32.AGENT_STATE_PAUSING:setTimeout(function(){p().then(e,t)},1e3);break;case x.g32.AGENT_STATE_NOT_STARTED:case x.g32.AGENT_STATE_PAUSED:e();break;case x.g32.AGENT_STATE_UNKNOWN:t();break;case x.g32.AGENT_STATE_RUNNING:d({sessionId:o,runState:x.g32.AGENT_STATE_PAUSED}).then(function(){return e()},t);break;default:t("Unreachable agent run state: ".concat(u.runState))}})},[u.runState,d,o]);return{commitAppliedChanges:(0,C.useCallback)((t=(0,r._)(function(e){var t,n,r,u,c,d,p,f,v,h,g,m,U,b,y,E,S;return(0,i.YH)(this,function(i){switch(i.label){case 0:return t=e.changes,n=e.summary,r=e.eventId,a.forceRefresh(),[4,a.status()];case 1:if((u=i.sent()).error)return[2,u];if(0===u.changes.length||(c="Assistant checkpoint",0===t.length))return[2,{error:ev.NOTHING_TO_COMMIT}];n&&(c+=": ".concat(n)),c+="\n\nAssistant generated file changes:\n",d=!0,p=!1,f=void 0;try{for(v=t[Symbol.iterator]();!(d=(h=v.next()).done);d=!0)g=h.value,c+="- ".concat(g.filePath,": ").concat(g.changeSummary,"\n")}catch(e){p=!0,f=e}finally{try{d||null==v.return||v.return()}finally{if(p)throw f}}return(m=s(r))&&(null==(U=l(m.parentEventId))?void 0:U.content)&&(c+="\n---\n\nUser prompt:\n\n".concat(U.content)),b=u.changes.filter(function(e){return!e.staged}).filter(function(e){return tc.UC.includes(e.path)}).map(function(e){return e.path}),y=u.changes.filter(function(e){return e.staged}).map(function(e){return e.path}),E=t.map(function(e){return e.filePath}),S=new Set((0,tn._)(b).concat((0,tn._)(y),(0,tn._)(E))),[4,a.stageFiles({add:Array.from(S)})];case 2:return i.sent(),[2,a.commit({message:c,trailers:{"Replit-Commit-Author":"Assistant","Replit-Commit-Session-Id":o}})]}})}),function(e){return t.apply(this,arguments)}),[a,s,l,o]),stageChanges:(0,C.useCallback)((n=(0,r._)(function(e){var t,n;return(0,i.YH)(this,function(r){switch(r.label){case 0:return[4,a.status()];case 1:if((t=r.sent()).error)return[2,t];if(0===(n=null!=e?e:t.changes.map(function(e){return e.path})).length)return[2];return[2,a.stageFiles({add:n})]}})}),function(e){return n.apply(this,arguments)}),[a]),agentRunState:u.runState,pauseAgent:p,supportsAgent:c,intent:x.qRv.ITERATIVE_AGENT}}function tf(e){var t,n,r=e.sessionId,i=e.parentToActiveChild,o=e.useLatestEventId,a=void 0!==o&&o,s=(0,L.bR)(),l=null===(t=(0,L.ey)(null!=r?r:null,i))||void 0===t?void 0:t.id,u=null===(n=ta(null!=r?r:null,i))||void 0===n?void 0:n.eventId,c=(0,L.Wm)();return(0,C.useCallback)(function(e){var t=e.appliedChanges,n=e.commitHash;if(null!=r&&null!=u){var o=l;if(a&&(o=c(r,i)),o)return s({sessionId:r,parentEventId:o,data:{kind:"iterativeAgent",action:{eventIdWhichProposedChanges:u,appliedChanges:t,commitHash:n},model:x.e3q.ADVANCED}})}},[r,u,l,a,s,c,i])}function tv(e){var t,n,o,a,s,l,u,c=e.sessionId,d=e.parentToActiveChild,p=e.eventId,f=null===(s=ta(null!=c?c:null,d))||void 0===s?void 0:s.eventId,v=(0,L.Xz)(p),h=(0,j.h)(v),g=(null==h?void 0:h.state)===x.qOk.COMPLETE,m=(0,ti.JD)(h),U=(t=null!=c?c:null,n=(0,C.useCallback)(function(e){return!!((0,x.VFn)(e,"appliedFileChanges")||(0,x.VFn)(e,"revertedFileChanges"))&&(0,x.QNh)(e).eventWhichProposedChanges===p},[p]),o=(0,tr.b)(t,d,"iterativeAgentEventContents"),(0,C.useMemo)(function(){return(0,_.eU)(function(e){var t=e(o);if(t){var r=t.filter(function(e){return!!(0,x.VFn)(e.contents.contents,"iterativeAgentEventContents")&&n((0,x.QNh)(e.contents.contents).contents)});return r[r.length-1]}})},[o,n])),b=(0,j.h)(U),y=null==b?void 0:null===(u=b.contents)||void 0===u?void 0:null===(l=u.contents)||void 0===l?void 0:l.iterativeAgentEventContents.contents,E="pending";(0,x.VFn)(y,"appliedFileChanges")&&(0,x.QNh)(y).eventWhichProposedChanges===p?E="applied":(0,x.VFn)(y,"revertedFileChanges")&&(0,x.QNh)(y).eventWhichProposedChanges===p&&(E="reverted");var S=tf({sessionId:c,parentToActiveChild:d}),Z=(0,C.useCallback)((a=(0,r._)(function(e){return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,S({appliedChanges:e.appliedChanges,commitHash:e.commitHash})];case 1:return t.sent(),[2]}})}),function(e){return a.apply(this,arguments)}),[S]),A=(0,C.useMemo)(function(){return tu(h)},[h]);return{latestEventIdWhichProposedChanges:f,applyLatestChanges:Z,changeStatus:E,changeSetSummary:null==m?void 0:m.summary,didCountEditRequest:A,appliedOrRevertedChanges:{contents:y,created:null==b?void 0:b.created},isMessageComplete:g}}function th(e){var t=(0,L.bR)();return(0,C.useCallback)(function(n){if(null!=e)return t({sessionId:e,parentEventId:n.eventIdWhichAppliedChanges,data:{kind:"iterativeAgent",action:n,model:x.e3q.ADVANCED}})},[t,e])}function tg(e){var t,n,o=e.sessionId,a=e.parentToActiveChild,s=e.eventIdWhichProposedPackageInstall,l=(0,L.bR)(),u=(0,L.Wm)();return{sendInstallingPackagesMessage:(0,C.useCallback)((t=(0,r._)(function(e){var t,n,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.processId,n=e.messageContentsOffset,!o)return[2];return r=u(o,a),[4,l({sessionId:o,parentEventId:r,data:{kind:"iterativeAgent",action:{eventIdWhichProposedPackageInstall:s,processId:t,messageContentsOffset:n},model:x.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[s,u,a,l,o]),sendInstalledPackagesMessage:(0,C.useCallback)((n=(0,r._)(function(e){var t,n,r,c,d;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.installationOutput,n=e.exitCode,r=e.processId,c=e.messageContentsOffset,!o)return[2];return d=u(o,a),[4,l({sessionId:o,parentEventId:d,data:{kind:"iterativeAgent",action:{eventIdWhichProposedPackageInstall:s,installationOutput:t,messageContentsOffset:c,exitCode:n,processId:r},model:x.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return n.apply(this,arguments)}),[s,u,a,l,o])}}function tm(e){var t,n,o=e.sessionId,a=e.parentToActiveChild,s=e.eventIdWhichProposedShellExecution,l=(0,L.bR)(),u=(0,L.Wm)();return{sendStartedShellExecutionMessage:(0,C.useCallback)((t=(0,r._)(function(e){var t,n,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.processId,n=e.messageContentsOffset,!o)return[2];return r=u(o,a),[4,l({sessionId:o,parentEventId:r,data:{kind:"iterativeAgent",action:{eventIdWhichProposedShellExecution:s,processId:t,messageContentsOffset:n},model:x.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[s,u,a,l,o]),sendFinishedShellExecutionMessage:(0,C.useCallback)((n=(0,r._)(function(e){var t,n,r,c,d;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.commandOutput,n=e.exitCode,r=e.processId,c=e.messageContentsOffset,!o)return[2];return d=u(o,a),[4,l({sessionId:o,parentEventId:d,data:{kind:"iterativeAgent",action:{eventIdWhichProposedShellExecution:s,commandOutput:t,exitCode:n,processId:r,messageContentsOffset:c},model:x.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return n.apply(this,arguments)}),[s,u,a,l,o])}}function tU(e){var t,n=e.sessionId,o=e.parentToActiveChild,a=e.eventIdWhichProposedRunConfiguration,s=(0,L.bR)(),l=(0,L.Wm)();return(0,C.useCallback)((t=(0,r._)(function(e){var t,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.messageContentsOffset,!n)return[2];return r=l(n,o),[4,s({sessionId:n,parentEventId:r,data:{kind:"iterativeAgent",action:{eventIdWhichProposedRunConfiguration:a,messageContentsOffset:t},model:x.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[n,l,o,s,a])}function tb(e){var t,n=e.sessionId,o=e.parentToActiveChild,a=e.eventIdWhichProposedDeploymentConfiguration,s=(0,L.bR)(),l=(0,L.Wm)();return(0,C.useCallback)((t=(0,r._)(function(e){var t,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.messageContentsOffset,!n)return[2];return r=l(n,o),[4,s({sessionId:n,parentEventId:r,data:{kind:"iterativeAgent",action:{eventIdWhichProposedDeploymentConfiguration:a,messageContentsOffset:t},model:x.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[n,l,o,s,a])}function ty(e){var t,n=e.sessionId,o=e.parentToActiveChild,a=e.eventIdWhichProposedWorkflowConfiguration,s=(0,L.bR)(),l=(0,L.Wm)();return(0,C.useCallback)((t=(0,r._)(function(e){var t,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.messageContentsOffset,!n)return[2];return r=l(n,o),[4,s({sessionId:n,parentEventId:r,data:{kind:"iterativeAgent",action:{eventIdWhichProposedWorkflowConfiguration:a,messageContentsOffset:t},model:x.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[n,l,o,s,a])}var tE=u.ZU.Object({description:u.ZU.String(),name:u.ZU.Optional(u.ZU.String()),type:u.ZU.Optional(u.ZU.String()),before:u.ZU.Optional(u.ZU.String()),after:u.ZU.Optional(u.ZU.String()),file:u.ZU.Optional(u.ZU.Union([u.ZU.String(),u.ZU.Null()])),File:u.ZU.Optional(u.ZU.Object({$kind:u.ZU.String(),file:u.ZU.String()}))}),tS=u.ZU.Object({errors:x.wIV.properties.errors,suggestions:u.ZU.Array(tE)});function tC(e,t){var n=e.sessionId,a=e.eventId,s=(0,E._)((0,C.useState)(),2),l=s[0],u=s[1],d=(0,E._)((0,C.useState)(!0),2),p=d[0],f=d[1],v=(0,E._)((0,C.useState)(!1),2),h=v[0],g=v[1],m=tt({initialSessionId:n}),U=m.parentToActiveChild,b=m.getEventsByParentId,y=(0,eb.A)(),S=(0,L.gn)(),Z=(0,L.SI)(),_=(0,C.useRef)(function(){}),A=(0,C.useRef)(null),w=(0,L.RM)(n,U),I=(0,C.useRef)(!1);(0,C.useEffect)(function(){if(!I.current)return I.current=!0,!function(){e.apply(this,arguments)}(),function(){k()};function e(){return(e=(0,r._)(function(){var e,r;function s(t){k();try{var n=function(e){if((null===(t=e.contents.contents)||void 0===t?void 0:t.$kind)!=="hostingDebugSummaryEventContents")throw Error("Expected hostingDebugSummaryEventContents");var t,n=e.contents.contents.hostingDebugSummaryEventContents.result;if(!o.WT.Check(tS,n))throw(0,c.$J)(tS,n);return n}(t);u(n),f(!1)}catch(t){e(t)}}function l(e){e&&e.sender.type===x.utd.AI&&e.parentEventId===a&&e.state===x.qOk.COMPLETE&&s(e)}return(0,i.YH)(this,function(i){switch(i.label){case 0:return e=function(e){f(!1),t(e),g(!0)},S(n)||Z((0,x.jwg)({id:n,sessionType:x.dF3.HOSTING_DEBUG_SUMMARY,replId:y,sessionCreationEventId:a})),[4,b(a)];case 1:if((r=i.sent()[0])&&r.state===x.qOk.COMPLETE)return s(r),[2];return _.current=w.subscribe(l),A.current=setTimeout(function(){e(Error("Debug summary event timed out while loading.")),_.current()},3e4),[2]}})})).apply(this,arguments)}},[a,b,t,w,y,S,n,Z]);var k=function(){_.current(),A.current&&clearTimeout(A.current)};return{loading:p,error:h,debugResult:l}}function tZ(e){var t=e.onCode,n=tt(),r=n.sendMessage,i=n.stopMessage,o=n.loading,a=n.sessionId,s=n.parentToActiveChild,l=(0,E._)((0,C.useState)(!1),2),u=l[0],c=l[1],d=(0,E._)((0,C.useState)(null),2),p=d[0],f=d[1],v=(0,L.VN)(a,s),h=(0,k.A)(u);(0,C.useEffect)(function(){var e,n;if(a)return(null===(e=v.current)||void 0===e?void 0:e.code)&&t(null===(n=v.current)||void 0===n?void 0:n.code),v.subscribe(function(e){(null==e?void 0:e.code)&&t(e.code),(null==e?void 0:e.error)&&f(e.error),!!(null==e?void 0:e.completed)!==h.current&&c((null==e?void 0:e.completed)||!1)})},[a,t,v,h]);var g=(0,C.useCallback)(function(){return v.current},[v]),m=(0,C.useCallback)(function(){return f(null)},[]);return{sendMessage:(0,C.useCallback)(function(e){f(null),r({kind:"shellSuggestion",message:e.message,model:x.e3q.BASIC})},[r]),stopMessage:i,completed:u,error:p,clearError:m,loading:o,getCode:g}}function t_(e){var t=e.onTranslation,n=e.onError,r=tt(),i=r.sendMessage,o=r.stopMessage,a=r.loading,s=r.sessionId,l=r.parentToActiveChild,u=(0,C.useRef)(""),c=(0,E._)((0,C.useState)(!1),2),d=c[0],p=c[1],f=(0,E._)((0,C.useState)(null),2),v=f[0],h=f[1],g=(0,L.VN)(s,l),m=(0,k.A)(d);(0,C.useEffect)(function(){if(s)return g.subscribe(function(e){(null==e?void 0:e.code)&&t(e.code,e.completed,u.current),(null==e?void 0:e.error)&&(n(e.error),h(e.error)),!!(null==e?void 0:e.completed)!==m.current&&p((null==e?void 0:e.completed)||!1)})},[s,t,n,g,m,u]);var U=(0,C.useCallback)(function(){return g.current},[g]),b=(0,C.useCallback)(function(){return h(null)},[]);return{sendMessage:(0,C.useCallback)(function(e){u.current=e.content,h(null),i({kind:"translate",content:e.content,inputTarget:e.inputTarget,outputTarget:e.outputTarget,model:x.e3q.BASIC})},[i]),stopMessage:o,completed:d,error:v,clearError:b,loading:a,getCode:U}}function tx(){var e=(0,j.h)(L.TM),t=(0,j.ob)(L.TM),n=(0,j.Ou)(L.TM),r=(0,C.useCallback)(function(){return"basic"===n()?x.qRv.NONE:x.qRv.ITERATIVE_AGENT},[n]),i=(0,C.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n();return e.isAuthorized?"advanced"===t?x.e3q.ADVANCED:x.e3q.BASIC:x.e3q.MODEL_TYPE_UNKNOWN},[n]);return{assistantMode:e,setAssistantMode:t,getAssistantMode:n,getAssistantMessageIntent:r,getAssistantMessageModel:i}}function tA(){return{assistantInlineMode:(0,j.h)(L.mQ)}}var tw=n(16530),tI=["package-lock.json","yarn.lock","poetry.lock","replit.nix",".breakpoints"],tk=[".out",".pkl",".bin",".csv",".log",".zip",".tar",".gz"],tO=["node_modules",".config","venv",".next",".git"],tT=n(82845),tN=n(53654),tR=n(96367),tP=n(6710),tj=o.WT.Create(x.z91);function tL(e){return!(!(0,tN.m6)(e)||function(e){if("Dockerfile"===e.split("/").pop())return!1;var t=(0,tN.an)(e),n=tI.some(function(t){return e.endsWith(t)}),r=tk.some(function(t){return e.endsWith(t)}),i=tO.some(function(t){return e.split("/").some(function(e){return e===t})});return!t||n||r||i}(e))}function tD(e){return tM.apply(this,arguments)}function tM(){return(tM=(0,r._)(function(e){var t,n,o,a,s,l,u,c,d,p,f,v,h,g,m,U,b,y,S,C,Z,_,A,w,I,k,T,N,R,P,j,L,D,M,Y,$,F,W,q,H,G,V,B,z,K,Q,X,J,ee,et,en,er,ei,eo,ea,es;return(0,i.YH)(this,function(el){switch(el.label){case 0:t=e.filter,n=e.filePreferences,o=e.entrypoint,a=e.model,s=e.fs,l=e.targetedElementFile,u=(0,tw._)(e,["filter","filePreferences","entrypoint","model","fs","targetedElementFile"]),c=a.limits.fileContextCharacters,d=[],p=[],f=new Set,v=!0,h=!1,g=void 0;try{for(m=n[Symbol.iterator]();!(v=(U=m.next()).done);v=!0){if(y=(b=(0,E._)(U.value,2))[0],S=b[1],"exclude"===S){d.push(y);continue}if(!tL(y)){f.add(y);continue}p.push(y)}}catch(e){h=!0,g=e}finally{try{v||null==m.return||m.return()}finally{if(h)throw g}}C=[],Z=!0,_=!1,A=void 0;try{for(w=u.recentFiles[Symbol.iterator]();!(Z=(I=w.next()).done)&&(k=I.value,d.includes(k)||!tL(k)||!t(k)||p.includes(k)||(C.push(k),3!==C.length));Z=!0);}catch(e){_=!0,A=e}finally{try{Z||null==w.return||w.return()}finally{if(_)throw A}}if(T=(0,tn._)(p).concat((0,tn._)(C)),l&&tL(l)&&T.unshift(l),!(o&&T.length<10))return[3,2];return R=""===(N=(0,tN._6)(o))?tR.Dl:N,[4,s.readDir(R)];case 1:if(!(P=el.sent()).error){j=0,L=!0,D=!1,M=void 0;try{for(Y=P.children[Symbol.iterator]();!(L=($=Y.next()).done)&&(F=$.value,W=R===tR.Dl?F.filename:R+F.filename,d.includes(W)||!tL(W)||!t(W)||T.includes(W)||(T.push(W),1!=++j));L=!0);}catch(e){D=!0,M=e}finally{try{L||null==Y.return||Y.return()}finally{if(D)throw M}}}el.label=2;case 2:var eu;return O.vF.info("AI got file context",{numRecentFiles:C.length,numPreferredFiles:p.length,maxFiles:10}),q=T.slice(0,10),H=T.slice(10),[4,Promise.all(q.map((eu=(0,r._)(function(e){var t;return(0,i.YH)(this,function(n){return t=new Promise(function(e){return setTimeout(e,5e3)}),[2,Promise.race([Promise.all([s.readFile(e),function(){try{return s.getOTVersion(e)}catch(e){}return 0}()]),t])]})}),function(e){return eu.apply(this,arguments)})))];case 3:for(K=0,G=el.sent(),V=c,B=[],z=[];K<q.length;K++){if(Q=q[K],!(X=G[K])){O.vF.info("AI file read timeout",{filePath:Q});continue}if(ee=(J=(0,E._)(X,2))[0],et=J[1],ee.error){O.vF.info("AI failed to read file",{filePath:Q});continue}if((0,tP.A)(ee.content.toBuffer())){O.vF.info("GhostwriterChat filtered out binary file",{filePath:Q});continue}if(V<=0){H.push(Q);continue}if(er=(en=ee.content.toString()).slice(0,V),ei=en.length>er.length,es=null!==(ea=null==(eo=tT.Jh.from(Q))?void 0:eo.id)&&void 0!==ea?ea:(0,tN.an)(Q),ei){B.push(Q);continue}V-=er.length,z.push({filePath:Q,fileContent:er,fileVersion:et,language:es,referenceType:x.fDX.FILE,code:"",range:tj})}return[2,{fileContext:z,preferredFiles:p,mostRecentFile:C.length?C[0]:void 0,truncatedFiles:B,overflowingFiles:H,unsupportedPreferredFiles:f}]}})})).apply(this,arguments)}function tY(){var e=tx().assistantMode,t=t$(),n=t.basicModel,r=t.advancedModel,i=t.overrideModel;return null!=i?i:"advanced"===e?r:n}function t$(){var e=(0,j.dI)(),t=(0,em.J2)(e.models),n=tF();return(0,C.useMemo)(function(){var e,r,i=(0,E._)(null!==(e=null==t?void 0:t.basic)&&void 0!==e?e:[],1)[0],o=null!==(r=null==t?void 0:t.advanced)&&void 0!==r?r:[],a=null==t?void 0:t.override,s=o.find(function(e){return e.name.readable===(null==n?void 0:n.readable)}),l=(0,E._)(o.filter(function(e){return e.name.readable!==(null==n?void 0:n.readable)}),1)[0],u=(0,K.FC)(null==l?void 0:l.name)?l:ee.advanced,c=(0,K.FC)(null==a?void 0:a.name)?a:void 0;return{basicModel:(0,K.FC)(null==i?void 0:i.name)?i:ee.basic,advancedModel:(0,K.FC)(null==s?void 0:s.name)?s:u,overrideModel:c}},[t,n])}function tF(){var e=(0,eU._P)({controlName:"flag-assistant-advanced-model",type:"string",default:J.name.qualified});return(0,C.useMemo)(function(){return(0,K.P6)(e)},[e])}function tW(){var e=(0,j.dI)(),t=(0,em.J2)(e.models);return(0,C.useMemo)(function(){var e,n,r=(0,E._)(null!==(e=null==t?void 0:t.basic)&&void 0!==e?e:[],1)[0],i=(null!==(n=null==t?void 0:t.advanced)&&void 0!==n?n:[]).filter(function(e){return e.name.qualified!==J.name.qualified})[0];return{basicModel:(0,K.FC)(null==r?void 0:r.name)?r:et.basic,advancedModel:(0,K.FC)(null==i?void 0:i.name)?i:et.advanced,overrideModel:void 0}},[t])}var tq=n(51050),tH=n(24329),tG=n(78452);function tV(e,t){var n,r,i=(n=(0,I.qK)(),r=window.location.host.startsWith("staging")||n===tG.B.development||n===tG.B.staging,t===x.dF3.AGENT_SESSION?r?"2a95b8aa-201c-481e-8ee3-858a19efdc53":"430ef9d3-abfe-4318-8a6d-4cadfe35d0ce":r?"c50da37d-4044-4795-b28e-8e1d21473f96":"cf9ea4d0-b92a-4076-b8f9-44441d907f6a"),o="".concat("https://smith.langchain.com","/o/").concat("ed54f928-4630-409b-b66a-947e0fbac288","/projects/p/").concat(i),a=encodeURIComponent('{"duration":"7d"}'),s=(0,tH.stringify)({timeModel:a,searchModel:'{"filter":"and(eq(is_root, true), and(eq(metadata_key, \\"session_id\\"), eq(metadata_value, \\"'.concat(e,'\\")))"}')});return"".concat(o,"?").concat(s)}function tB(e){var t,n=(0,I.qK)(),r="https://cloud.temporal.io";switch(n){case tG.B.development:r="http://localhost:8233",t="default";break;case tG.B.staging:t="staging.ndbzr";break;case tG.B.production:default:t="production.ndbzr"}var i="".concat(r,"/namespaces/").concat(t,"/workflows"),o=(0,tH.stringify)({query:'session_id = "'.concat(e,'"')});return"".concat(i,"?").concat(o)}function tz(e,t){var n=(0,I.qK)(),r="prod";switch(n){case tG.B.development:case tG.B.staging:r="staging"}var i=(0,tH.stringify)({replid:e,sessionid:t,project:r});return"".concat("https://traceforge.replit.app","?").concat(i)}},88942:(e,t,n)=>{n.d(t,{Ku:()=>l,WQ:()=>d,qK:()=>c});var r=n(51050),i=n(78452),o=n(97285),a=n(68558),s="ghostwriter-chat-env",l=a.env.CHAT_SERVICE_OVERRIDE,u=o.A.get(s,"string"),c=function(){return l||u||((0,r.l)()?i.B.production:i.B.staging)};function d(e){o.A.set(s,e)}},32182:(e,t,n)=>{n.d(t,{AI:()=>v,NC:()=>d,Ou:()=>g,Pj:()=>p,dI:()=>c,h:()=>f,ob:()=>h,tv:()=>u});var r=n(94086),i=n(30758),o=n(51423),a=n(85085),s=n(8697),l=(0,i.createContext)(null);function u(e){var t=(0,i.useMemo)(function(){return{store:e.store,yapper:e.yapper}},[e.store,e.yapper]);return(0,r.Y)(l.Provider,{value:t,children:e.children})}function c(){var e=(0,i.useContext)(l);if(!e)throw Error("Expected Yapper in context");return e.yapper}function d(){var e=(0,i.useContext)(l);if(!e)throw Error("Expected Yapper in context");return e.yapper.chatter()}function p(){var e=(0,i.useContext)(l);if(!e)throw Error("Expected store in context");return e.store}function f(e){return(0,o.md)(e,{store:p()})}function v(e){return(0,s.k)(e,p())}var h=function(e){return(0,o.Xr)(e,{store:p()})};function g(e){return(0,a.yF)((0,i.useCallback)(function(t){return t(e)},[e]),{store:p()})}},4695:(e,t,n)=>{n.d(t,{Ei:()=>l,Qf:()=>c,Xs:()=>u});var r=n(75895),i=n(13454),o=n(66622),a=n(5482),s=n(20178);function l(e,t,n){var l=function(){},u=!1;function c(){return(c=(0,i._)(function(){var i,c,d,p,f,v,h,g,m;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,e.subscribeToReplEvents.subscribe({replId:t})];case 1:if(c=(i=o._.apply(void 0,[a.sent(),2]))[0],l=i[1],u)return[2];d=!1,p=!1,a.label=2;case 2:a.trys.push([2,7,8,13]),v=(0,r._)(c),a.label=3;case 3:return[4,v.next()];case 4:if(!(d=!(h=a.sent()).done)||(g=h.value,u))return[3,6];if(!g.ok)return(0,s.L)(g.payload),[3,5];n(g.payload.message),a.label=5;case 5:return d=!1,[3,3];case 6:return[3,13];case 7:return m=a.sent(),p=!0,f=m,[3,13];case 8:if(a.trys.push([8,,11,12]),!(d&&null!=v.return))return[3,10];return[4,v.return()];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(p)throw f;return[7];case 12:return[7];case 13:return[2]}})})).apply(this,arguments)}return!function(){c.apply(this,arguments)}(),function(){u=!0,l()}}function u(e){var t,n,r,i,o,s,l,u,c,d,p,f,v,h,g,m,U;return(0,a.YH)(this,function(a){switch(a.label){case 0:t=e.parentId,n=e.parentToActiveChild,r=e.events,i=t,a.label=1;case 1:if(!i||!(o=r.byParentId.get(i)))return[3,5];if(!(s=n.get(i)))return[3,3];if(!(l=r.byId.get(s)))return[3,5];return[4,l];case 2:return a.sent(),i=l.id,[3,1];case 3:u=[],c=!0,d=!1,p=void 0;try{for(f=o[Symbol.iterator]();!(c=(v=f.next()).done);c=!0)h=v.value,(g=r.byId.get(h))&&u.push(g)}catch(e){d=!0,p=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw p}}if(!(s=(m=u.sort(function(e,t){return e.created.getTime()-t.created.getTime()}).map(function(e){return e.id}))[m.length-1]))throw Error("Expected id");if(!(U=r.byId.get(s)))return[3,5];return[4,U];case 4:return a.sent(),i=U.id,[3,1];case 5:return[2]}})}function c(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=u(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.push(s.id)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},20178:(e,t,n)=>{n.d(t,{B:()=>i,L:()=>o});var r=n(55195);function i(e,t){return"string"==typeof e&&(e=Error(e)),r.v4(function(n){n.setTag("ai-chat",!0),t&&n.setExtras(t),r.Cp(e)}),e}function o(e){"UNEXPECTED_DISCONNECT"!==e.code&&i(e.message,{code:e.code})}n(88942)},32596:(e,t,n)=>{n.d(t,{b:()=>s});var r=n(66622),i=n(30758),o=n(70452),a=n(1314);function s(e,t,n){return(0,i.useMemo)(function(){return(0,o.eU)(function(i){var o=e?i(a.B6).get(e):null;return o?(0,a.$L)(o,i(a.rA),t).filter(function(e){var t,i=(0,r._)(e,2),o=i[0];return!!["aiMessage","userMessage","iterativeAgentAction"].includes(i[1])&&(null===(t=o.contents.contents)||void 0===t?void 0:t.$kind)===n}).map(function(e){var t=(0,r._)(e,2),n=t[0];return t[1],n}):null})},[n,t,e])}},7881:(e,t,n)=>{n.d(t,{N2:()=>R,H4:()=>$,TM:()=>P,mQ:()=>j,Ai:()=>k,iE:()=>L,U4:()=>D,N9:()=>ez,QV:()=>eZ,jA:()=>ec,Ne:()=>M,xd:()=>eS,UK:()=>O,oz:()=>eI,Xz:()=>ed,Al:()=>eR,jJ:()=>eW,Y9:()=>e2,rE:()=>eK,Xx:()=>eG,nt:()=>e4,VN:()=>eb,Wm:()=>ey,WS:()=>ep,FS:()=>ef,Vg:()=>e3,dP:()=>ej,gn:()=>X,Wb:()=>Q,Lt:()=>K,Gk:()=>F,q4:()=>W,OI:()=>q,ey:()=>eg,RM:()=>em,rh:()=>ev,H_:()=>eY,uY:()=>eM,gv:()=>eL,vX:()=>eD,ac:()=>eB,hM:()=>eu,sS:()=>el,or:()=>es,ql:()=>eF,dp:()=>eX,bR:()=>eC,C6:()=>eP,SI:()=>eO,kB:()=>eU,D2:()=>ex,GS:()=>e5,tZ:()=>eN});var r=n(13454),i=n(20837),o=n(43952),a=n(66622),s=n(27189),l=n(5482),u=n(30758),c=n(51297),d=n(70452),p=n(88165),f=n(85085),v=n(28668),h=n(4695),g=n(20178),m=n(32182),U=n(65640),b=!!window.location.search.includes("aiChatStateDebug=1"),y=(0,d.eU)(null,function(e,t,n){var r=n.label,i=n.payload;b&&U.log("aiChatState:",r,i)}),E=n(1314),S=n(90367),C=n(9209),Z=RegExp(".*?```([a-zA-Z0-9+#]+)\\n(.*?)(?:$|\\n$|\\n`$|\\n``$|\\n```)","gs"),_=function(e,t){for(var n,r=[];null!==(n=Z.exec(e));){var i=n[1],o=n[2];if(!1===t){var a=o.substring(0,o.lastIndexOf("\n"));r.push({language:i,code:a})}else r.push({language:i,code:o})}return r},x=n(26190),A=n(21980),w=n(79261),I=n(32596),k=(0,d.eU)({replId:null,currentUserId:0,currentUserTimeCreated:new Date,hasAccessToAdvancedModel:!1,defaultAssistantChatMode:"basic",defaultAssistantInlineMode:"basic",assistantAdvancedModelOverride:null});function O(){return(0,m.h)(k)}var T=(0,d.eU)(function(e){return e(k).hasAccessToAdvancedModel}),N=(0,d.eU)(function(e){return e(T)?v.VMq.CORE:v.VMq.FREE}),R=(0,d.eU)(null),P=(0,p.t_)(function(e){return e(k).defaultAssistantChatMode}),j=(0,p.t_)(function(e){return e(k).defaultAssistantInlineMode}),L=(0,d.eU)(null),D=(0,d.eU)("connecting"),M=(0,d.eU)(!1);function Y(e){if(!e)throw Error("Expected connection, provider probably not mounted, please make sure you useEffect for side-effects")}function $(e){if(null===e)throw Error("Expected replId to be non-null, did you use something in the wrong context?")}function F(){return"connected"===(0,m.h)(D)}function W(){return"error"===(0,m.h)(D)}function q(){return(0,m.h)(M)}function H(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=function(e){var t=null;if(e.updateEventOperations.length){var n="",r=!0,i=!1,o=void 0;try{for(var a,s,l=e.updateEventOperations[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;u.operationType===v.FeH.ADD&&"content"===u.key&&(n+=u.value)}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}switch(null===(a=e.contents.contents)||void 0===a?void 0:a.$kind){case"messageEventContents":t=e.contents.contents.messageEventContents;break;case"inlineActionEventContents":t=e.contents.contents.inlineActionEventContents}t&&(t.content=n)}return null!==t}(s),u=e.byId.get(s.id);((null==u?void 0:u.state)!==v.qOk.IN_PROGRESS||s.state===v.qOk.COMPLETE||l)&&e.byId.set(s.id,s);var c=e.byParentId.get(s.parentEventId);c?c.add(s.id):e.byParentId.set(s.parentEventId,new Set([s.id]));var d=e.bySessionId.get(s.sessionId);d?d.add(s.id):e.bySessionId.set(s.sessionId,new Set([s.id]))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}function G(e,t){return t.updated.getTime()-e.updated.getTime()}var V=(0,d.eU)(function(e){return(0,s._)(e(E.B6).values()).sort(G)}),B=(0,d.eU)(function(e){return(0,s._)(e(E.B6).values()).some(function(e){return e.sessionType===v.dF3.CHAT})}),z=(0,d.eU)(function(e){return(0,s._)(e(E.B6).values()).some(C._h)});function K(){return(0,m.h)(B)}function Q(){return(0,m.h)(z)}function X(){var e=(0,m.Ou)(E.B6);return(0,u.useCallback)(function(t){return e().get(t)},[e])}var J=new Map,ee=(0,d.eU)(null,function(e,t,n,i){var o=setInterval((0,r._)(function(){var e;return(0,l.YH)(this,function(r){return(e=J.get(n))&&t(E.rA,function(t){return(0,c.jM)(t,function(t){var r,i=t.byId.get(n);if(!i)throw Error("Expected event");var o=null;switch(null===(r=i.contents.contents)||void 0===r?void 0:r.$kind){case"messageEventContents":o=i.contents.contents.messageEventContents;break;case"inlineActionEventContents":o=i.contents.contents.inlineActionEventContents;break;case"shellSuggestionEventContents":o=i.contents.contents.shellSuggestionEventContents;break;case"translateEventContents":o=i.contents.contents.translateEventContents}o&&e.messageQueue.length>0&&(o.content+=e.messageQueue.shift()),e.complete&&0===e.messageQueue.length&&(clearInterval(e.interval),J.delete(n),i.state=v.qOk.COMPLETE)})}),[2]})}),10);J.set(n,{interval:o,messageQueue:[],complete:i===v.qOk.COMPLETE})}),et=(0,d.eU)(null,function(e,t,n){var r;switch(null===(r=n.contents.contents)||void 0===r?void 0:r.$kind){case"inlineActionEventContents":case"messageEventContents":t(ee,n.eventId,n.state)}t(E.rA,function(e){return(0,c.jM)(e,function(e){H(e,[(0,v.mMy)(n)])})})}),en=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){return(0,l.YH)(this,function(e){return t(E.rA,function(e){var t=e.byId.get(n.eventId),r=J.get(n.eventId);if(!t)return e;var a=t.state;r?r.complete||(r.complete=n.state===v.qOk.COMPLETE):a!==v.qOk.COMPLETE&&n.state===v.qOk.COMPLETE&&(a=n.state),n.state!==a&&(n=(0,o._)((0,i._)({},n),{state:a}));var s=(0,v.bAT)(t,n);return s!==t?(0,c.jM)(e,function(e){e.byId.set(n.eventId,s)}):e}),[2]})});return function(t,n,r){return e.apply(this,arguments)}}()),er=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){return(0,l.YH)(this,function(e){return t(E.B6,function(e){return(0,c.jM)(e,function(e){var t=(0,v.ApO)(n);e.set(t.id,t)})}),[2]})});return function(t,n,r){return e.apply(this,arguments)}}()),ei=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,i;return(0,l.YH)(this,function(o){return(r=e(E.B6).get(n.sessionId))&&((i=(0,v.Jrs)(r,n))!==r&&t(E.B6,function(e){return(0,c.jM)(e,function(e){e.set(i.id,i)})}),n.isActiveAgentSession&&t(R,{sessionId:r.id,runState:v.g32.AGENT_STATE_UNKNOWN})),[2]})});return function(t,n,r){return e.apply(this,arguments)}}()),eo=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,i,o;return(0,l.YH)(this,function(e){return r=n.sessionId,i=n.runState,o=n.transitionReason,r?t(R,{sessionId:r,runState:null!=i?i:v.g32.AGENT_STATE_UNKNOWN,transitionReason:o}):t(R,null),[2]})});return function(t,n,r){return e.apply(this,arguments)}}()),ea=(0,d.eU)(null);function es(e){var t=e.sessionId,n=e.replId,r=e.replOwnerPlanName;el(t,function(e){var i;if(e){if("updateAgentStateMessage"===e.$kind)!function(e){var t,n=e.sessionId,r=e.transitionReason,i=e.replId,o="";switch(null===(t=r.reasons)||void 0===t?void 0:t.$kind){case"userPaused":o="user_paused";break;case"planConcluded":o="plan_concluded";break;case"waitingOnPlanApproval":o="waiting_on_plan_approval";break;case"waitingOnUserResponse":o="waiting_on_user_input";break;case"rateLimited":o="quota_reached";break;case"error":o="agent_error_encountered";break;case"stepLimitExceeded":o="step_limit_exceeded"}o&&(0,w.pI)({action:o,replId:i,sessionId:null!=n?n:void 0})}({sessionId:t,replId:n,transitionReason:e.updateAgentStateMessage.transitionReason});else if("createEventMessage"===e.$kind&&(null===(i=e.createEventMessage.contents.contents)||void 0===i?void 0:i.$kind)==="agentTimelineEventContents"){var o,a,s,l=e.createEventMessage.contents.contents.agentTimelineEventContents;if("propose_new_mvp_plan"===l.toolName&&(0,w.pI)({action:"first_agent_message_received",replId:n,sessionId:null!=t?t:void 0,replOwnerPlanName:r}),(null===(o=l.toolData)||void 0===o?void 0:o.$kind)==="commitData"){var u=l.toolData.commitData.billingRate===v.pSr.ZERO_RATED;(0,w.pI)({action:"checkpoint_created",replId:n,sessionId:null!=t?t:void 0,freeCheckpoint:u,replOwnerPlanName:r})}if((null===(a=l.toolData)||void 0===a?void 0:a.$kind)==="agentPlanStepBegin"){var c=l.toolData.agentPlanStepBegin.planStep,d=c.id,p=c.name,f=c.blueprints;(0,w.pI)({action:"step_started",stepId:d,stepName:p,stepBlueprints:f,sessionId:null!=t?t:void 0,replId:n,replOwnerPlanName:r})}if((null===(s=l.toolData)||void 0===s?void 0:s.$kind)==="blueprintsSetup"){var h=l.toolData.blueprintsSetup.blueprintData;(0,w.pI)({action:"blueprints_setup",stepBlueprints:h.map(function(e){return e.name}),sessionId:null!=t?t:void 0,replId:n,replOwnerPlanName:r})}}else"updateEventMessage"===e.$kind&&e.updateEventMessage.typedOperations.map(function(e){var r;if((null===(r=e.operation)||void 0===r?void 0:r.$kind)==="agentTimelineEventSet"){var i,o=e.operation.agentTimelineEventSet.contents;(null===(i=o.toolData)||void 0===i?void 0:i.$kind)==="planProgressData"&&function(e){var t=e.sessionId,n=e.replId,r=e.toolName,i=e.stepData,o=null,a=i.id,s=i.name,l=i.blueprints;switch(r){case"mark_current_step_as_succeeded":o="step_completed";break;case"mark_current_step_as_failed":o="step_failed"}o&&(0,w.pI)({action:o,sessionId:null!=t?t:void 0,replId:n,stepId:a,stepName:s,stepBlueprints:l})}({sessionId:t,toolName:o.toolName,stepData:o.toolData.planProgressData.updatedPlanStep,replId:n})}})}})}function el(e,t){var n=(0,x.A)(t),r=(0,m.AI)(ea);(0,u.useEffect)(function(){return r.subscribe(function(t){if(t){var r=!1;switch(null==t?void 0:t.$kind){case"createEventMessage":r=e===t.createEventMessage.sessionId;break;case"updateEventMessage":r=e===t.updateEventMessage.sessionId;break;case"createSessionMessage":r=e===t.createSessionMessage.sessionId;break;case"updateSessionMessage":r=e===t.updateSessionMessage.sessionId;break;case"updateAgentStateMessage":r=e===t.updateAgentStateMessage.sessionId}r&&n.current(t)}})},[e,n,r])}function eu(e,t){el(e,function(e){switch(null==e?void 0:e.$kind){case"createEventMessage":var n=e.createEventMessage.error;n.type!==v.fqQ.EVENT_ERROR_TYPE_UNKNOWN&&t(n);break;case"updateEventMessage":var r=e.updateEventMessage.error;r.type!==v.fqQ.EVENT_ERROR_TYPE_UNKNOWN&&t(r)}})}var ec=(0,d.eU)(null,function(e,t,n){var r;switch(t(y,{label:"handleMessageAtom:"+(null!==(r=null==n?void 0:n.$kind)&&void 0!==r?r:"NO_EVENT"),payload:n}),t(ea,n),null==n?void 0:n.$kind){case"createEventMessage":t(et,n.createEventMessage);break;case"updateEventMessage":t(en,n.updateEventMessage);break;case"createSessionMessage":t(er,n.createSessionMessage);break;case"updateSessionMessage":t(ei,n.updateSessionMessage);break;case"updateAgentStateMessage":t(eo,n.updateAgentStateMessage)}});function ed(e){return(0,u.useMemo)(function(){return(0,d.eU)(function(t){return e?t(E.rA).byId.get(e):void 0})},[e])}function ep(){var e=(0,m.Ou)(E.rA);return(0,u.useCallback)(function(t){return e().byId.get(t)},[e])}function ef(){var e=(0,m.Ou)(E.rA);return(0,u.useCallback)(function(t){var n=e(),r=n.byParentId.get(t);if(!r)return[];var i=[],o=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=n.byId.get(c);d&&i.push(d)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return i},[e])}function ev(e){var t=(0,a._)((0,u.useState)(!1),2),n=t[0],i=t[1],o=F(),s=eG();return(0,u.useEffect)(function(){if(e&&o){var t=!1;return function(){n.apply(this,arguments)}(),function(){t=!0}}function n(){return(n=(0,r._)(function(){return(0,l.YH)(this,function(n){switch(n.label){case 0:if(i(!0),!e)throw Error("Expected sessionId");return[4,s({sessionId:e})];case 1:if(n.sent(),t)return[2];return i(!1),[2]}})})).apply(this,arguments)}},[s,e,o]),{loading:n}}function eh(e,t){var n=(0,E.te)(e);return(0,u.useMemo)(function(){return(0,d.eU)(function(e){var r,i=e(n);if(!i)return null;var o=e(E.rA),a=(0,h.Qf)({parentId:i.sessionCreationEventId,parentToActiveChild:t,events:o});return a.length&&null!==(r=o.byId.get(a[a.length-1]))&&void 0!==r?r:null})},[n,t])}function eg(e,t){return(0,m.h)(eh(e,t))}function em(e,t){return(0,m.AI)(eh(e,t))}function eU(e,t){var n=eh(e,t);return(0,f.yF)((0,u.useCallback)(function(e,t){var r=e(n);r&&r.state===v.qOk.IN_PROGRESS&&t(eA,r.id)},[n]),{store:(0,m.Pj)()})}function eb(e,t){var n=eh(e,t),r=(0,u.useMemo)(function(){return(0,d.eU)(function(e){var t=e(n);if(!t||t.sender.type===v.utd.USER)return null;var r=null,i=void 0;if((null===(o=t.contents.contents)||void 0===o?void 0:o.$kind)==="inlineActionEventContents"){var o,a,s,l,u=(r=t.contents.contents.inlineActionEventContents.content)?_(r,t.state===v.qOk.COMPLETE):null;i=null==u?void 0:null===(l=u[0])||void 0===l?void 0:l.code}else(null===(a=t.contents.contents)||void 0===a?void 0:a.$kind)==="shellSuggestionEventContents"?i=r=t.contents.contents.shellSuggestionEventContents.content:(null===(s=t.contents.contents)||void 0===s?void 0:s.$kind)==="messageEventContents"&&(i=r=t.contents.contents.messageEventContents.content);var c=t.state===v.qOk.COMPLETE,d=t.error.message;return d||!c||i||(d=r||"Something went wrong"),{code:i,completed:c,error:d}})},[n]);return(0,m.AI)(r)}function ey(){return(0,f.yF)((0,u.useCallback)(function(e,t,n,r){var i=e(E.B6).get(n);if(!i)throw Error("Expected session");var o=(0,h.Qf)({parentId:i.sessionCreationEventId,parentToActiveChild:r,events:e(E.rA)});return o.length?o[o.length-1]:i.sessionCreationEventId},[]),{store:(0,m.Pj)()})}var eE=new Map,eS=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var i,o,a,s,u;return(0,l.YH)(this,function(d){switch(d.label){case 0:return i=n.sessionId,o=n.parentEventId,a=n.data,s=n.getFileContext,(u=eE.get(i))||(u=new v.eux,eE.set(i,u)),[4,u.run((0,r._)(function(){var n,r,u,d,p,f,h,g,m,U,b,y,S,C,Z,_;return(0,l.YH)(this,function(l){switch(l.label){case 0:if(Y(n=e(L)),!(r=e(E.B6).get(i)))throw Error("Expected session");if(o!==r.sessionCreationEventId&&!e(E.rA).byId.get(o))return[2,{ok:!1,payload:{code:"UNCAUGHT_ERROR",message:"Frontend: Parent event not in graph"}}];if(d=(u=e(k)).currentUserId,p=u.currentUserTimeCreated,f=u.assistantAdvancedModelOverride,h=(0,c.jM)(a,function(e){a.model===v.e3q.ADVANCED&&"message"===a.kind&&a.intent===v.qRv.ITERATIVE_AGENT&&null!=f&&(e.model=f)}),m=(g=(0,v.kT_)({session:i,parent:o,model:h.model,sender:{id:d,membership:e(N),timeCreated:p},addToChild:!0,data:h})).event,U=g.request,t(E.rA,function(e){return(0,c.jM)(e,function(e){if(!m)throw Error("Expected event");H(e,[m])})}),!s)return[3,3];return[4,s()];case 1:return S=(y=l.sent()).fileContext,Z=void 0===(C=y.mostRecentFile)?"":C,[4,n.service.createEvent.rpc((0,c.jM)(U,function(e){var t;switch(null===(t=e.context.metadata)||void 0===t?void 0:t.$kind){case"messageEventContext":e.context.metadata.messageEventContext.mostRecentFile=Z,e.context.metadata.messageEventContext.fileContext=S;break;case"inlineActionEventContext":e.context.metadata.inlineActionEventContext.mostRecentFile=Z,e.context.metadata.inlineActionEventContext.fileContext=S}}))];case 2:return b=l.sent(),[3,5];case 3:return[4,n.service.createEvent.rpc(U)];case 4:b=l.sent(),l.label=5;case 5:if(!b.ok)return t(E.rA,function(e){return(0,c.jM)(e,function(e){var t,n=e.byParentId.get(o);n&&(n.delete(m.id),0===n.size&&e.byParentId.delete(o)),e.byParentId.delete(m.id),e.byId.delete(m.id),null===(t=e.bySessionId.get(i))||void 0===t||t.delete(m.id)})}),[2,b];return(b.payload.eventId!==m.id||b.payload.parentEventId!==m.parentEventId)&&(_=(0,c.jM)(m,function(e){e.id=b.payload.eventId,e.parentEventId=b.payload.parentEventId}),t(E.rA,function(e){return(0,c.jM)(e,function(e){var t=e.bySessionId.get(_.sessionId);t||(t=new Set,e.bySessionId.set(_.sessionId,t));var n=e.byParentId.get(m.parentEventId),r=e.byParentId.get(_.parentEventId);r||(r=new Set,e.byParentId.set(_.parentEventId,r));var i=e.byParentId.get(m.id);e.byId.delete(m.id),e.byParentId.delete(m.id),t.delete(m.id),null==n||n.delete(m.id),(null==n?void 0:n.size)===0&&m.parentEventId!==_.parentEventId&&e.byParentId.delete(m.parentEventId),e.byId.set(_.id,_),t.add(_.id),r.add(_.id),i&&e.byParentId.set(_.id,i)})})),[2,b]}})}))];case 1:return[2,d.sent()]}})});return function(t,n,r){return e.apply(this,arguments)}}());function eC(){return(0,m.ob)(eS)}var eZ=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,i,o;return(0,l.YH)(this,function(t){switch(t.label){case 0:if(r=n.sessionId,Y(i=e(L)),!(o=e(E.B6).get(r)))throw Error("Expected session");return[4,i.service.getAgentState.rpc({sessionId:r,replId:o.replId})];case 1:return[2,t.sent()]}})});return function(t,n,r){return e.apply(this,arguments)}}()),e_=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,i,o,a;return(0,l.YH)(this,function(s){switch(s.label){case 0:if(r=n.sessionId,i=n.runState,Y(o=e(L)),!(a=e(E.B6).get(r)))throw Error("Expected session");return i===v.g32.AGENT_STATE_PAUSED?t(R,{sessionId:a.id,runState:v.g32.AGENT_STATE_PAUSING,stateChangeInflight:!0}):i===v.g32.AGENT_STATE_RUNNING&&t(R,{sessionId:a.id,runState:v.g32.AGENT_STATE_RUNNING,stateChangeInflight:!0}),[4,o.service.updateAgentState.rpc({sessionId:r,replId:a.replId,runState:i,transitionReason:{}})];case 1:return[2,s.sent()]}})});return function(t,n,r){return e.apply(this,arguments)}}());function ex(){return(0,m.ob)(e_)}var eA=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r;return(0,l.YH)(this,function(t){return Y(r=e(L)),[2,r.service.abortEvent.rpc({eventId:n})]})});return function(t,n,r){return e.apply(this,arguments)}}()),ew=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,i,o,a;return(0,l.YH)(this,function(s){switch(s.label){case 0:return Y(r=e(L)),i=(0,v.ucN)(n),[4,r.service.createSession.rpc(i)];case 1:if(!(o=s.sent()).ok)return(0,g.L)(o.payload),[2,null];return a=(0,v.S0f)(o.payload.sessionId,o.payload.sessionCreationEventId,i),t(E.B6,function(e){return(0,c.jM)(e,function(e){if(null===a)throw Error("Expected session");e.set(a.id,a)})}),[2,a]}})});return function(t,n,r){return e.apply(this,arguments)}}());function eI(){return(0,m.ob)(ew)}var ek=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){return(0,l.YH)(this,function(e){return t(E.B6,function(e){return(0,c.jM)(e,function(e){if(null===n)throw Error("Expected session");e.set(n.id,n)})}),[2,n]})});return function(t,n,r){return e.apply(this,arguments)}}());function eO(){return(0,m.ob)(ek)}var eT=(0,d.eU)(null,function(e,t,n,r){var i=e(L);Y(i);var o=e(E.B6).get(n);if(!o)throw Error("Expected session");var a=(0,v.laq)(o,r),s=a.session,l=a.request;return o!==s&&t(E.B6,function(e){return(0,c.jM)(e,function(e){e.set(s.id,s)})}),i.service.updateSession.rpc(l)});function eN(){return(0,m.ob)(eT)}function eR(e,t){var n=ed(e);return(0,m.h)((0,u.useMemo)(function(){return(0,p.mg)(n,t)},[n,t]))}function eP(e,t){var n=(0,E.te)(e);return(0,m.h)((0,u.useMemo)(function(){return(0,p.mg)(n,t)},[n,t]))}function ej(){var e=(0,m.Ou)(E.rA);return(0,u.useCallback)(function(t){return function(e){var t,n=null==e?void 0:null===(t=e.contents.contents)||void 0===t?void 0:t.$kind;switch(n){case"messageEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.messageEventContents.content};case"inlineActionEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.inlineActionEventContents.content};case"shellSuggestionEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.shellSuggestionEventContents.content};case"localShellExecutionEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.localShellExecutionEventContents};case"agentTimelineEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.agentTimelineEventContents};case"benchmarkConclusion":return{$kind:n,content:null==e?void 0:e.contents.contents.benchmarkConclusion};case"iterativeAgentEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.iterativeAgentEventContents};default:return null}}(e().byId.get(t))},[e])}function eL(e){var t;return(0,m.h)((t=ed(e),(0,u.useMemo)(function(){return(0,p.mg)(t,S.zY)},[t])))}function eD(e){var t;return(0,m.h)((t=ed(e),(0,u.useMemo)(function(){return(0,p.mg)(t,S.m9)},[t])))}function eM(e){var t;return(0,m.h)((t=ed(e),(0,u.useMemo)(function(){return(0,p.mg)(t,S.JD)},[t])))}function eY(e){var t,n,r,i;return(0,m.h)((t=e.sessionId,n=e.eventId,r=e.parentToActiveChild,i=(0,I.b)(t,r,"iterativeAgentEventContents"),(0,u.useMemo)(function(){return(0,d.eU)(function(e){var t,r=e(i);return null!==(t=null==r?void 0:r.filter(function(e){if(!(0,v.VFn)(e.contents.contents,"iterativeAgentEventContents"))return!1;var t=(0,v.QNh)(e.contents.contents).contents;return(0,v.VFn)(t,"installingPackages")||(0,v.VFn)(t,"installedPackages")?(0,v.QNh)(t).eventWhichProposedPackageInstall===n:(0,v.VFn)(t,"startedShellExecution")||(0,v.VFn)(t,"finishedShellExecution")?(0,v.QNh)(t).eventWhichProposedShellExecution===n:(0,v.VFn)(t,"appliedRunConfiguration")?(0,v.QNh)(t).eventWhichProposedRunConfiguration===n:(0,v.VFn)(t,"appliedDeploymentConfiguration")?(0,v.QNh)(t).eventWhichProposedDeploymentConfiguration===n:!!(0,v.VFn)(t,"appliedWorkflowConfiguration")&&(0,v.QNh)(t).eventWhichProposedWorkflowConfiguration===n}))&&void 0!==t?t:[]})},[n,i])))}var e$=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n,r){var i,o,a,s,u,d,p;return(0,l.YH)(this,function(l){if(Y(i=e(L)),!(a=(o=e(E.rA)).byId.get(n)))throw Error("Expected event for id:"+n);if(!(s=o.byId.get(a.parentEventId)))throw Error("Expected parentEvent for id:"+a.parentEventId);return d=(u=(0,v.vSB)(s,r)).event,p=u.request,t(E.rA,function(e){return(0,c.jM)(e,function(e){H(e,[d])})}),[2,i.service.createEvent.rpc(p)]})});return function(t,n,r,i){return e.apply(this,arguments)}}());function eF(){return(0,m.ob)(e$)}function eW(e){var t=(0,u.useMemo)(function(){return(0,d.eU)(function(t){var n=t(E.rA),r=n.byId.get(e);if(!r)return null;var i=n.byId.get(r.parentEventId);return i?function(e,t){var n=[],r=t.byParentId.get(e.parentEventId);if(!r)return null;var i=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=t.byId.get(u);c&&n.push(c)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}var d=n.sort(function(e,t){return e.created.getTime()-t.created.getTime()}).map(function(e){return e.id});return{eventIds:d,index:d.indexOf(e.id),parentEventId:e.parentEventId}}(i,n):null})},[e]);return(0,m.h)(t)}function eq(){return(eq=(0,r._)(function(e,t,n){var r,i,o,a,s,u,c,d,p,f,h,g,m,U;return(0,l.YH)(this,function(l){switch(l.label){case 0:r=null,i=[],o=200,l.label=1;case 1:if(!(o>0))return[3,4];return[4,e.getEventList.rpc({sessionId:t,limit:500,AncestorsOf:r?{$kind:"ancestorsOf",ancestorsOf:r}:void 0})];case 2:if(!(a=l.sent()).ok)return[2,a];s=!0,u=!1,c=void 0;try{for(d=a.payload.shapes[Symbol.iterator]();!(s=(p=d.next()).done);s=!0)f=p.value,(h=n.byId.get(f.id))&&h.state===v.qOk.COMPLETE||i.push(f.id)}catch(e){u=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}if(a.payload.shapes.length<500||(r=a.payload.shapes[a.payload.shapes.length-1].id,n.byId.has(r)))return[3,4];l.label=3;case 3:return o--,[3,1];case 4:g=[],l.label=5;case 5:if(!i.length)return[3,7];return m=i.splice(0,500),[4,e.batchGetEvents.rpc({sessionId:t,eventIds:m})];case 6:if(!(U=l.sent()).ok)return[2,U];return g=g.concat(U.payload.events),[3,5];case 7:return[2,g]}})})).apply(this,arguments)}var eH=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,i,o,a;return(0,l.YH)(this,function(s){switch(s.label){case 0:if(r=n.sessionId,Y(i=e(L)),!e(E.B6).get(r))return[2];return o=A.vF.timeStart({action:"ai_session_events_fetch",sessionId:r}),[4,function(e,t,n){return eq.apply(this,arguments)}(i.service,r,e(E.rA))];case 1:if(t(y,{label:"fetchSessionEventsAtom",payload:a=s.sent()}),!Array.isArray(a))return[2,(0,g.L)(a.payload)];return o("AI session events fetched successfully",{sessionId:r,eventCount:a.length}),t(E.rA,function(e){return(0,c.jM)(e,function(e){H(e,a)})}),[2]}})});return function(t,n,r){return e.apply(this,arguments)}}());function eG(){return(0,m.ob)(eH)}var eV=(0,p.mg)(V,function(e){var t,n;return null!==(n=null===(t=e[0])||void 0===t?void 0:t.id)&&void 0!==n?n:null});function eB(){return(0,m.AI)(eV)}var ez=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,i,o,a,u,d,p,f,h,m,U,b,S,Z,_,x,A,w;return(0,l.YH)(this,function(l){switch(l.label){case 0:return r=n.archivedOnly,o=void 0===(i=n.sessionTypes)?C.K8:i,u=void 0===(a=n.limit)?1e3:a,p=void 0===(d=n.includeFirstSessionEvents)||d,f=e(k).replId,h=e(L),$(f),Y(h),[4,h.service.getReplSessions.rpc({replId:f,includeFirstSessionEvents:p,firstSessionEventsLimit:1,limit:u,beforeTimestamp:new Date("2099-01-01"),archived:r,sessionTypes:o})];case 1:if(t(y,{label:"fetchSessionsAtom",payload:m=l.sent()}),!m.ok)return[2,(0,g.L)(m.payload)];U=[],b=!0,S=!1,Z=void 0;try{for(_=m.payload.sessions[Symbol.iterator]();!(b=(x=_.next()).done);b=!0)A=x.value,(w=U).push.apply(w,(0,s._)(A.events)),A.events=[]}catch(e){S=!0,Z=e}finally{try{b||null==_.return||_.return()}finally{if(S)throw Z}}return t(R,m.payload.replAgentState.activeAgentSessionId?{sessionId:m.payload.replAgentState.activeAgentSessionId,runState:v.g32.AGENT_STATE_UNKNOWN}:null),t(E.B6,function(e){return(0,c.jM)(e,function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=m.payload.sessions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e.set(a.id,a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}})}),t(E.rA,function(e){return(0,c.jM)(e,function(e){H(e,U)})}),[2,m.payload]}})});return function(t,n,r){return e.apply(this,arguments)}}());function eK(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.archivedOnly,n=void 0!==t&&t,i=e.includeFirstSessionEvents,o=void 0===i||i,s=e.sessionTypes,c=void 0===s?C.K8:s,d=F(),p=(0,a._)((0,u.useState)(!0),2),f=p[0],v=p[1],h=(0,m.ob)(ez),g=(0,u.useMemo)(function(){return c},[c.join(",")]);return(0,u.useEffect)(function(){if(d){var e=!1;return function(){t.apply(this,arguments)}(),function(){e=!0}}function t(){return(t=(0,r._)(function(){return(0,l.YH)(this,function(t){switch(t.label){case 0:return v(!0),[4,h({archivedOnly:n,includeFirstSessionEvents:o,sessionTypes:g})];case 1:if(t.sent(),e)return[2];return v(!1),[2]}})})).apply(this,arguments)}},[d,h,n,o,g]),{loading:f,refetch:(0,u.useCallback)((0,r._)(function(){var e,t,n,r=arguments;return(0,l.YH)(this,function(i){switch(i.label){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},v(!0),[4,h({archivedOnly:null!==(t=e.archivedOnly)&&void 0!==t&&t,includeFirstSessionEvents:null===(n=e.includeFirstSessionEvents)||void 0===n||n})];case 1:return i.sent(),v(!1),[2]}})}),[h])}}var eQ=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,i,o,a;return(0,l.YH)(this,function(t){if(Y(r=e(L)),!(i=n.sessionId?e(E.B6).get(n.sessionId):null))throw Error("Expected session");return(a=null==(o=Array.from((0,h.Xs)({parentId:i.sessionCreationEventId,parentToActiveChild:new Map,events:e(E.rA)})).pop())?void 0:o.id)?[2,r.service.submitAgentUserFeedback.rpc({sessionType:i.sessionType,sessionId:n.sessionId,feedback:n.feedback,sourceEventId:a})]:[2]})});return function(t,n,r){return e.apply(this,arguments)}}());function eX(){return(0,m.ob)(eQ)}var eJ=(0,d.eU)(new Map),e0=(0,d.eU)(null,function(e,t,n,r){return t(eJ,function(e){return(0,c.jM)(e,function(e){null===r?e.delete(n):e.set(n,r)})})}),e1=(0,d.eU)(null,function(e,t,n){return t(eJ,function(e){return(0,c.jM)(e,function(e){var t=!0,r=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;e.set(s,"exclude")}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}})})});function e2(){return(0,m.ob)(e1)}function e5(){return(0,m.ob)(e0)}function e4(){return(0,m.h)(eJ)}function e3(){return(0,m.Ou)(eJ)}E.rA},1314:(e,t,n)=>{n.d(t,{$L:()=>p,B6:()=>l,rA:()=>u,te:()=>c,wV:()=>d});var r=n(30758),i=n(70452),o=n(4695),a=n(32182),s=n(90367),l=(0,i.eU)(new Map),u=(0,i.eU)({byId:new Map,byParentId:new Map,bySessionId:new Map});function c(e){return(0,r.useMemo)(function(){return(0,i.eU)(function(t){var n;return e&&null!==(n=t(l).get(e))&&void 0!==n?n:null})},[e])}function d(e){return(0,a.h)(c(e))}function p(e,t,n){var r=[],i=!0,a=!1,l=void 0;try{for(var u,c=(0,o.Xs)({parentId:e.sessionCreationEventId,parentToActiveChild:n,events:t})[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value,p=(0,s.u9)(d);p&&r.push([d,p])}}catch(e){a=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}return r}},90367:(e,t,n)=>{n.d(t,{JD:()=>l,m9:()=>s,u9:()=>o,zY:()=>a});var r=n(28668),i=n(84688);function o(e){var t=e.contents.contents;switch(null==t?void 0:t.$kind){case"benchmarkConclusion":return"benchmarkConclusion";case"messageEventContents":case"inlineActionEventContents":return e.sender.type===r.utd.USER?"userMessage":"aiMessage";case"iterativeAgentEventContents":return"iterativeAgentAction";default:return null}}function a(e){var t;return(null==e?void 0:null===(t=e.contents.contents)||void 0===t?void 0:t.$kind)==="messageEventContents"?null==e?void 0:e.contents.contents.messageEventContents.extraActions:null}function s(e){if((0,r.VFn)(null==e?void 0:e.contents.contents,"messageEventContents")){var t=e.contents.contents.messageEventContents.sources;if(null==t)return null;var n=t.slice().sort(function(e,t){return e.url.localeCompare(t.url)});return(0,i.Qq)(n,"url")}return null}function l(e){return(0,r.VFn)(null==e?void 0:e.contents.contents,"messageEventContents")?(0,r.QNh)(e.contents.contents).assistantProposedActions:null}},9209:(e,t,n)=>{n.d(t,{K8:()=>s,Ly:()=>o,_h:()=>l});var r=n(27189),i=n(28668),o=[i.dF3.AGENT_SESSION],a=[i.dF3.CHAT],s=(0,r._)(o).concat((0,r._)(a));function l(e){return!!e&&o.includes(e.sessionType)}},51050:(e,t,n)=>{n.d(t,{l:()=>r});var r=function(){var e=window.location.hostname;return e.includes("replit.com")&&!e.includes("staging.replit.com")}},14436:(e,t,n)=>{n.d(t,{Oz:()=>u,Wv:()=>o,Zy:()=>a,gH:()=>i,qL:()=>c,uE:()=>l,uF:()=>r,y9:()=>s});var r=48,i=240,o=1e3,a=1001,s=1002,l=1003,u=2,c=1},44576:(e,t,n)=>{n.d(t,{QJ:()=>s,b0:()=>l,m8:()=>c,xt:()=>u,z$:()=>a});var r=n(80039),i=n(98653),o=n(34805);function a(e){return e.toLocaleString(void 0,{minimumFractionDigits:2})}function s(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).round;return(e*r.yz).toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:t?0:void 0})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e/100).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t})}function u(e){return e<1e4?e.toLocaleString():(0,i.$)(e,1)}function c(e){return"".concat(u(e)," ").concat((0,o.A)("Cycle",e))}},18682:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(30758);function i(e,t){var n=(0,r.useRef)(null),i=(0,r.useCallback)(function(t){var r;null!==(r=n.current)&&void 0!==r&&r.contains(t.target)||e(t)},t);return(0,r.useEffect)(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n}},77781:(e,t,n)=>{n.d(t,{T:()=>c});var r=n(20837),i=n(45009),o=n(30632),a=n(72813);function s(){var e=(0,i._)(["\n  query CurrentUserId {\n    currentUser {\n      id\n    }\n  }\n"]);return s=function(){return e},e}var l={},u=(0,o.J1)(s());function c(){var e,t,n=(e=(0,r._)({},l,void 0),a.I(u,e)).data;return(null==n?void 0:null===(t=n.currentUser)||void 0===t?void 0:t.id)||null}},24129:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(13454),i=n(66622),o=n(5482),a=n(30758),s=n(41705);function l(e){var t,n=e.onUploadPreview,l=e.onUpload,u=e.onError,c=(0,i._)((0,a.useState)(!1),2),d=c[0],p=c[1];return{isLoading:d,uploadImage:(0,a.useCallback)((t=(0,r._)(function(e,t){var r,i,a,c,d,f;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(p(!0),"image/svg+xml"===e.type)return u(Error("SVG images are not allowed")),[2,!1];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,s.DK)(e)];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),u(Error("This image is over the ".concat(s.W6/1e6,"MB maximum"))),[2,!1];case 4:n({dataUrl:r}),i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,(0,s.AF)(r,t)];case 6:return i=o.sent(),[3,8];case 7:return a=o.sent(),c="Something went wrong",c=a.message.toLowerCase().includes("entity too large")?"This image is over the 1MB maximum":a.message,n({dataUrl:""}),p(!1),u(Error(c)),[2,!1];case 8:if(d=i.id,f=i.url,"number"!=typeof d)throw Error("Expected id");if("string"!=typeof f)throw Error("Expected url");p(!1),o.label=9;case 9:return o.trys.push([9,11,,12]),[4,l({id:d,url:f})];case 10:return o.sent(),[3,12];case 11:return u(o.sent()),[2,!1];case 12:return[2,!0]}})}),function(e,n){return t.apply(this,arguments)}),[u,l,n])}}},8697:(e,t,n)=>{n.d(t,{k:()=>i});var r=n(32904);function i(e,t){return(0,r.A)(function(){return{get current(){return t.get(e)},subscribe:function(n){return t.sub(e,function(){return n(t.get(e))})}}},[t,e])}},83733:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(30758),i=n(271);function o(){var e=(0,r.useContext)(i.A);if(!e)throw Error("Expected Repl info to be in context");return e.id}},98653:(e,t,n)=>{n.d(t,{$:()=>i});var r={padding:!0,symbols:["","K","M","G","T","P","E"]};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{padding:!1};Array.isArray(n)&&(n={symbols:n});var i=Object.assign({},r,n),o=i.symbols,a=i.padding,s=Math.sign(e)>=0,l=Math.log10(e=Math.abs(e))/3|0;if(0===l)return(s?"":"-")+e.toString();var u=o[l];if(!u)throw RangeError();var c=(e/Math.pow(10,3*l)).toFixed(t);return a||(c=String(Number(c))),(s?"":"-")+c+u}},84688:(e,t,n)=>{n.d(t,{Qq:()=>a,Yv:()=>i,rX:()=>o});var r=n(27189);function i(e,t){for(var n=0;n<t.length;n+=1e4)e.push.apply(e,(0,r._)(t.slice(n,n+1e4)))}function o(e){return(0,r._)(Array(e))}function a(e,t){return Array.from(new Set(e.map(function(e){return e[t]}))).map(function(n){return e.find(function(e){return e[t]===n})}).filter(function(e){return!!e})}},40811:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(94086),i=function(e){return(0,r.Y)(r.FK,{children:e})};function o(e,t){return null!==a(e,t)}function a(e,t,n){var r,o=n||{},a=[],s=t.length,l=o.pre||"",u=o.post||"",c=o.matchRenderer||i,d=o.caseSensitive&&t||t.toLowerCase(),p=o.caseSensitive&&e||e.toLowerCase(),f=0,v=0,h=0;if(d.includes(p)){var g=d.indexOf(p),m=t.slice(0,g),U=t.slice(g+p.length),b=[c(t.slice(g,g+p.length))];m&&b.unshift(m),U&&b.push(U);var y="".concat(m).concat(l).concat(e).concat(u).concat(U),E=Math.pow(e.length,e.length);return{rendered:y,ranges:[{from:g,to:g+p.length}],score:d.startsWith(p)?1.5*E:E,elements:b}}for(var S=[],C=[],Z=0;Z<s;Z++)r=t[Z],d[Z]===p[f]?(S.push(c(r)),r=l+r+u,f+=1,0===h?C.push({from:Z,to:Z+1}):C[C.length-1].to+=1,h+=1+h):(S.push(r),h=0),v+=h,a[a.length]=r;if(o.filterLowMatchScores){var _,x=(_=e.length)<2?null:2===_?3:3===_?6:4===_?10:20;if(x&&v<x)return null}return f===p.length?(v=d===p?1/0:v,{rendered:a.join(""),score:d.startsWith(p)?1.5*v:v,elements:S,ranges:C}):null}let s={filter:function(e,t,n){if(0===t.length)return[];var r=n||{},i=[];return t.forEach(function(t,n){var o,s="string"==typeof t?t:null===(o=r.extract)||void 0===o?void 0:o.call(r,t);if(void 0!==s){var l=a(e,s,r);null!==l&&i.push({string:l.rendered,elements:l.elements,score:l.score,index:n,original:t})}}),i.sort(function(e,t){return t.score-e.score||e.index-t.index}),i},test:o,match:a,simpleFilter:function(e,t){return t.filter(function(t){return o(e,t)})}}},41705:(e,t,n)=>{n.d(t,{AF:()=>c,DA:()=>p,DK:()=>l,W6:()=>s});var r=n(13454),i=n(5482),o=n(87925),a=n(94423),s=1e7;function l(e){return u.apply(this,arguments)}function u(){return(u=(0,r._)(function(e){var t;return(0,i.YH)(this,function(n){switch(n.label){case 0:return[4,(0,a.C2)(e)];case 1:if(t=n.sent(),e.size>s)throw Error("This image is over the ".concat(s/1e6,"MB maximum"));if(!t)throw Error("Expected file");return[2,t]}})})).apply(this,arguments)}function c(e,t){return d.apply(this,arguments)}function d(){return(d=(0,r._)(function(e,t){return(0,i.YH)(this,function(n){switch(n.label){case 0:return[4,(0,o.B2)("/data/images/upload",{image:e,context:t})];case 1:return[2,n.sent()]}})})).apply(this,arguments)}var p=["image/png","image/jpeg","image/gif","image/webp"]},6710:(e,t,n)=>{n.d(t,{A:()=>r});function r(e){var t=e.length;if(0===t)return!1;var n=0,r=Math.min(t,512);if(t>=3&&239===e[0]&&187===e[1]&&191===e[2]||t>=4&&0===e[0]&&0===e[1]&&254===e[2]&&255===e[3]||t>=4&&255===e[0]&&254===e[1]&&0===e[2]&&0===e[3]||t>=4&&132===e[0]&&49===e[1]&&149===e[2]&&51===e[3])return!1;if(r>=5&&"%PDF-"===e.slice(0,5).toString())return!0;if(t>=2&&254===e[0]&&255===e[1]||t>=2&&255===e[0]&&254===e[1])return!1;for(var i=0;i<r;i++){if(0===e[i])return!0;if((e[i]<7||e[i]>14)&&(e[i]<32||e[i]>127)){if(e[i]>193&&e[i]<224&&i+1<r){if(e[++i]>127&&e[i]<192)continue}else if(e[i]>223&&e[i]<240&&i+2<r&&e[++i]>127&&e[i]<192&&e[i+1]>127&&e[i+1]<192){i++;continue}if(n++,i>=32&&100*n/r>10)return!0}}return 100*n/r>10}},26928:(e,t,n)=>{n.d(t,{T$:()=>a,YX:()=>i,t3:()=>o});var r=n(54867),i=function(e){return e.ALT_KEY="ALT_KEY",e.SHIFT_KEY="SHIFT_KEY",e.CMD_OR_CTRL_KEY="CMD_OR_CTRL_KEY",e.RETURN_OR_ENTER_KEY="RETURN_OR_ENTER_KEY",e}({});function o(e,t){switch(e){case"ALT_KEY":return t?"⌥":"Alt";case"SHIFT_KEY":return t?"⇧":"Shift";case"CMD_OR_CTRL_KEY":return t?"⌘":"Ctrl";case"RETURN_OR_ENTER_KEY":return t?"Return":"Enter";default:(0,r.A)(e)}}var a=function(e){return window.navigator.userAgent.includes("Macintosh")?e.metaKey||(null==e?void 0:e.key)==="Meta":e.ctrlKey||(null==e?void 0:e.key)==="Control"}},53437:(e,t,n)=>{n.d(t,{AW:()=>a,Lq:()=>s,Xe:()=>l});var r=n(90935),i=n(54867),o=n(97407),a=function(e){return"month"===e?"monthly":"year"===e?"yearly":null};function s(e){switch(e){case o.EL:return r.e0.Hacker;case o.bx:return r.e0.HackerPro;default:(0,i.A)(e)}}function l(e){switch(e){case"monthly":return r.PC.Monthly;case"yearly":return r.PC.Yearly;default:(0,i.A)(e)}}},34805:(e,t,n)=>{n.d(t,{A:()=>f});var r=[],i=[],o={},a={},s={};function l(e){return"string"==typeof e?RegExp("^"+e+"$","i"):e}function u(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function c(e,t,n){if(!e.length||o[e])return t;for(var r=n.length;r--;){var i=n[r];if(i[0].test(t))return function(e,t){return e.replace(t[0],function(n,r){var i,o,a=(i=t[1],o=arguments,i.replace(/\$(\d{1,2})/g,function(e,t){return o[t]||""}));return""===n?u(e[r-1],a):u(n,a)})}(t,i)}return t}function d(e,t,n){return function(r){var i=r.toLowerCase();return t[i]?u(r,i):e[i]?u(r,e[i]):c(i,r,n)}}function p(e,t,n){return function(r){var i=r.toLowerCase();return!!t[i]||!e[i]&&c(i,i,n)===i}}function f(e,t,n){var r=1===t?f.singular(e):f.plural(e);return(n?t+" ":"")+r}f.plural=d(s,a,r),f.isPlural=p(s,a,r),f.singular=d(a,s,i),f.isSingular=p(a,s,i),f.addPluralRule=function(e,t){r.push([l(e),t])},f.addSingularRule=function(e,t){i.push([l(e),t])},f.addUncountableRule=function(e){if("string"==typeof e){o[e.toLowerCase()]=!0;return}f.addPluralRule(e,"$0"),f.addSingularRule(e,"$0")},f.addIrregularRule=function(e,t){t=t.toLowerCase(),s[e=e.toLowerCase()]=t,a[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]].forEach(function(e){return f.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return f.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return f.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(f.addUncountableRule)},94423:(e,t,n)=>{n.d(t,{C2:()=>o,g6:()=>i});var r=function(e,t){return e instanceof window.File?new Promise(function(n,r){var i=new window.FileReader;switch(i.onload=function(t){var i;if(!(null===(i=t.target)||void 0===i?void 0:i.result)){r(Error('Failed to read file "'.concat(e.name,'"')));return}n(t.target.result)},i.onerror=r,t){case"ARRAY_BUFFER":i.readAsArrayBuffer(e);break;case"BINARY_STRING":i.readAsBinaryString(e);break;case"DATA_URL":i.readAsDataURL(e);break;case"TEXT":i.readAsText(e)}}):Promise.all(Array.from(e).filter(function(e){return!!e}).map(function(e){return r(e,t)}))},i=function(e){return r(e,"ARRAY_BUFFER")},o=function(e){return r(e,"DATA_URL")}},56071:(e,t,n)=>{n.d(t,{EG:()=>s,NI:()=>d,Tf:()=>c,f5:()=>p,gm:()=>l});var r=n(37936),i=function(e){var t=e.slug;return"".concat(r.KH).concat(t)},o="".concat(r.KH,"[orgSlug]"),a=o+"/groups/[groupSlug]/[groupId]",s=function(e){var t=i({slug:e.slug});return{home:{href:t,routerPath:"".concat(r.KH,"[orgSlug]"),as:void 0},repls:{href:t+"/repls",routerPath:o+"/repls",as:void 0},deployments:{href:t+"/deployments",routerPath:o+"/deployments",as:void 0},members:{href:t+"/members",routerPath:o+"/members",as:void 0},groups:{href:t+"/groups",routerPath:o+"/groups",as:void 0},settings:{href:t+"/settings",routerPath:o+"/settings",as:void 0},projects:{href:t+"/projects",routerPath:o+"/projects",as:void 0},usage:{href:t+"/usage",routerPath:o+"/usage",as:void 0},gallery:{href:t+"/gallery",routerPath:o+"/gallery",as:void 0},profile:{href:t+"/profile/settings",routerPath:o+"/profile/settings",as:void 0}}},l=function(e){var t=e.org,n=e.projectId;return{href:{pathname:"/t/[orgSlug]/projects/[projectId]",query:{orgSlug:t.slug,projectId:n}}}},u=function(e){var t=e.orgSlug,n=e.groupId,r=e.groupSlug,o=i({slug:t});return"".concat(o,"/groups/").concat(r,"/").concat(n)},c=function(e){var t=u({orgSlug:e.orgSlug,groupId:e.groupId,groupSlug:e.groupSlug});return{members:{href:t+"/members",routerPath:a+"/members",as:void 0},settings:{href:t+"/settings",routerPath:a+"/settings",as:void 0},permissions:{href:t+"/permissions",routerPath:a+"/permissions",as:void 0}}},d={href:"/teams/new",as:void 0},p={href:"/teams/join",as:void 0}},43828:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(94086),i=n(40889);function o(e){var t=e.last4,n=e.fluent;return(0,r.Y)(i.EY,{multiline:!1,children:n?"Card ending in ".concat(t):"\xb7\xb7\xb7\xb7".concat(t)})}},5979:(e,t,n)=>{n.d(t,{f:()=>h});var r=n(66622),i=n(30758),o=n(90935),a=n(20837),s=n(45009),l=n(30632),u=n(43751);function c(){var e=(0,s._)(["\n  query GetReplitCheckoutSession($input: GetReplitCheckoutSessionInput!) {\n    getReplitCheckoutSession(input: $input) {\n      ... on ReplitCheckoutSession {\n        id\n        status\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return c=function(){return e},e}var d={},p=(0,l.J1)(c()),f=n(78504),v=[o.RA.PaymentFailed,o.RA.CyclesProvisioningFailed,o.RA.ProductProvisioningFailed];function h(){var e,t=(0,r._)((e=(0,a._)({},d,void 0),u._(p,e)),2),n=t[0],s=t[1].stopPolling;return(0,i.useEffect)(function(){return function(){s()}},[s]),{startPolling:(0,i.useCallback)(function(e){var t=e.checkoutSessionId,r=e.pollInterval,i=e.onSucceeded,a=e.onFailed,l=e.onError;s(),n({variables:{input:{id:t}},pollInterval:void 0===r?1e3:r,onCompleted:function(e){"ReplitCheckoutSession"===e.getReplitCheckoutSession.__typename?e.getReplitCheckoutSession.status===o.RA.Succeeded?(s(),i()):v.includes(e.getReplitCheckoutSession.status)&&(s(),a(e.getReplitCheckoutSession.status)):"NotFoundError"===e.getReplitCheckoutSession.__typename||"UnauthorizedError"===e.getReplitCheckoutSession.__typename?(s(),l(e.getReplitCheckoutSession.message)):(s(),(0,f.P)(Error("Unexpected response when polling Replit checkout session"),{extra:{data:e}}),l("Unexpected response. Please try again."))},onError:function(e){s(),l(e.message)}})},[s,n])}}},16646:(e,t,n)=>{n.d(t,{Ec:()=>p,O1:()=>c});var r=n(20837),i=n(45009),o=n(30632),a=n(72813);function s(){var e=(0,i._)(["\n  fragment SubscriptionPlans on SubscriptionPlansOutput {\n    pro {\n      stripe {\n        monthlyPlanDetails {\n          costInUsdCents\n        }\n        yearlyPlanDetails {\n          costInUsdCents\n        }\n      }\n    }\n    hacker {\n      stripe {\n        monthlyPlanDetails {\n          costInUsdCents\n        }\n        yearlyPlanDetails {\n          costInUsdCents\n        }\n      }\n    }\n    teams {\n      orb {\n        monthlyPlanDetails {\n          costInUsdCents\n        }\n        yearlyPlanDetails {\n          costInUsdCents\n        }\n      }\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=(0,i._)(["\n  query SubscriptionPlanInfo {\n    subscriptionPlans {\n      ...SubscriptionPlans\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var u={},c=(0,o.J1)(s()),d=(0,o.J1)(l(),c);function p(e){var t=(0,r._)({},u,e);return a.I(d,t)}},78547:(e,t,n)=>{n.d(t,{A:()=>c});var r,i=n(72275),o=n(16646),a=n(97407),s=n(44576),l=(r={},(0,i._)(r,a.EL,"hacker"),(0,i._)(r,a.bx,"pro"),(0,i._)(r,a._t,"teams"),r),u={monthly:"monthlyPlanDetails",yearly:"yearlyPlanDetails"};function c(e){var t,n=e.planPrefix,r=e.planPeriod,i=(0,o.Ec)(),c=i.data,d=i.loading,p=i.error;if(d)return{loading:!0,costInUsdCents:void 0,recurringCostDisplayText:void 0,error:void 0,costDisplayText:void 0,periodDisplayText:void 0,longPeriodDisplayText:void 0,totalCostInUsdText:void 0};if(p||!c)return{loading:!1,costInUsdCents:void 0,recurringCostDisplayText:void 0,error:null!==(t=null==p?void 0:p.message)&&void 0!==t?t:"Failed to load subscription plan info",costDisplayText:void 0,periodDisplayText:void 0,totalCostInUsdText:void 0,longPeriodDisplayText:void 0};if(n===a.EZ)return{loading:!1,costInUsdCents:0,recurringCostDisplayText:(0,s.b0)(0),error:void 0,costDisplayText:(0,s.b0)(0),periodDisplayText:"",longPeriodDisplayText:"",totalCostInUsdText:(0,s.b0)(0)};var f=u[r],v=l[n],h="teams"===v?c.subscriptionPlans[v].orb[f].costInUsdCents:c.subscriptionPlans[v].stripe[f].costInUsdCents,g="/month",m="yearly"===r?(0,s.b0)(h/12):(0,s.b0)(h),U=(0,s.b0)(h);return{loading:!1,costInUsdCents:h,recurringCostDisplayText:m+g,error:void 0,costDisplayText:m,periodDisplayText:g,longPeriodDisplayText:"per month",totalCostInUsdText:U}}},77420:(e,t,n)=>{n.d(t,{y:()=>d});var r=n(20837),i=n(45009),o=n(30632),a=n(72813),s=n(61080);function l(){var e=(0,i._)(["\n  query UserPaymentMethod {\n    currentUser {\n      id\n      paymentMethod {\n        ... on PaymentMethod {\n          ...UserPaymentMethod\n        }\n        ... on UnauthorizedError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var u={},c=(0,o.J1)(l(),s.R);function d(){var e,t,n,i,o,s,l=(e=(0,r._)({},u,void 0),a.I(c,e)),d=l.data;return l.loading?{paymentMethod:null,loading:!0,error:null}:(null==d?void 0:null===(n=d.currentUser)||void 0===n?void 0:null===(t=n.paymentMethod)||void 0===t?void 0:t.__typename)==="PaymentMethod"?{paymentMethod:{last4:null==d?void 0:d.currentUser.paymentMethod.last4},loading:!1,error:null}:(null==d?void 0:null===(o=d.currentUser)||void 0===o?void 0:null===(i=o.paymentMethod)||void 0===i?void 0:i.__typename)==="UnauthorizedError"?{paymentMethod:null,loading:!1,error:d.currentUser.paymentMethod.message}:(null==d?void 0:null===(s=d.currentUser)||void 0===s?void 0:s.paymentMethod)===null?{paymentMethod:null,loading:!1,error:null}:{paymentMethod:null,loading:!1,error:"Unknown error"}}},60414:(e,t,n)=>{n.d(t,{O:()=>i});var r=n(82436);function i(e){(0,r.u4)(r.AZ.PROFILE_EDITED,e)}},95344:(e,t,n)=>{n.d(t,{Ay:()=>U,Mn:()=>y,_f:()=>b});var r=n(20837),i=n(16530),o=n(66622),a=n(94086),s=n(30758),l=n(50109),u=n(52757),c=n(32842),d=n(31955),p=n(8367),f=n(48729),v=n(42022),h=n(14753),g=(0,u.AH)([c.wp.overflow("hidden"),c.wp.position.relative]),m={16:4,20:4,24:4,32:4,36:4,64:8,84:16};function U(e){var t,n,r,i=e.size,u=e.alt,h=e.className,U=e.iconUrl,b=(0,s.useRef)(null);i=void 0===(r=(n=(t=(0,o._)((0,l.JT)({size:i,alt:u,className:h},b,v.Vx),2))[0]).size)?32:r,u=n.alt,h=n.className,b=t[1];var y=i<32?4:8;function E(){return(0,a.Y)(p.S,{css:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxShadow:"inset 0px 0px 0px 1px #80808040",borderRadius:y}})}if(U.endsWith(".svg")){var S=m[i],C=i-2*S;return(0,a.FD)(d.ui,{innerRef:b,elevated:!0,css:[c.wp.p(S),c.wp.borderRadius(y),g,c.wp.width(i),c.wp.height(i)],children:[(0,a.Y)(p.S,{css:[c.wp.position.relative,c.wp.width(C),c.wp.height(C)],children:(0,a.Y)(f.A,{alt:u,src:U,objectFit:"contain",layout:"fill"})}),(0,a.Y)(E,{})]})}return(0,a.FD)(d.ui,{elevated:!0,css:[g,c.wp.borderRadius(y),c.wp.width(i),c.wp.height(i)],children:[(0,a.Y)(f.A,{alt:u,src:U,width:i,height:i,objectFit:"cover"}),(0,a.Y)(E,{})]})}function b(e){var t=e.isLoading,n=e.alt,r=e.iconUrl,i=e.size,o=void 0===i?32:i,s=r&&void 0!==n?(0,a.Y)(U,{alt:n,iconUrl:r,size:o}):null;if(!t&&s)return s;var l=o<32?4:8;return(0,a.Y)(d.ui,{elevated:!0,css:[g,c.wp.borderRadius(l),c.wp.width(o),c.wp.height(o)]})}function y(e){var t=e.isLoading,n=e.alt,o=e.iconUrl,s=e.size,l=void 0===s?32:s,u=(0,i._)(e,["isLoading","alt","iconUrl","size"]),f=o?(0,a.Y)(U,(0,r._)({alt:n,iconUrl:o,size:l},u)):null;return!t&&f?f:(0,a.FD)(p.S,{css:[c.wp.position.relative,c.wp.width(l),c.wp.height(l)],children:[f,(0,a.Y)(d.ui,{elevated:!0,css:[c.wp.borderRadius(8),c.wp.coverContainer,{opacity:.8}]}),t?(0,a.Y)(p.S,{css:[c.wp.coverContainer,c.wp.center,c.wp.color.accentPrimaryDefault],children:(0,a.Y)(h.A,{})}):null]})}},81243:(e,t,n)=>{n.d(t,{e:()=>b});var r=n(72275),i=n(20837),o=n(43952),a=n(16530),s=n(94086),l=n(80145),u=n(97407),c=n(24955),d=n(10168),p=n(32842),f=n(8367),v=n(48729),h=n(27640),g={size:"--size",ringSize:"--ring-size",ringColor:"--ring-color",hasOnClickShadow:"--has-on-click-shadow",borderRadius:"--border-radius"},m={size:"var(".concat(g.size,")"),ringSize:"var(".concat(g.ringSize,")"),ringColor:"var(".concat(g.ringColor,")"),hasOnClickShadow:"var(".concat(g.hasOnClickShadow,")"),borderRadius:"var(".concat(g.borderRadius,")")},U=(0,d.x)({container:[{borderRadius:m.borderRadius,overflow:"hidden",width:m.size,height:m.size,backgroundColor:c.LU.outlineDimmest,position:"relative","&::after":{borderRadius:m.borderRadius,content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,boxShadow:"inset 0 0 0 ".concat(m.ringSize," ").concat(m.ringColor)},"&:active::after":{boxShadow:"inset 0 0 0 ".concat(m.ringSize," ").concat(c.LU.outlineStrongest)},"&:hover::after":{boxShadow:m.hasOnClickShadow}}],initialsContainer:[p.wp.coverContainer,p.wp.center],initials:[p.wp.flex.growAndShrink(1),p.wp.center,p.wp.color.foregroundDimmest,{fontSize:"calc(".concat(m.size," / 2.5)")}],roleBadge:[p.wp.position.absolute,p.wp.display.flex,p.wp.justify.center,p.wp.align.center,p.wp.left(-3),p.wp.bottom(-2),p.wp.zIndex(1),p.wp.borderRadius("full"),p.wp.p(2),p.wp.backgroundColor.orangeDimmest,{boxShadow:"0 0 3px rgba(0, 0, 0, 0.5)"}],roleBadgeIcon:[]});function b(e){var t,n=e.src,d=e.username,b=e.fullName,y=e.size,E=void 0===y?32:y,S=e.layout,C=e.ringColor,Z=e.onError,_=e.style,x=e.showCoreBadge,A=e.isOrg,w=(0,a._)(e,["src","username","fullName","size","layout","ringColor","onError","style","showCoreBadge","isOrg"]),I=C?2:1,k=C||c.LU.outlineDimmer,O=w.onClick?"inset 0 0 0 ".concat(m.ringSize," ").concat(c.LU.outlineDefault):"inset 0 0 0 ".concat(m.ringSize," ").concat(m.ringColor),T=A?c.LU.borderRadius4:c.LU.borderRadiusRound;return(0,s.FD)(f.S,{css:p.wp.position.relative,children:[(0,s.FD)(f.S,(0,o._)((0,i._)({css:U.container,style:(0,i._)((t={},(0,r._)(t,g.size,E+"px"),(0,r._)(t,g.ringSize,I+"px"),(0,r._)(t,g.ringColor,k),(0,r._)(t,g.hasOnClickShadow,O),(0,r._)(t,g.borderRadius,T),t),_)},w),{children:[!n||n.startsWith("https://www.gravatar.com")?(0,s.Y)(f.S,{css:U.initialsContainer,"aria-hidden":"true",children:(0,s.Y)(f.S,{css:U.initials,children:function(e,t){var n=null==t?void 0:t.trim();if(!n)return e.toUpperCase().slice(0,2);var r=n.split(" ");return r.length>1?(r[0][0]+r[1][0]).toUpperCase():n.toUpperCase().slice(0,2)}(d,b)})}):null,n?(0,s.Y)(v.A,{width:E,height:E,objectFit:"cover",layout:void 0===S?"intrinsic":S,alt:d,src:n,onError:Z}):null]})),void 0!==x&&x?(0,s.Y)(f.S,{css:U.roleBadge,id:"role-badge",children:(0,s.Y)(h.A,{role:"img",color:l.u,size:8,alt:"".concat(u.en," Badge")})}):null]})}},24239:(e,t,n)=>{n.d(t,{$O:()=>U,e2:()=>g});var r=n(20837),i=n(43952),o=n(16530),a=n(94086),s=n(30758),l=n(77071),u=n(77325),c=n(24955),d=n(32842),p=n(40889),f=n(8367),v=n(42022),h=(0,s.createContext)(null);function g(e){var t=e.name,n=e.value,s=e.row,l=e.stretch,u=e.disabled,p=e.onChange,v=e.children,g=e.primary,m=e.tag,U=e.dataCy,b=(0,o._)(e,["name","value","row","stretch","disabled","onChange","children","primary","tag","dataCy"]);return(0,a.Y)(f.S,(0,i._)((0,r._)({tag:void 0===m?"fieldset":m},b),{"data-cy":U,css:[d.wp.borderRadius(4),{backgroundColor:c.LU.interactiveBackground},s&&{display:"flex",flexDirection:"row",width:l?"100%":"min-content"},s&&l&&{justifyItems:"stretch"}],children:(0,a.Y)(h.Provider,{value:{value:n,name:t,onChange:p,primary:g,disabled:u},children:v})}))}var m=f.D.input;function U(e){var t,n,f,g,U,b=e.onChange,y=e.id,E=e.checked,S=e.disabled,C=e.name,Z=e.value,_=e.text,x=e.icon,A=e.primary,w=e.dataCy,I=e.className,k=(0,o._)(e,["onChange","id","checked","disabled","name","value","text","icon","primary","dataCy","className"]),O=(0,s.useContext)(h);O&&(C=null!=C?C:O.name,E=null!=E?E:O.value===Z,b=null!=b?b:O.onChange,S=null!=S?S:O.disabled,A=null!=A?A:O.primary);var T=(0,l.o)(),N=T.isFocusVisible,R=T.focusProps;return(0,a.FD)("label",{css:(n=(t={checked:E,disabled:S,isFocusVisible:N,primary:A}).checked,f=t.disabled,g=t.isFocusVisible,U=t.primary,[d.wp.height(32),d.wp.display.flex,d.wp.rowWithGap(8),d.wp.justify.center,d.wp.align.center,d.wp.p(8),d.wp.borderRadius(4),d.wp.transition.snappy,{flex:1},n&&!f&&U&&d.wp.backgroundColor.accentPrimaryDimmer,n&&(!U||f&&U)&&{backgroundColor:c.LU.interactiveBackgroundActive,transition:"background-color 120ms ease"},{"> span":{transition:"color 120ms ease-out"},"> svg":{transition:"stroke 120ms ease-out"}},!n&&!f&&{":hover span":{color:c.LU.foregroundDefault},":hover svg":{fill:c.LU.foregroundDefault}},!f&&{cursor:"pointer"},g&&{outline:"2px solid "+c.LU.accentPrimaryStronger}]),"data-cy":w,className:I,children:[(0,a.Y)(u.s,{children:(0,a.Y)(m,(0,r._)((0,i._)((0,r._)({},R),{id:y,name:C,value:Z,type:"radio",checked:E,disabled:S,onChange:function(){return null==b?void 0:b(Z)}}),k))}),(0,a.Y)(v.Z_,{size:16,color:E&&!S?c.LU.foregroundDefault:c.LU.foregroundDimmer,children:x}),(0,a.Y)(p.EY,{color:E&&!S?"default":"dimmer",multiline:!1,children:_})]})}},47303:(e,t,n)=>{n.d(t,{S:()=>S});var r=n(20837),i=n(43952),o=n(16530),a=n(66622),s=n(94086),l=n(30758),u=n(57092),c=n(19305),d=n(50109),p=n(70597),f=n(24955),v=n(10168),h=n(2298),g=n(32842),m=n(8367),U=n(16021),b=n(55337),y=(0,v.x)({checkbox:[g.wp.position.relative],input:[h.b.filledAndOutlined,{appearance:"none",borderRadius:f.LU.borderRadius4}],checkIcon:[{position:"absolute",pointerEvents:"none"}]}),E=m.D.input,S=(0,l.forwardRef)(function(e,t){var n,l=e.dataCy,f=e.onChange,v=e.checked,h=e.size,g=e.disabled,S=(0,o._)(e,["dataCy","onChange","checked","size","disabled"]);S=(n=(0,a._)((0,d.JT)(S,t,p.BP),2))[0],t=n[1];var C=(0,u.H)((0,r._)({},S,void 0!==v&&{isSelected:v},f&&{onChange:f})),Z=(0,c.v)((0,i._)((0,r._)({},S),{"aria-label":S.name,isDisabled:g}),C,t),_=Z.inputProps,x=Z.isSelected,A="small"===(void 0===h?"default":h)?16:20;return(0,s.FD)(m.S,{css:y.checkbox,justify:"center",align:"center",className:S.className,children:[(0,s.Y)(E,(0,r._)({ref:t,type:"checkbox",css:y.input,style:{width:A,height:A},dataCy:l},_)),S.isIndeterminate?(0,s.Y)(b.A,{css:y.checkIcon}):x?(0,s.Y)(U.A,{css:y.checkIcon}):null]})})},98541:(e,t,n)=>{n.d(t,{a:()=>h,w:()=>v});var r=n(72275),i=n(20837),o=n(43952),a=n(16530),s=n(94086),l=n(52757),u=n(24955),c=n(88966),d=n(2298),p=n(32842),f=n(8367),v=function(e){var t=e.colorway,n=e.clickable,i=e.iconLeft,o=e.iconRight,a=e.variant,s=void 0===a?"muted":a,f=e.compact;return(0,l.AH)([p.wp.reset.button,p.wp.rowWithGap(4),p.wp.pl(i||f?4:8),p.wp.pr(o||f?4:8),p.wp.center,n&&d.b.filled,t&&n&&(0,c.Li)(t),t&&!n&&(0,c.Ti)(t),p.wp.flex.shrink(1),{borderRadius:f?u.LU.borderRadiusDefault:u.LU.borderRadiusRound,height:f?u.LU.space16:u.LU.space24,fontSize:u.LU.fontSizeSmall,background:u.LU.interactiveBackground},{"&":["muted"===s&&(t?(0,r._)({border:"1px solid transparent",backgroundColor:"color-mix(in srgb, ".concat(u.ky[t].dimmest," 50%, transparent)")},u.qo.foregroundDefault,u.ky[t].strongest):{border:"1px solid transparent",backgroundColor:"color-mix(in srgb, ".concat(u.LU.interactiveBackground," 75%, transparent)"),color:u.LU.foregroundDimmer}),"outline"===s&&(t?(0,r._)({background:"transparent !important",border:"1px solid ".concat(u.ky[t].dimmest)},u.qo.foregroundDefault,u.ky[t].strongest):{background:"transparent !important",border:"1px solid ".concat(u.LU.outlineDimmest)})]}])};function h(e){var t=e.colorway,n=e.text,r=e.iconLeft,l=e.iconRight,u=e.variant,c=e.compact,d=(0,a._)(e,["colorway","text","iconLeft","iconRight","variant","compact"]);return(0,s.FD)(f.S,(0,o._)((0,i._)({},d),{css:v({colorway:t,clickable:!1,iconLeft:!!r,iconRight:!!l,variant:void 0===u?"muted":u,compact:void 0!==c&&c}),children:[r,(0,s.Y)("span",{children:n}),l]}))}},95451:(e,t,n)=>{n.d(t,{Hf:()=>v,K8:()=>g,eG:()=>b});var r=n(94086),i=n(80145),o=n(97407),a=n(52757),s=n(24955),l=n(32842),u=n(40889),c=n(65599),d=n(8367),p=n(27640),f=n(2209),v=function(e){var t=e.tagline,n=e.name,i=e.color,o=e.className,a=e.iconLeft,p=(0,r.Y)("span",{className:o,css:[l.wp.fontSize(s.LU.fontSizeSmall),l.wp.borderRadius(16),l.wp.display.inlineBlock,l.wp.cursor.default,l.wp.backgroundColor,l.wp.py(4),l.wp.px(8),a?l.wp.pl(6):null,{lineHeight:1,whiteSpace:"nowrap",color:void 0===i?s.LU.foregroundDefault:"var(--accent-".concat(i,"-strongest)"),backgroundColor:void 0===i?s.LU.backgroundDefault:"var(--accent-".concat(i,"-dimmer)")}],children:(0,r.FD)(d.S,{row:!0,gap:4,align:"center",children:[a||null,(0,r.Y)("span",{children:n})]})});return t?(0,r.Y)(c.m_,{tooltip:t&&(0,r.Y)(u.EY,{variant:"small",children:t}),children:p}):p},h="radial-gradient(circle at top left, ".concat(s.LU.brandAccentDimmer," 34%,  ").concat(s.LU.brandAccentDefault," 50%, ").concat(s.LU.brandAccentDimmer," 66%)"),g=(0,a.AH)({backgroundImage:h,backgroundSize:"300% 100%",backgroundPosition:"left",":hover":{backgroundPosition:"right",transition:"background-position 600ms ease-in-out"}}),m="radial-gradient(circle at top left, ".concat(s.LU.orangeDimmest," 34%,  ").concat(s.LU.orangeDimmer," 50%, ").concat(s.LU.orangeDimmest," 66%)"),U=(0,a.AH)({backgroundImage:m,backgroundSize:"300% 100%",backgroundPosition:"left",":hover":{backgroundPosition:"right",transition:"background-position 600ms ease-out"}}),b={Default:v,Admin:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Admin",name:"Admin",color:"yellow"})},Detective:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Detective",name:"Detective",color:"green"})},Featured:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Verified",name:"Verified",color:"blue"})},Hacker:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"".concat(o.BH," users are subscribed to Replit's paid ").concat(o.BH," Plan."),name:o.BH,color:"green"})},Pro:function(){return(0,r.Y)(v,{name:o.en,color:"orange",css:g,iconLeft:(0,r.Y)(p.A,{size:12,color:i.u})})},LanguageJammer:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Language Jammer",name:"Language Jammer",color:"purple"})},ReplitRep:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Replit Rep",name:"Replit Rep",color:"pink"})},ReplitRepEdu:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Replit Rep EDU",name:"Replit Rep EDU",color:"green"})},Patron:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Patron",name:"Patron",color:"purple"})},Pythonista:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Pythonista",name:"Pythonista",color:"teal"})},ExtensionDeveloper:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Extenders create Replit Extensions that make your Workspace more powerful",name:"Extender",color:"orange",css:U,iconLeft:(0,r.Y)(f.A,{size:12})})}}},52186:(e,t,n)=>{n.d(t,{Dc:()=>S,ie:()=>C});var r=n(20837),i=n(43952),o=n(66622),a=n(94086),s=n(30758),l=n(89401),u=n(20189),c=n(70452),d=n(51423),p=n(26190),f=n(2298),v=n(32842),h=n(40889),g=n(65599),m=n(8367),U=new Date(0),b=m.D.span,y=(0,c.eU)(!1),E=(0,c.eU)(!1);function S(e){var t,n,u,c=e.date,m=e.className,U=e.textColor,S=void 0===U?"default":U,Z=e.textVariant,_=void 0===Z?"text":Z,x=e.dateFormat,A=void 0===x?"relative":x,w=e.placement,I=e.live,k=e.absoluteFormat,O=e.textTransform,T=void 0===O?"default":O,N=(0,o._)((0,d.fp)(y),2),R=N[0],P=N[1],j=(0,o._)((0,d.fp)(E),2),L=j[0],D=j[1],M=(0,s.useRef)(null),Y=C(c);"first-letter-capitalized"===T&&(Y=Y.charAt(0).toUpperCase()+Y.substring(1));var $=L?k?new Date(c).toLocaleString(void 0,k):(0,l.A)(new Date(c),"h:mm bbb, MMM dd, yyyy"):Y;(0,s.useEffect)(function(){L||D(!0)},[D,L]);var F="switch"===A,W=L&&("absolute"===A||F&&R);t=function(){if(M.current){var e=C(c);"first-letter-capitalized"===T&&(e=e.charAt(0).toUpperCase()+e.substring(1)),M.current.innerText=e}},n=!(void 0!==I&&I)||W,u=(0,p.A)(t),(0,s.useEffect)(function(){if(!n){var e=null;return function t(){e=setTimeout(function(){u.current(),t()},1e4)}(),function(){e&&clearTimeout(e)}}},[n]);var q=W?$:Y,H=W?Y:$,G=F?{onClick:function(){return P(function(e){return!e})},role:"switch",tabIndex:0,"aria-checked":W,onKeyDown:function(e){("Space"===e.code||"Enter"===e.code)&&(e.preventDefault(),P(function(e){return!e}))}}:{};return(0,a.Y)(g.m_,{tooltip:H,placement:void 0===w?"bottom":w,children:function(e,t){return(0,a.Y)(b,(0,i._)((0,r._)({"data-chromatic":"ignore",ref:t},e,G),{css:[{width:"max-content"},F?[v.wp.px(2),f.b.nofill]:[]],children:(0,a.Y)(h.EY,{ref:M,className:m,color:S,variant:_,multiline:!1,children:q})}))}})}function C(e){var t=new Date(e);if(t<=U)return"a long time ago";var n=new Date;return 6e4>=Math.abs(n.getTime()-t.getTime())?"just now":(0,u.A)(t,n,{addSuffix:!0})}},3028:(e,t,n)=>{n.d(t,{Ay:()=>a,pw:()=>o});var r=n(94086),i=n(95451),o=function(e){return e.Admin="ADMIN",e.Detective="DETECTIVE",e.Featured="FEATURED",e.LanguageJammer="LANGUAGE_JAMMER",e.Moderator="MODERATOR",e.ReplitRep="REPLIT_REP",e.ReplitRepEdu="REPLIT_REP_EDU",e.Patron="PATRON",e.Pythonista="PYTHONISTA",e.Student="STUDENT",e.Teacher="TEACHER",e.Hacker="hacker",e.HackerPro="hacker_pro",e.ExtensionDeveloper="EXTENSION_DEVELOPER",e}({});let a=function(e){var t=e.userRole,n=e.tagline,o=e.name;switch(t){case"DETECTIVE":return(0,r.Y)(i.eG.Detective,{tagline:n});case"MODERATOR":return null;case"LANGUAGE_JAMMER":return(0,r.Y)(i.eG.LanguageJammer,{tagline:n});case"FEATURED":return(0,r.Y)(i.eG.Featured,{tagline:n});case"ADMIN":return(0,r.Y)(i.eG.Admin,{tagline:n});case"REPLIT_REP":return(0,r.Y)(i.eG.ReplitRep,{tagline:n});case"REPLIT_REP_EDU":return(0,r.Y)(i.eG.ReplitRepEdu,{tagline:n});case"PATRON":return(0,r.Y)(i.eG.Patron,{tagline:n});case"PYTHONISTA":return(0,r.Y)(i.eG.Pythonista,{tagline:n});case"hacker":return(0,r.Y)(i.eG.Hacker,{tagline:n});case"hacker_pro":return(0,r.Y)(i.eG.Pro,{});case"EXTENSION_DEVELOPER":return(0,r.Y)(i.eG.ExtensionDeveloper,{tagline:n});default:return(0,r.Y)(i.eG.Default,{tagline:n,name:o})}}},21456:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.FD)(a.Ay,(0,i._)((0,r._)({},e),{children:[(0,o.Y)("path",{d:"M3.5 0A3.5 3.5 0 0 1 7 3.5a5 5 0 0 0 5 5 3.5 3.5 0 1 1 0 7 5 5 0 0 0-5 5A3.5 3.5 0 1 1 3.5 17a5 5 0 0 0 0-10 3.5 3.5 0 1 1 0-7Z"}),(0,o.Y)("path",{d:"M3.5 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7ZM24 3.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0ZM20.5 24a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z"}),(0,o.Y)("path",{d:"M24 12a3.5 3.5 0 0 1-3.5 3.5 5 5 0 0 0-5 5A3.5 3.5 0 1 1 12 17a5 5 0 0 0 0-10 3.5 3.5 0 1 1 3.5-3.5 5 5 0 0 0 5 5A3.5 3.5 0 0 1 24 12Z"})]}))}},29895:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.FD)(a.Ay,(0,i._)((0,r._)({},e),{children:[(0,o.Y)("path",{d:"M11.143 12a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"}),(0,o.Y)("path",{d:"M11.143 3.429a3.429 3.429 0 1 0-3.429 3.428 5.143 5.143 0 0 1 .007 10.286h-.007a3.429 3.429 0 1 0 3.429 3.428v-.026a5.143 5.143 0 0 1 5.143-5.116 3.429 3.429 0 0 0 0-6.858h-.006a5.143 5.143 0 0 1-5.137-5.116V3.43Z"})]}))}},29048:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12.53 15.53a.75.75 0 0 1-1.06 0l-6-6a.75.75 0 0 1 1.06-1.06L12 13.94l5.47-5.47a.75.75 0 1 1 1.06 1.06l-6 6Z",clipRule:"evenodd"})}))}},27640:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{d:"M12.554.492c.49 3.288 1.307 7.363 2.448 8.505 1.142 1.142 5.22 1.959 8.51 2.449.651.097.65 1.01 0 1.107-3.29.49-7.367 1.307-8.51 2.448-1.143 1.143-1.96 5.227-2.45 8.518-.096.642-1.009.641-1.104 0-.49-3.291-1.308-7.374-2.45-8.517-1.142-1.143-5.217-1.959-8.506-2.45a.558.558 0 0 1 0-1.107c3.289-.49 7.363-1.307 8.505-2.448 1.142-1.142 1.959-5.216 2.45-8.505a.558.558 0 0 1 1.107 0Z"})}))}},63516:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.FD)(a.Ay,(0,i._)((0,r._)({},e),{children:[(0,o.Y)("path",{fillRule:"evenodd",d:"M14.409 9.75c-.039.434-.101.865-.188 1.29l1.241 1.24c.233-.822.385-1.67.452-2.53h3.298a7.226 7.226 0 0 1-1.995 4.285l1.06 1.06a8.75 8.75 0 1 0-12.555 0l1.061-1.06A7.226 7.226 0 0 1 4.788 9.75h3.298c.067.86.219 1.708.452 2.53l1.24-1.24c-.086-.425-.149-.856-.187-1.29h4.818Zm-9.62-1.5h3.297c.176-2.262.94-4.433 2.209-6.298A7.256 7.256 0 0 0 4.788 8.25ZM12 2.16a11.49 11.49 0 0 0-2.409 6.09h4.818A11.49 11.49 0 0 0 12 2.16Zm7.212 6.09h-3.298a12.99 12.99 0 0 0-2.209-6.298 7.256 7.256 0 0 1 5.507 6.298Z",clipRule:"evenodd"}),(0,o.Y)("path",{d:"m17.53 16.47-5-5a.75.75 0 0 0-1.06 0l-5 5a.75.75 0 1 0 1.06 1.06l3.72-3.72V23a.75.75 0 0 0 1.5 0v-9.19l3.72 3.72a.75.75 0 1 0 1.06-1.06Z"})]}))}},10001:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M19 2.922a2.079 2.079 0 0 0-1.47.608L4.171 16.89 3.07 20.93 7.11 19.83 20.47 6.469A2.078 2.078 0 0 0 19 2.923Zm-1.37-1.228a3.579 3.579 0 0 1 3.9 5.836l-13.5 13.5a.75.75 0 0 1-.333.194l-5.5 1.5a.75.75 0 0 1-.92-.921l1.5-5.5a.75.75 0 0 1 .193-.333l13.5-13.5a3.579 3.579 0 0 1 1.16-.776Z",clipRule:"evenodd"})}))}},77953:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{d:"M12 0c6.627 0 12 5.373 12 12 0 5.99-4.388 10.954-10.125 11.854V15.47h2.796L17.203 12h-3.328V9.749c0-.255.034-.509.112-.743.176-.528.578-.958 1.332-1.09.155-.027.325-.041.512-.041h1.513V4.922s-1.374-.234-2.686-.234c-2.742 0-4.533 1.66-4.533 4.668V12H7.078v3.469h3.047v8.385C4.388 22.954 0 17.99 0 12 0 5.373 5.373 0 12 0Z"})}))}},8473:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.FD)(a.Ay,(0,i._)((0,r._)({},e),{children:[(0,o.Y)("path",{fillRule:"evenodd",d:"M15.938 1.044c-.147-.4-.73-.4-.876 0l-1.004 2.744a.458.458 0 0 1-.298.278l-2.436.746a.446.446 0 0 0 0 .857l2.437.753a.458.458 0 0 1 .297.278l1.005 2.745c.146.399.728.399.874 0L16.943 6.7a.458.458 0 0 1 .297-.278l2.437-.75a.446.446 0 0 0 0-.856l-2.437-.75a.458.458 0 0 1-.297-.278l-1.005-2.744Z",clipRule:"evenodd"}),(0,o.Y)("path",{d:"M6.764 19.334c.12-.3.494-.417.778-.261.806.441 2.443 1.171 4.458 1.171s3.652-.73 4.458-1.171c.284-.156.658-.04.778.261l1.215 2.539a1 1 0 0 1-.928 1.371H6.477a1 1 0 0 1-.928-1.371l1.215-2.539Z"}),(0,o.Y)("path",{fillRule:"evenodd",d:"M10.814 1.053a.75.75 0 0 1-.526.92 6.5 6.5 0 1 0 7.494 9.241.75.75 0 0 1 1.334.686A8 8 0 1 1 9.893.527a.75.75 0 0 1 .921.526Z",clipRule:"evenodd"})]}))}},74894:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M2.78 11.25h4.502a16.05 16.05 0 0 1 3.014-8.343A9.255 9.255 0 0 0 2.78 11.25ZM12 3.149a14.55 14.55 0 0 0-3.214 8.101h6.428A14.55 14.55 0 0 0 12 3.149Zm3.214 9.601A14.55 14.55 0 0 1 12 20.851a14.55 14.55 0 0 1-3.214-8.101h6.428Zm-7.932 0H2.78a9.255 9.255 0 0 0 7.516 8.343 16.051 16.051 0 0 1-3.014-8.343Zm6.422 8.343a16.051 16.051 0 0 0 3.014-8.343h4.502a9.255 9.255 0 0 1-7.516 8.343Zm7.516-9.843h-4.502a16.05 16.05 0 0 0-3.014-8.343 9.255 9.255 0 0 1 7.516 8.343ZM1.25 12C1.25 6.063 6.063 1.25 12 1.25S22.75 6.063 22.75 12 17.937 22.75 12 22.75 1.25 17.937 1.25 12Z",clipRule:"evenodd"})}))}},89960:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M11.54 1.408a.75.75 0 0 1 .92 0l9 7a.75.75 0 0 1 .29.592v11A2.75 2.75 0 0 1 19 22.75H5A2.75 2.75 0 0 1 2.25 20V9a.75.75 0 0 1 .29-.592l9-7ZM3.75 9.367V20A1.25 1.25 0 0 0 5 21.25h3.25V13.5a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 .75.75v7.75H19A1.25 1.25 0 0 0 20.25 20V9.367L12 2.95 3.75 9.367Zm10.5 11.883v-7h-4.5v7h4.5Z",clipRule:"evenodd"})}))}},39736:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 2.75A5.25 5.25 0 0 0 6.75 8c0 1.451.579 2.27 1.308 3.303l.055.077c.683.969 1.436 2.083 1.603 3.87h4.568c.167-1.787.92-2.901 1.603-3.87l.055-.077C16.672 10.27 17.25 9.45 17.25 8c0-2.9-2.35-5.25-5.25-5.25ZM5.25 8a6.75 6.75 0 0 1 13.5 0c0 1.933-.823 3.095-1.548 4.119a83.9 83.9 0 0 0-.09.126c-.725 1.028-1.362 1.993-1.362 3.755a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75c0-1.762-.637-2.727-1.363-3.755l-.09-.126C6.074 11.095 5.25 9.933 5.25 8Zm3 11a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Zm1 3a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},55337:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M4.25 12a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},18747:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 10.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 1.5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM6.75 19.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 1.5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM17.25 19.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 1.5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z",clipRule:"evenodd"})}))}},43249:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 3.25a.75.75 0 0 1 .75.75v7.25H20a.75.75 0 0 1 0 1.5h-7.25V20a.75.75 0 0 1-1.5 0v-7.25H4a.75.75 0 0 1 0-1.5h7.25V4a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},2209:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M6.75 4.5a3.25 3.25 0 1 1 6.5 0v.75h.277c.676 0 1.222 0 1.666.03.456.032.86.097 1.242.256a3.75 3.75 0 0 1 2.03 2.03c.158.382.224.785.255 1.242.018.273.026.585.028.942h.752a3.25 3.25 0 1 1 0 6.5h-.75v.983c0 .812 0 1.468-.043 1.999-.045.547-.14 1.027-.366 1.47a3.75 3.75 0 0 1-1.638 1.64c-.445.226-.925.32-1.471.365-.531.043-1.187.043-2 .043H12.5a.75.75 0 0 1-.75-.75v-1.75a1.5 1.5 0 1 0-3 0V22a.75.75 0 0 1-.75.75H6.768c-.813 0-1.468 0-2-.043-.546-.045-1.026-.139-1.47-.365a3.75 3.75 0 0 1-1.64-1.64c-.225-.443-.32-.924-.365-1.47-.043-.531-.043-1.187-.043-2V15.5a.75.75 0 0 1 .75-.75h1.5a1.75 1.75 0 1 0 0-3.5H2a.75.75 0 0 1-.75-.75v-.026c0-.677 0-1.222.03-1.666.032-.457.097-.86.256-1.243a3.75 3.75 0 0 1 2.03-2.03c.381-.158.785-.223 1.242-.254.444-.03.99-.03 1.665-.03h.277V4.5ZM10 2.75A1.75 1.75 0 0 0 8.25 4.5V6a.75.75 0 0 1-.75.75h-1c-.71 0-1.203 0-1.59.027-.38.026-.602.075-.77.145A2.25 2.25 0 0 0 2.92 8.139c-.07.17-.118.39-.144.771-.016.233-.022.505-.025.84H3.5a3.25 3.25 0 1 1 0 6.5h-.75v.95c0 .853 0 1.447.038 1.91.038.454.107.714.207.912.216.423.56.767.984.983.197.1.458.17.912.207.462.038 1.057.038 1.91.038h.45v-1a3 3 0 1 1 6 0v1c.825 0 1.405-.001 1.858-.038.454-.037.715-.106.913-.207a2.25 2.25 0 0 0 .983-.983c.1-.198.17-.458.207-.912.038-.463.038-1.057.038-1.91v-1.7a.75.75 0 0 1 .75-.75h1.5a1.75 1.75 0 1 0 0-3.5H18a.75.75 0 0 1-.75-.75c0-.709 0-1.203-.027-1.59-.026-.38-.074-.602-.144-.77a2.25 2.25 0 0 0-1.218-1.218c-.169-.07-.39-.119-.77-.145-.387-.026-.882-.027-1.59-.027h-1a.75.75 0 0 1-.75-.75V4.5A1.75 1.75 0 0 0 10 2.75Z",clipRule:"evenodd"})}))}},23336:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",clipRule:"evenodd"})}))}},39153:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 1.25a.75.75 0 0 1 .673.418l2.915 5.907 6.52.953a.75.75 0 0 1 .415 1.28l-4.717 4.594 1.113 6.491a.75.75 0 0 1-1.088.79L12 18.618l-5.83 3.067a.75.75 0 0 1-1.09-.79l1.114-6.492-4.717-4.595a.75.75 0 0 1 .415-1.28l6.52-.952 2.915-5.907A.75.75 0 0 1 12 1.25Z",clipRule:"evenodd"})}))}},77361:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M2 1.25a.75.75 0 0 0-.75.75v10c0 .2.08.39.22.53l8.59 8.58a2.75 2.75 0 0 0 3.89 0l7.17-7.17.002-.001a2.75 2.75 0 0 0 0-3.878L12.53 1.47a.75.75 0 0 0-.53-.22H2Zm2.9 5.903a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0Z",clipRule:"evenodd"})}))}},52885:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M3.47 4.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 0 1-1.06-1.06L8.94 11 3.47 5.53a.75.75 0 0 1 0-1.06ZM11.25 19a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5h-8a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},73670:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(42022);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{d:"M0 .21h7.098l6.561 9.167L21.826 0l1.94.035-9.14 10.66L24 23.79h-7.095l-6.193-8.543L3.147 24h-1.91l8.536-10.001L0 .21Zm6.429 1.354H2.68L17.678 22.4h3.681L6.43 1.564Z"})}))}},84911:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(30758),i=function(){var e=(0,r.useId)();return function(t){return"".concat(e,"-").concat(t)}}},32363:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(30758).createContext)(null)},26744:(e,t,n)=>{n.d(t,{A:()=>Z});var r=n(13454),i=n(20837),o=n(43952),a=n(5482),s=n(60049),l=n.n(s),u=n(88467),c=n(16530),d=n(60762),p=n(50670),f=n(92607),v=n.n(f),h=n(32856),g=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function m(e){return U.apply(this,arguments)}function U(){return(U=(0,r._)(function(e){var t,n,r,o,s,l,u,f,m;return(0,a.YH)(this,function(a){switch(a.label){case 0:t=e.url,n=(0,c._)(e,["url"]),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,v()(t,{credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},method:"post",body:JSON.stringify(n)})];case 2:return r=a.sent(),[3,4];case 3:throw(o=a.sent()).statusCode||(o.statusCode=504),o;case 4:if(l=(s=r.headers.get("content-type"))&&s.includes("application/json"),r.ok)return[3,9];if(!l)return[3,6];return[4,r.json()];case 5:return u=a.sent().message,[3,8];case 6:return[4,r.text()];case 7:u=a.sent(),a.label=8;case 8:throw new h.A(u||r.statusText).setExtras((0,i._)({url:t},n)).setStatusCode(r.status);case 9:if(l)return[3,11];return[4,r.text()];case 10:throw f=a.sent(),new h.A("Expected JSON response for connection metadata").setExtras((0,i._)({contentType:s,statusText:r.statusText,response:f,url:t},n)).setStatusCode(r.status);case 11:return[4,r.json()];case 12:var U;if(!((U=m=a.sent())&&(void 0===U?"undefined":(0,d._)(U))==="object"&&"token"in U&&"string"==typeof U.token&&"gurl"in U&&"string"==typeof U.gurl&&"conmanURL"in U&&"string"==typeof U.conmanURL&&("dotdevHostname"in U&&"string"==typeof U.dotdevHostname||(p.vF.error("Lore returned an incomplete metadata",{res:U}),U.dotdevHostname=""),1)))throw new h.A("Invalid format for connection metadata response").setExtras((0,i._)({connectionMetadata:m,url:t},n));if(!(m.token.startsWith("v2.public.")||g.test(m.token)))throw new h.A("Expected token to be PASETO- or base64-encoded").setExtras((0,i._)({connectionMetadata:m,url:t},n));return[2,m]}})})).apply(this,arguments)}var b=n(61949),y=n(99019),E=n(21980),S=n(68895),C=!!n(68558).env.CAPTCHA_EMBEDS;function Z(e){return _.apply(this,arguments)}function _(){return(_=(0,r._)(function(e){var t,n,r,s,c,d,p,f,v,h,g,U;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(t=e.replId,n=e.isLoggedIn,r=e.overrideClusterMetadata,s=e.requestedPid2Version,c=e.format,d=e.asViewer,p=e.retry,!y.V)throw Error("Expected apollo client");if(f=!!(l().query.lite||l().query.embed),v={url:"/data/repls/".concat(t,"/get_connection_metadata"),overrideClusterMetadata:r,requestedPid2Version:s,format:null!=c?c:u.api.token.ReplToken.WireFormat.PROTOBUF,clientVersion:"f0223803",hCaptchaSiteKey:S.lh,isEmbed:f,retry:p||0,asViewer:d},n||f&&!C)return[3,8];a.label=1;case 1:a.trys.push([1,7,,8]),a.label=2;case 2:return a.trys.push([2,4,,6]),[4,(0,b.hw)({action:"genReplToken"})];case 3:return g=a.sent(),[3,6];case 4:return a.sent(),[4,(0,S.Ay)()];case 5:return h=a.sent(),[3,6];case 6:return[2,m((0,o._)((0,i._)({},v),{captcha:h,recaptchaToken:g}))];case 7:return U=a.sent(),E.vF.error("Goval connection failure",{errorMessage:U&&U.message||"unidentified failure",replid:t,reason:"captcha",context:"services"}),[2,Z({replId:t,overrideClusterMetadata:r,retry:(p||0)+1,requestedPid2Version:s,format:c,isLoggedIn:n,asViewer:d})];case 8:return[2,m(v)]}})})).apply(this,arguments)}},52431:(e,t,n)=>{n.d(t,{A:()=>u,x:()=>l});var r=n(13454),i=n(5482),o=n(97285),a=n(65640);function s(){return(s=(0,r._)(function(){return(0,i.YH)(this,function(e){return o.A.get("gurl")?(a.log("Getting gurl from localstorage"),[2,o.A.get("gurl")]):[2,null]})})).apply(this,arguments)}function l(e){var t=function(e){try{t=new URL(e)}catch(e){return a.log("failed to parse gurl"),a.error(e),null}var t,n={secure:!1,port:""+t.port,host:t.hostname};return"wss:"===t.protocol?n.secure=!0:"ws:"!==t.protocol&&a.log(e,"Expected gurl protocol to be ws or wss, assuming insecure connection"),n.port||(n.port=n.secure?"443":"80"),n}(e);if(!t)return null;var n=t.secure,r=t.host,i=t.port;return"repl.it"===r||"gp-v2.replit.com"===r||"eval.replit.com"===r?null:{id:"development",gurl:"ws".concat(n?"s":"","://").concat(r,":").concat(i),conmanURL:"http".concat(n?"s":"","://").concat(r,":").concat(i),proxy:"http".concat(n?"s":"","://").concat(r.replace("eval","proxy"),":").concat(i)}}function u(){return c.apply(this,arguments)}function c(){return(c=(0,r._)(function(){var e;return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,function(){return s.apply(this,arguments)}()];case 1:if(!(e=t.sent()))return[2,null];return[2,l(e)]}})})).apply(this,arguments)}},24481:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(30758),i=n(32363);function o(){var e=(0,r.useContext)(i.A);if(!e)throw Error("Expected services in context");return e}},31060:(e,t,n)=>{n.d(t,{Ay:()=>_});var r=n(20837),i=n(43952),o=n(16530),a=n(66622),s=n(94086),l=n(30758),u=n(14487),c=n.n(u),d=n(52757),p=n(24955),f=n(84911),v=n(1054),h=n(41760),g=n(16195),m=n(16021),U=n(79653),b=n(14753),y=n(23336),E=n(68753),S={default:"default",loading:"default",error:"negative",success:"positive",warning:"default"},C=(0,l.forwardRef)(function(e,t){var n,u,y,C=e.label,_=e.description,x=e.icon,A=e.id,w=e.onChange,I=e.large,k=e.placeholder,O=e.validationResults,T=e.onValidationError,N=e.dataCy,R=(0,o._)(e,["label","description","icon","id","onChange","large","placeholder","validationResults","onValidationError","dataCy"]),P=(0,f.c)(),j=A||P("input"),L=_?P("input-description"):void 0,D=(0,a._)((0,l.useState)(!1),2),M=D[0],Y=D[1];(null==O?void 0:O.some(function(e){return"loading"===e.state}))?(n="loading",u=(0,s.Y)(b.A,{size:16})):(null==O?void 0:O.some(function(e){return"error"===e.state}))?(n="error",y=p.LU.accentNegativeDefault,u=(0,s.Y)(E.A,{}),M&&(null==T||T())):(null==O?void 0:O.some(function(e){return"warning"===e.state}))?(n="warning",y=p.LU.foregroundDimmest,u=(0,s.Y)(U.A,{})):(null==O?void 0:O.every(function(e){return"success"===e.state}))?(n="success",y=p.LU.accentPositiveDefault,u=(0,s.Y)(m.A,{})):n="default";var $=S[n],F=I?p.LU.fontSizeSubheadDefault:p.LU.fontSizeDefault;return(0,s.FD)("div",{css:(0,d.AH)("display:flex;position:relative;flex-direction:column;width:100%;.required{color:",p.LU.accentNegativeDefault,";font-size:",p.LU.fontSizeSmall,";}.spacer.row{width:",p.LU.space4,";}.spacer.col{height:",p.LU.space4,";}.input-container{position:relative;}.icon-container{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;transform:translateY(-50%);background-color:",p.LU.backgroundDefault,";border-radius:100%;padding:",p.LU.space4,";}.icon-container.right{right:",p.LU.space8,";color:",y,";}.icon-container.left{left:",p.LU.space4,";background-color:transparent;color:",p.LU.foregroundDimmest,";}input{font-size:",F,";font-family:",R.monospace?p.LU.fontFamilyCode:p.LU.fontFamilyDefault,";line-height:",F,";background-color:",p.LU.backgroundDefault,";color:",p.LU.foregroundDefault,";padding:",p.LU.space8,";padding-left:",x?p.LU.space24:"auto",";border:1px solid ",p.LU.outlineDimmest,";border-radius:",p.LU.borderRadius4,";outline:none;width:100%;box-sizing:border-box;transition:color 0.1s,background-color 0.1s;}input:disabled{opacity:0.5;}input.default:hover{border-color:",p.LU.accentPrimaryDimmer,";}input.success{border-color:",p.LU.accentPositiveStronger,";}input.success:hover{border-color:",p.LU.accentPositiveDimmer,";}input.negative{border-color:",p.LU.accentNegativeDefault,";}input.negative:hover{border-color:",p.LU.accentNegativeDimmer,";}input:active,input:focus{border-color:",p.LU.accentPrimaryDefault,";}"),children:[C?(0,s.FD)(s.FK,{children:[R.required?(0,s.FD)(h.z,{spacing:"2px",children:[(0,s.Y)(g.A,{tag:"label",foreground:M?1:2,size:I?"small":"xsmall",htmlFor:j,children:C}),(0,s.Y)("span",{className:"required",children:"*"})]}):(0,s.Y)(g.A,{tag:"label",foreground:M?1:2,size:I?"small":"xsmall",htmlFor:j,children:C}),(0,s.Y)(v.A,{height:"4px"})]}):null,(0,s.FD)("div",{className:"input-container",children:[x?(0,s.Y)("div",{className:"icon-container left",children:x}):null,(0,s.Y)("input",(0,i._)((0,r._)({id:j,ref:t,required:R.required||!1,onChange:w,placeholder:void 0===k?"":k,"aria-busy":"loading"===n,"aria-invalid":"error"===n,"aria-describedby":L,"data-cy":N},R),{onFocus:function(e){Y(!0),R.onFocus&&R.onFocus(e)},onBlur:function(e){Y(!1),R.onBlur&&R.onBlur(e)},className:c()($,R.className)})),u?(0,s.Y)("div",{className:"icon-container right",onMouseEnter:function(){return Y(!0)},onMouseLeave:function(){return Y(!1)},children:u}):null]}),_?(0,s.FD)(s.FK,{children:[(0,s.Y)(v.A,{height:"4px"}),(0,s.Y)(g.A,{id:L,tag:"span",foreground:3,size:I?"medium":"small",children:_})]}):null,(null==O?void 0:O.some(function(e){return!!e.message}))&&M?(0,s.Y)(Z,{validationResults:O}):null]})}),Z=function(e){var t=e.validationResults;return(0,s.Y)("div",{"aria-live":"polite",css:(0,d.AH)("width:100%;display:flex;flex-direction:column;position:absolute;top:calc(100% + ",p.LU.space4,");background-color:",p.LU.backgroundDefault,";padding:",p.LU.space8,";border-radius:",p.LU.borderRadius4,";z-index:9999;box-shadow:",p.LU.shadow2,";.validation-row{display:flex;align-items:flex-start;width:100%;padding-bottom:",p.LU.space4,";}.validation-icon-container{flex-shrink:0;padding-right:",p.LU.space4,";}"),children:t.map(function(e,t){var n;switch(e.state){case"success":n=(0,s.Y)(m.A,{color:p.LU.accentPositiveDefault});break;case"error":n=(0,s.Y)(E.A,{color:p.LU.accentNegativeDefault});break;case"warning":n=(0,s.Y)(U.A,{color:p.LU.foregroundDimmest});break;default:n=(0,s.Y)(y.A,{color:p.LU.foregroundDimmest})}return(0,s.FD)("div",{className:"validation-row",children:[(0,s.Y)("div",{className:"validation-icon-container",children:n}),(0,s.Y)(v.A,{width:"4px"}),(0,s.Y)(g.A,{foreground:2,size:"small",children:e.message})]},e.state+t.toString())})})};let _=C},1054:(e,t,n)=>{n.d(t,{A:()=>a,G:()=>o});var r=n(94086),i=n(41011),o=function(e){return"number"==typeof e&&e>0&&e in i.A.spacing?i.A.spacing[e]:e};let a=function(e){var t=e.size,n=e.width,i=e.height,a=t&&o(t);return(0,r.Y)("div",{style:{width:a||o(void 0===n?1:n),height:a||o(void 0===i?1:i),userSelect:"none",pointerEvents:"none"}})}},41760:(e,t,n)=>{n.d(t,{T:()=>v,z:()=>f});var r=n(20837),i=n(43952),o=n(16530),a=n(94086),s=n(14487),l=n.n(s),u=n(52757),c=n(1054),d=function(e){return"start"===e||"end"===e?"flex-".concat(e):e},p=function(e){var t=e.dir,n=void 0===t?"row":t,s=e.spacing,p=void 0===s?0:s,f=e.align,v=e.justify,h=e.isInline,g=e.isReversed,m=void 0!==g&&g,U=e.wrap,b=e.constrainWidth,y=e.tag,E=e.className,S=e.children,C=(0,o._)(e,["dir","spacing","align","justify","isInline","isReversed","wrap","constrainWidth","tag","className","children"]),Z="row"===n;return(0,a.Y)(void 0===y?"div":y,(0,i._)((0,r._)({className:l()(E,{"h-stack":Z,"v-stack":!Z,"constrain-width":void 0!==b&&b})},C),{css:(0,u.AH)("display:",void 0!==h&&h?"inline-flex":"flex",";flex-direction:",m?"".concat(n,"-reverse"):n,";align-items:",d(void 0===f?"start":f),";justify-content:",d(void 0===v?"start":v),";flex-wrap:",void 0===U?"wrap":U,";&.h-stack > *{margin-",m?"left":"right",":",(0,c.G)(p),";}&.h-stack > *:last-child{margin-",m?"left":"right",":0;}&.v-stack > *{margin-",m?"top":"bottom",":",(0,c.G)(p),";}&.v-stack > *:last-child{margin-",m?"top":"bottom",":0;}&.constrain-width{max-width:100%;}"),children:S}))},f=function(e){return(0,a.Y)(p,(0,i._)((0,r._)({},e),{dir:"row"}))},v=function(e){return(0,a.Y)(p,(0,i._)((0,r._)({},e),{dir:"column"}))}},16195:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),o=n(94086),a=n(41011);function s(e){var t=e.size,n=e.tag,s=e.fontFamily,l=e.fontWeight,u=e.foreground,c=e.align,d=e.truncate,p=e.className,f=e.children,v=e.onClick,h={fontSize:a.A.fontSize[void 0===t?"medium":t],fontFamily:a.A.fontFamily[void 0===s?"sans-serif":s],fontWeight:a.A.fontWeight[void 0===l?"regular":l],color:a.A.foreground[void 0===u?1:u],textAlign:void 0===c?"left":c,transition:"opacity 0.1s"};return void 0!==d&&d&&(h=(0,i._)((0,r._)({},h),{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%"})),(0,o.Y)(void 0===n?"span":n,{onClick:v,className:void 0===p?"":p,style:h,children:f})}},41011:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(24955);let i={fontFamily:{"sans-serif":r.LU.fontFamilyDefault,serif:r.LU.fontFamilyDefault,monospace:r.LU.fontFamilyCode},fontWeight:{light:r.LU.fontWeightRegular,regular:r.LU.fontWeightRegular,medium:r.LU.fontWeightMedium,bold:r.LU.fontWeightBold},levels:{1:r.LU.fontSizeHeaderBig,2:r.LU.fontSizeHeaderBig,3:r.LU.fontSizeHeaderDefault,4:r.LU.fontSizeSubheadBig,5:r.LU.fontSizeSubheadDefault,6:r.LU.fontSizeSmall},foreground:{1:r.LU.foregroundDefault,2:r.LU.foregroundDimmer,3:r.LU.foregroundDimmest,4:r.LU.foregroundDimmest,"transparent-1":r.LU.foregroundDimmest,"transparent-2":r.LU.foregroundDimmest},background:{1:r.LU.backgroundDefault,2:r.LU.backgroundRoot,3:r.LU.backgroundRoot},lineHeight:{xxsmall:r.LU.lineHeightSmall,xsmall:r.LU.lineHeightSmall,small:r.LU.lineHeightDefault,medium:r.LU.lineHeightSubheadDefault,large:r.LU.lineHeightSubheadDefault,xlarge:r.LU.lineHeightHeaderDefault,xxlarge:r.LU.lineHeightHeaderDefault},fontSize:{xxsmall:r.LU.fontSizeSmall,xsmall:r.LU.fontSizeSmall,small:r.LU.fontSizeDefault,medium:r.LU.fontSizeSubheadDefault,large:r.LU.fontSizeSubheadDefault,xlarge:r.LU.fontSizeHeaderDefault,xxlarge:r.LU.fontSizeHeaderDefault},spacing:{half:r.LU.space4,1:r.LU.space8,2:r.LU.space16,3:r.LU.space24,4:r.LU.space32,5:r.LU.space48,6:r.LU.space48,7:r.LU.space64,8:r.LU.space64,9:r.LU.space64,10:r.LU.space64,11:r.LU.space64,12:r.LU.space128}}},52881:(e,t,n)=>{n.d(t,{A:()=>F,W:()=>D});var r,i=n(13454),o=n(72275),a=n(66622),s=n(27189),l=n(5482),u=n(94086),c=n(25204),d=n.n(c),p=n(30758),f=n(5761),v=n(73754),h=n(97407),g=n(3596),m=n(82436),U=n(56071),b=n(77420),y=n(86316),E=n(24955),S=n(10168),C=n(32842),Z=n(40172),_=n(25877),x=n(40889),A=n(8367),w=n(21456),I=n(84761),k=n(29895),O=n(63516),T=n(40904),N=n(8473),R=n(18747),P=n(39153),j=(0,S.x)({back:[C.wp.width(72),C.wp.mb(16)],backMobile:[C.wp.width(72),(0,o._)({},C.$_.min("tabletMin"),[C.wp.display.none])],mobileCoreSidebar:[(0,o._)({},C.$_.min("tabletMin"),[C.wp.display.none])],mobileFooter:[C.wp.pt(16)],teamsLinkMobile:[C.wp.pl(4)],coreBenefit:[C.wp.mt(4),C.wp.p(6),C.wp.borderRadius(),(0,o._)({},C.$_.min("tabletMin"),[C.wp.mt(12)])],coreBenefitText:[C.wp.flex.grow(1),C.wp.pt(1),C.wp.colWithGap(8),(r={flex:"1 1 0"},(0,o._)(r,C.$_.max("mobileMax"),[C.wp.flex.growAndShrink(1),{".SingleLineResponsive":{width:"100%",lineHeight:E.LU.lineHeightSmall}}]),(0,o._)(r,"span:has(> .SingleLineResponsive)",(0,o._)({},C.$_.max("mobileMax"),{height:"unset",marginTop:-4})),r)],coreSidebarInfoWrapper:[[C.wp.colWithGap(40),C.wp.maxWidth("50%"),(0,o._)({},C.$_.max("tabletMin"),[C.wp.display.none])]],coreSidebarInfoItems:[C.wp.py(16),C.wp.px(32),C.wp.height("100%"),C.wp.backgroundColor.backgroundOverlay,C.wp.justify.spaceBetween],wrapper:[C.wp.height("100%"),C.wp.borderRadius(8),C.wp.overflow("hidden"),C.wp.minHeight(410)],contentContainer:[[C.wp.flex.growAndShrink(1),C.wp.p(16),C.wp.colWithGap(16),(0,o._)({},C.$_.min("tabletMin"),[C.wp.width(412)])]],link:[C.wp.mt(4),C.wp.p(6),(0,o._)({},C.$_.min("tabletMin"),[C.wp.mt(12)])],viewMore:[C.wp.color.foregroundDimmest,C.wp.rowWithGap(8),C.wp.align.center,C.wp.cursor.pointer,{fontWeight:200}],workMobile:[C.wp.width("100%"),C.wp.justify.center,C.wp.textAlign.center],mobileHide:[(0,o._)({},C.$_.max("tabletMin"),[C.wp.display.none])],addon:[C.wp.width("100%"),C.wp.flex.growAndShrink(1)],star:[C.wp.color.accentPrimaryStronger]}),L=function(e){var t=e.highlightUpsell,n=(0,p.useMemo)(function(){var e=[{title:"$".concat(g.Qz," monthly credits"),subtitle:"Top up for more usage every month",icon:(0,u.Y)(N.A,{}),highlight:"credits"===t},{title:"Unlimited private apps",subtitle:"Create unlimited private apps",icon:(0,u.Y)(R.A,{}),highlight:"replLimit"===t}];switch(e.unshift({title:"More access to ".concat((0,v.Nn)({variant:"formal"})),subtitle:"Build sites and apps automatically using natural language",icon:(0,u.Y)(w.A,{}),highlight:"agent"===t}),t){case"assistant":e.unshift({title:"Advanced ".concat(v.BP," capabilities"),subtitle:v.MZ,icon:(0,u.Y)(k.A,{}),highlight:"assistant"===t});break;case"deployments":e.unshift({title:"Unlock all Deployment types",subtitle:"Autoscale, Reserved VMs, Scheduled, and Static",icon:(0,u.Y)(O.A,{}),highlight:"deployments"===t})}var n=e.find(function(e){return e.highlight}),r=e.filter(function(e){return!e.highlight});return n?[n].concat((0,s._)(r)):e},[t]);return(0,u.Y)(u.FK,{children:n.map(function(e,t){return(0,u.Y)(D,{title:e.title,subtitle:e.subtitle,icon:e.icon,highlight:e.highlight},t)})})};function D(e){var t=e.title,n=e.icon,r=e.subtitle,i=e.highlight,o=e.addon;return(0,u.FD)(A.S,{css:j.coreBenefit,row:!0,gap:8,style:{borderRadius:E.LU.borderRadius6,backgroundColor:i?"color-mix(in srgb, ".concat(E.LU.backgroundHighest," 50%, transparent)"):"transparent",padding:i?"8px 8px":""},children:[(0,u.Y)(A.S,{style:{color:E.LU.accentPrimaryStronger},children:n}),(0,u.FD)(A.S,{css:j.coreBenefitText,children:[(0,u.Y)(x.EY,{variant:"text",height:"singleLine",className:"SingleLineResponsive",children:t}),r?(0,u.Y)(A.S,{css:j.mobileHide,children:(0,u.Y)(x.EY,{variant:"small",color:"dimmer",multiline:!0,children:r})}):null,o?(0,u.Y)(A.S,{css:j.addon,children:o}):null]}),i?(0,u.Y)(P.A,{css:j.star}):null]})}var M=function(e){var t=e.analyticsContext,n=e.contextualUpsell,r=e.onBack,i=e.highlightUpsell;return(0,u.Y)(A.S,{css:j.coreSidebarInfoWrapper,children:(0,u.FD)(A.S,{css:j.coreSidebarInfoItems,gap:8,children:[(0,u.FD)(A.S,{children:[r?(0,u.Y)(Z.$n,{css:j.back,iconLeft:(0,u.Y)(I.A,{}),onClick:r,size:"small",text:"Back",stretch:!1}):null,n||(0,u.FD)(x.EY,{variant:"subheadBig",children:["Upgrade to Replit ",h.en]}),(0,u.FD)(A.S,{children:[(0,u.Y)(L,{highlightUpsell:i}),(0,u.Y)(A.S,{css:j.link,children:(0,u.Y)(d(),{href:"/pricing",target:"_blank",onClick:function(){(0,m.u4)(m.AZ.CORE_PURCHASE_PRICING_CLICKED,{source:t.upgrade.context,surface:t.upgrade.surface})},children:(0,u.FD)(A.S,{css:j.viewMore,children:[(0,u.Y)(T.A,{}),(0,u.Y)(x.EY,{variant:"small",color:"dimmer",children:"View More Features"})]})})})]})]}),(0,u.Y)(A.S,{})]})})},Y=function(e){var t=e.analyticsContext,n=e.contextualUpsell;return(0,u.FD)(u.FK,{children:[(0,u.FD)(A.S,{css:j.mobileCoreSidebar,children:[(0,u.FD)(A.S,{children:[n||(0,u.FD)(x.EY,{variant:"subheadDefault",children:["Upgrade to Replit ",h.en]}),(0,u.FD)(A.S,{children:[(0,u.Y)(L,{}),(0,u.Y)(A.S,{css:j.link,children:(0,u.Y)(d(),{href:"/pricing",target:"_blank",onClick:function(){(0,m.u4)(m.AZ.CORE_PURCHASE_PRICING_CLICKED,{source:t.upgrade.context,surface:t.upgrade.surface})},children:(0,u.FD)(A.S,{css:j.viewMore,children:[(0,u.Y)(T.A,{}),(0,u.Y)(x.EY,{variant:"small",color:"dimmer",children:"View More Features"})]})})})]})]}),(0,u.Y)(A.S,{css:j.mobileFooter,children:(0,u.Y)(A.S,{css:j.workMobile,children:(0,u.FD)(x.EY,{variant:"small",color:"dimmer",children:["Using Replit at work?",(0,u.FD)(d(),{css:j.teamsLinkMobile,href:U.NI.href,onClick:function(){(0,m.u4)(m.AZ.CORE_PURCHASE_TEAMS_CLICKED,{source:t.upgrade.context,surface:t.upgrade.surface})},children:["Try out ",h.$B]})]})})})]}),(0,u.Y)(_.a,{css:j.mobileCoreSidebar})]})},$=function(e){var t=e.onClose,n=e.analyticsContext,r=e.onPurchaseComplete,i=e.children,o=e.selectedPlanPeriod,s=(0,b.y)().paymentMethod,l=(0,a._)((0,p.useState)(null!=o?o:"yearly"),2),c=l[0],d=l[1],f=(0,a._)((0,p.useState)("new_payment_method_form"),2),v=f[0],h=f[1];return(0,p.useEffect)(function(){var e;(0,m.u4)(m.AZ.CORE_MEMBERSHIP_MODAL_USED,{action:"modal_viewed",source:n.upgrade.context,surface:n.upgrade.surface,planType:c}),(0,m.u4)(m.AZ.SEEN_YEARLY_PRICE,{surface:null!==(e=n.upgrade.surface)&&void 0!==e?e:"membership-modal",context:n.upgrade.context})},[n.upgrade.context,n.upgrade.surface,c]),(0,p.useEffect)(function(){if(null==s?void 0:s.last4){h("card_on_file");return}},[null==s?void 0:s.last4,h]),(0,u.Y)(y.A,{planPeriod:c,setPlanPeriod:d,paymentState:v,paymentMethodLast4:null==s?void 0:s.last4,setPaymentState:h,onClose:t,analyticsContext:n,onPurchaseComplete:r,children:i})};function F(e){var t=e.onClose,n=e.type,r=e.analyticsContext,o=e.onPurchaseComplete,a=e.reloadPageAfterPurchaseComplete,s=e.contextualUpsell,c=e.onBack,d=e.children,p=e.highlightUpsell,v=e.selectedPlanPeriod,h=(0,f.m)();return(0,u.FD)(A.S,{css:j.wrapper,row:!0,children:[(0,u.Y)(M,{contextualUpsell:s,onBack:c,analyticsContext:r,highlightUpsell:p}),(0,u.FD)(A.S,{css:j.contentContainer,children:[c?(0,u.Y)(Z.$n,{css:j.backMobile,iconLeft:(0,u.Y)(I.A,{}),onClick:c,size:"small",text:"Back",stretch:!1}):null,(0,u.Y)(Y,{analyticsContext:r,contextualUpsell:s}),(0,u.Y)($,{type:n,onClose:t,analyticsContext:r,onPurchaseComplete:(0,i._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(null==o||o(),!a)return[3,1];return window.location.reload(),[3,3];case 1:return[4,h.refetchQueries({include:"active"})];case 2:e.sent(),e.label=3;case 3:return[2]}})}),selectedPlanPeriod:v,children:d})]})]})}},40500:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(94086),i=n(52881),o=n(76985);function a(e){var t=e.isOpen,n=e.onClose,a=e.type,s=e.analyticsContext,l=e.onPurchaseComplete,u=e.reloadPageAfterPurchaseComplete,c=e.contextualUpsell,d=e.centered,p=e.children,f=e.highlightUpsell,v=e.selectedPlanPeriod;return(0,r.Y)(o.a,{isOpen:null!=t&&t,onRequestClose:n,maxWidth:950,fitContent:!0,noPadding:!0,centered:d,children:(0,r.Y)(i.A,{type:a,analyticsContext:s,onPurchaseComplete:l,reloadPageAfterPurchaseComplete:u,contextualUpsell:c,onClose:n,highlightUpsell:f,selectedPlanPeriod:v,children:p})})}},86316:(e,t,n)=>{n.d(t,{r:()=>eS,A:()=>eZ});var r=n(72275),i=n(66622),o=n(94086),a=n(30758),s=n(97407),l=n(63679),u=n(21980),c=n(82436),d=n(43828),p=n(13454),f=n(5482),v=n(79625),h=n(90935),g=n(54867),m=n(44576),U=n(39651),b=n(53437),y=n(78504),E=n(63858),S=n(20837),C=n(45009),Z=n(30632),_=n(75838),x=n(61080);function A(){var e=(0,C._)(["\n  mutation CreateReplitPlanCheckoutSession(\n    $input: CreateReplitPlanCheckoutSessionInput!\n  ) {\n    createReplitPlanCheckoutSession(input: $input) {\n      ... on CreateReplitPlanCheckoutSessionResult {\n        checkoutSession {\n          id\n          status\n        }\n        clientSecret\n        amount\n        currentUser {\n          id\n          paymentMethod {\n            ... on PaymentMethod {\n              ...UserPaymentMethod\n            }\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n    }\n  }\n  ","\n"]);return A=function(){return e},e}var w={},I=(0,Z.J1)(A(),x.R);function k(){var e,t,n=(0,i._)((e=(0,S._)({},w,void 0),_.n(I,e)),2),r=n[0],o=n[1].called;return{createCheckoutSession:(t=(0,p._)(function(e){var t,n,i,o,a,s,l,u,c,d,p;return(0,f.YH)(this,function(f){switch(f.label){case 0:return t=e.planPrefix,n=e.planPeriod,i=e.customerName,o=e.promoCodeExternalId,a=e.onError,s=e.onSucceed,[4,r({variables:{input:{planPrefix:t,planPeriod:n,customerName:i,promoCodeExternalId:o}}})];case 1:if(u=(l=f.sent()).data,c=l.errors)return a(c[0].message),[2,{clientSecret:null,checkoutSessionId:null,amount:null}];if(!(d=null==u?void 0:u.createReplitPlanCheckoutSession))return a("An error occurred. Please try again."),[2,{clientSecret:null,checkoutSessionId:null,amount:null}];if((null==d?void 0:d.__typename)!=="CreateReplitPlanCheckoutSessionResult")return a(d.message),[2,{clientSecret:null,checkoutSessionId:null,amount:null}];return p={clientSecret:d.clientSecret,checkoutSessionId:d.checkoutSession.id,amount:d.amount},s&&s(p),[2,p]}})}),function(e){return t.apply(this,arguments)}),called:o}}var O=n(96095),T=n(5979),N=n(78547),R=n(77420),P=n(10168),j=n(32842),L=n(40889),D=n(8367),M=n(14753);function Y(e){switch(e){case"monthly":return h.L2.Monthly;case"yearly":return h.L2.Yearly;default:(0,g.A)(e)}}function $(e){var t,n=e.planId,r=e.period,s=e.onCheckoutComplete,l=e.promoCodeData,u=e.promoCodeLoading,d=void 0!==u&&u,h=e.children,g=(0,v.useStripe)(),S=(0,R.y)().paymentMethod,C=(0,i._)((0,a.useState)("Processing..."),2),Z=C[0],_=C[1],x=(0,i._)((0,a.useState)(!1),2),A=x[0],w=x[1],I=(0,i._)((0,a.useState)(!1),2),P=I[0],j=I[1],Y=(0,U.A)().showError,$=k().createCheckoutSession,W=(0,T.f)().startPolling,q=(t=(0,i._)((0,O.NU)(),1)[0],{fetchPlanStatus:function(e){var n=e.onError,r=e.onSucceeded;t({fetchPolicy:"cache-and-network",ssr:!1,onCompleted:function(e){var t;(null===(t=e.currentUser)||void 0===t?void 0:t.__typename)==="CurrentUser"?r():n("Error getting updated subscription status.")},onError:function(e){n(e.message)}})}}).fetchPlanStatus,H=(0,N.A)({planPrefix:n,planPeriod:r}),G=H.totalCostInUsdText,V=H.loading,B=H.error,z=(0,a.useCallback)(function(){j(!1)},[j]);function K(e,t,n){return Q.apply(this,arguments)}function Q(){return(Q=(0,p._)(function(e,t,n){var r,i;return(0,f.YH)(this,function(o){switch(o.label){case 0:return _("Processing payment..."),[4,n.confirmCardPayment(e)];case 1:if(r=o.sent().error)return Y(null!==(i=r.message)&&void 0!==i?i:"An error occurred. Please try again."),z(),[2];return _("Upgrading your account..."),W({checkoutSessionId:t,onSucceeded:function(){q({onError:function(e){Y(e),z()},onSucceeded:function(){j(!1),_("Success!"),w(!0),s&&s()}})},onFailed:function(){Y("Payment failed. Please try again."),z()},onError:function(e){Y(e),z()}}),[2]}})})).apply(this,arguments)}function X(){return(X=(0,p._)(function(e){var t,i,o;return(0,f.YH)(this,function(a){switch(a.label){case 0:if(null==S)return Y("A payment method is required."),(0,y.P)(Error("User attempted plan purchase without a payment method.")),[2];if(null==g)return Y("Error loading payment system."),(0,y.P)(Error("User attempted plan purchase without Stripe loaded.")),[2];if(j(!0),_("Checking out..."),"ValidPromoCode"===e.type)return(0,c.u4)(c.AZ.CORE_PROMO_CODE_CHECKOUT,{promoCode:e.code,period:r}),K(e.clientSecret,e.checkoutSessionId,g),[2];return[4,$({planPrefix:(0,b.Lq)(n),planPeriod:(0,b.Xe)(r),onError:function(e){Y(e),z()}})];case 1:if(i=(t=a.sent()).clientSecret,o=t.checkoutSessionId,!i||!o)return z(),[2];return K(i,o,g),[2]}})})).apply(this,arguments)}if(V)return(0,o.Y)(D.S,{align:"center",children:(0,o.Y)(M.A,{size:24})});if(null!=B)return(0,o.FD)(L.EY,{css:F.unrecoverableError,children:["Something went wrong. Please contact us at"," ",(0,o.Y)("a",{href:"mailto:support@replit.com",children:"support@replit.com"}),"."]});var J="ValidPromoCode"===l.type&&"number"==typeof l.totalDue?(0,m.b0)(l.totalDue):G;return(0,o.FD)(D.S,{gap:8,children:[(0,o.Y)(E.T,{isMakingPayment:!0,disabled:!S||P||A||d,initialStateTextOverride:"Confirm purchase (".concat(J,")"),processingStateTextOverride:d?"Applying promo code...":Z,showProcessingState:P||d,showSuccessState:A,onClick:function(){return function(e){return X.apply(this,arguments)}(l)}}),h]})}var F=(0,P.x)({unrecoverableError:[j.wp.textAlign.center]}),W=n(43952),q=n(72813),H=n(43751);function G(){var e=(0,C._)(["\n  fragment PromoCodeDuration on PromoCodeInfoDuration {\n    __typename\n    ... on PromoCodeInfoDurationOnce {\n      type\n    }\n    ... on PromoCodeInfoDurationForever {\n      type\n    }\n    ... on PromoCodeInfoDurationRepeating {\n      type\n      durationInMonths\n    }\n  }\n"]);return G=function(){return e},e}function V(){var e=(0,C._)(["\n  fragment PaymentDialogPromoCodeInfo on PromoCodeInfo {\n    externalId\n    code\n    amount\n    duration {\n      ...PromoCodeDuration\n    }\n    planPeriod\n  }\n  ","\n"]);return V=function(){return e},e}function B(){var e=(0,C._)(["\n  query PromoCodeUserVerified {\n    currentUser {\n      id\n      isVerified\n    }\n  }\n"]);return B=function(){return e},e}function z(){var e=(0,C._)(["\n  query PromoCodeInfo($input: PromoCodeInfoInput!) {\n    promoCodeInfo(input: $input) {\n      ...PaymentDialogPromoCodeInfo\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return z=function(){return e},e}var K={},Q=(0,Z.J1)(G()),X=(0,Z.J1)(V(),Q),J=(0,Z.J1)(B()),ee=(0,Z.J1)(z(),X),et=n(21847),en=n(34805),er=n(40172),ei=n(25877),eo=n(28354),ea=n(42022);function es(e){return(0,o.Y)(ea.Ay,(0,W._)((0,S._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M1.25 2A.75.75 0 0 1 2 1.25h10a.75.75 0 0 1 .53.22l8.592 8.591a2.75 2.75 0 0 1 0 3.878l-.002.001-7.17 7.17a2.749 2.749 0 0 1-3.89 0l-8.59-8.58a.75.75 0 0 1-.22-.53V2Zm1.5.75v8.94l8.37 8.36a1.255 1.255 0 0 0 1.364.271 1.25 1.25 0 0 0 .405-.271l7.17-7.169c-.001 0 0 0 0 0a1.252 1.252 0 0 0 0-1.762l-8.37-8.369H2.75ZM6.25 7A.75.75 0 0 1 7 6.25h.01a.75.75 0 0 1 0 1.5H7A.75.75 0 0 1 6.25 7Z",clipRule:"evenodd"})}))}var el=(0,P.x)({errorText:[j.wp.color.accentNegativeStronger],promoCodeTag:[j.wp.backgroundColor.backgroundHigher,j.wp.py(4),j.wp.px(8),j.wp.borderRadius(4),{alignSelf:"flex-start"}],promoCodeInput:[j.wp.borderRadius(8)]}),eu=function(e){var t,n,r,l,u=e.promoCodeData,c=e.setPromoCodeData,d=e.period,v=e.promoCodeLoading,y=e.setPromoCodeLoading,E=e.totalCostInUsdText,C=(0,U.A)().showError,Z=(0,et.W)("",function(){}),_=k().createCheckoutSession,x=(0,i._)((t={onError:function(){c({type:"NoPromoCode"}),y(!1)}},n=(0,S._)({},K,t),H._(ee,n)),2),A=x[0],w=x[1],I=w.error,O=w.loading,T=(r=(0,S._)({},K,void 0),q.I(J,r)),N=T.data,R=T.loading,P=null==N?void 0:null===(l=N.currentUser)||void 0===l?void 0:l.isVerified;(0,a.useEffect)(function(){O&&y(!0)},[O,y]);var j=(0,a.useCallback)((0,p._)(function(){var e,t,n,r,i,o,a;return(0,f.YH)(this,function(l){switch(l.label){case 0:if(0===Z.value.length)return y(!1),[2];return[4,A({variables:{input:{code:Z.value,planPeriod:Y(d)}}})];case 1:if(t=(e=l.sent()).error,n=e.data,t||!n)return c({type:"NoPromoCode"}),C("An error occurred. Please try again."),y(!1),[2];if("NotFoundError"===n.promoCodeInfo.__typename)return c({type:"NotFoundPromoCode"}),C("Invalid promo code."),y(!1),[2];if("UserError"===n.promoCodeInfo.__typename)return c({type:"NotApplicablePromoCode",message:n.promoCodeInfo.message}),C(n.promoCodeInfo.message),y(!1),[2];if("PromoCodeInfo"!==n.promoCodeInfo.__typename)return c({type:"NoPromoCode"}),C("Something went wrong. Please try again."),y(!1),[2];return y(!0),[4,_({planPrefix:(0,b.Lq)(s.bx),planPeriod:(0,b.Xe)(d),promoCodeExternalId:n.promoCodeInfo.externalId,onError:function(e){C(e),y(!1)}})];case 2:if(i=(r=l.sent()).clientSecret,o=r.checkoutSessionId,a=r.amount,!i||!o||"number"!=typeof a)return C("Something went wrong. Please try again."),c({type:"NoPromoCode"}),y(!1),[2];return c((0,W._)((0,S._)({type:"ValidPromoCode"},n.promoCodeInfo),{clientSecret:i,checkoutSessionId:o,totalDue:a})),Z.setValue(""),y(!1),[2]}})}),[_,A,d,Z,c,y,C]),$="ValidPromoCode"===u.type&&"number"==typeof u.totalDue?(0,m.b0)(u.totalDue):E;return((0,a.useEffect)(function(){(null==u?void 0:u.type)==="ValidPromoCode"&&Y(d)!==u.planPeriod&&(c({type:"NoPromoCode"}),y(!1))},[d,u,c,y]),!P||R)?null:(0,o.FD)(o.FK,{children:[(0,o.Y)(D.S,{children:"ValidPromoCode"===u.type?(0,o.FD)(D.S,{row:!0,gap:8,justify:"space-between",align:"center",children:[(0,o.FD)(D.S,{children:[(0,o.FD)(D.S,{css:el.promoCodeTag,row:!0,gap:4,align:"center",children:[(0,o.Y)(es,{}),(0,o.Y)(L.EY,{variant:"subheadDefault",children:u.code})]}),(0,o.Y)(L.EY,{variant:"small",color:"dimmer",children:"".concat((0,m.b0)(u.amount)," off ").concat(function(e){var t=e.duration;switch(t.__typename){case"PromoCodeInfoDurationRepeating":var n=e.planPeriod===h.L2.Yearly?"year":"month",r=e.planPeriod===h.L2.Yearly?12:1,i=Math.ceil(t.durationInMonths/r);return"for ".concat((0,en.A)(n,i,!0));case"PromoCodeInfoDurationOnce":return"once";case"PromoCodeInfoDurationForever":return"in perpetuity";default:(0,g.A)(t)}}(u))})]}),(0,o.Y)(D.S,{children:(0,o.FD)(L.EY,{variant:"text",color:"dimmer",children:["-",(0,m.b0)(u.amount)]})})]}):(0,o.FD)(o.FK,{children:[(0,o.FD)(D.S,{row:!0,gap:8,children:[(0,o.Y)(eo.pd,{"aria-label":"Promo code",type:"text",placeholder:"Promo code",value:Z.value,onChange:function(e){return Z.setValue(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&j()},css:el.promoCodeInput,"aria-invalid":!!(I||"NoPromoCode"!==u.type)}),(0,o.Y)(er.$n,{disabled:0===Z.value.length,loading:v,onClick:function(){return j()},iconLeft:v?(0,o.Y)(M.A,{size:16}):void 0,text:v?"Applying":"Apply"})]}),"NotFoundPromoCode"===u.type&&(0,o.Y)(L.EY,{variant:"small",css:el.errorText,children:"Invalid promo code"}),"NotApplicablePromoCode"===u.type&&(0,o.Y)(L.EY,{variant:"small",css:el.errorText,children:u.message})]})}),"ValidPromoCode"===u.type&&$?(0,o.FD)(o.FK,{children:[(0,o.FD)(D.S,{row:!0,gap:8,justify:"space-between",children:[(0,o.Y)(L.EY,{variant:"subheadDefault",children:"Subtotal:"}),(0,o.Y)(D.S,{children:(0,o.Y)(L.EY,{variant:"subheadDefault",children:$})})]}),(0,o.Y)(ei.a,{})]}):null]})},ec=n(69796),ed=n(49377),ep=n(24955),ef=n(84911),ev=n(24239),eh=n(95235),eg=n(31955),em=n(72602),eU=n(60372),eb=n(10001),ey=n(77361),eE=(0,P.x)({savedMethodWrapper:[j.wp.borderRadius(8)],planPeriodToggleV2:[j.wp.border({color:ep.LU.outlineDimmer,width:1,style:"solid"}),j.wp.maxWidth(400),(0,r._)({label:[j.wp.height("unset"),j.wp.py(4),{borderRadius:3}]},"label > span",[j.wp.fontSize(12),{lineHeight:1.2}])],yearlyTotalCost:[j.wp.ml(8)],header:[j.wp.mt(16),j.wp.position.relative],offset:[j.wp.position.absolute,j.wp.top(-16),j.wp.left(0)],textPrice:[j.wp.mt(32)],yearly:[j.wp.textAlign.center],tag:[j.wp.pl(4),j.wp.rowWithGap(2),j.wp.align.center],percent:[j.wp.color.accentPrimaryStronger,j.wp.hover(j.wp.color.accentPrimaryStrongest)]});function eS(e){var t=e.background,n=e.last4,r=e.onPaymentEdit,i=(0,l._P)({controlName:"flag-reverse-apollo-13",type:"boolean",default:!1,logFlagToAnalytics:!1});return(0,o.FD)(eg.ui,{elevated:!0,background:void 0===t?"default":t,css:eE.savedMethodWrapper,row:!0,justify:"space-between",style:i?{}:{padding:ep.LU.space16},children:[(0,o.Y)(L.EY,{variant:"text",children:"Saved payment method"}),(0,o.FD)(D.S,{row:!0,gap:8,align:"center",children:[(0,o.Y)(eU.A,{}),(0,o.Y)(d.l,{last4:n}),(0,o.Y)(eh.K0,{alt:"Edit payment method",onClick:r,children:(0,o.Y)(eb.A,{})})]})]})}function eC(e){var t=e.paymentState,n=e.paymentMethodLast4,r=e.setPaymentState,i=e.planPeriod,a=e.children,l=e.onCheckout,u=e.promoCodeData,c=e.promoCodeLoading;return n&&"card_on_file"===t?(0,o.FD)(o.FK,{children:[(0,o.Y)(eS,{last4:n,onPaymentEdit:function(){return r("new_payment_method_form")}}),(0,o.Y)($,{planId:s.bx,period:i,onCheckoutComplete:l,promoCodeData:u,promoCodeLoading:void 0!==c&&c,children:a}),(0,o.Y)(ed.V,{disclaimerTextAction:"completing this purchase and adding this payment method"})]}):(0,o.Y)(ec.y,{onSuccess:function(){return r("card_on_file")},buttonText:"Save and continue to checkout",buttonIcon:(0,o.Y)(em.A,{}),children:a})}function eZ(e){var t=e.paymentState,n=e.paymentMethodLast4,r=e.planPeriod,l=e.setPlanPeriod,d=e.setPaymentState,p=e.onClose,f=e.analyticsContext,v=e.onPurchaseComplete,h=e.children,g=(0,ef.c)(),m=(0,N.A)({planPrefix:s.bx,planPeriod:r}),U=m.recurringCostDisplayText,b=m.totalCostInUsdText,y=(0,N.A)({planPrefix:s.bx,planPeriod:"monthly"}).costInUsdCents,E=(0,N.A)({planPrefix:s.bx,planPeriod:"yearly"}).costInUsdCents,S=y&&E?Math.round((12*y-E)/(12*y)*100):0,C=(0,i._)((0,a.useState)(!1),2),Z=C[0],_=C[1],x=(0,i._)((0,a.useState)({type:"NoPromoCode"}),2),A=x[0],w=x[1],I="yearly"===r&&b?(0,o.FD)(L.EY,{variant:"subheadDefault",children:[b,"/year",(0,o.FD)(L.EY,{css:eE.yearlyTotalCost,variant:"subheadDefault",color:"dimmest",children:["(",U,")"]})]}):(0,o.Y)(L.EY,{variant:"subheadDefault",children:U});return(0,o.FD)(o.FK,{children:[(0,o.FD)(D.S,{dataCy:"core-modal",css:eE.header,children:[(0,o.Y)(D.S,{css:eE.offset,children:(0,o.FD)(ev.e2,{css:eE.planPeriodToggleV2,row:!0,name:"plan_period_toggle",value:r,onChange:function(e){(0,c.u4)(c.AZ.PLAN_COMPARISON_USED,{action:"period_toggled",context:f.upgrade.context,surface:f.upgrade.surface}),l(e)},children:[(0,o.Y)(ev.$O,{id:g("monthly"),value:"monthly",text:"Monthly"}),(0,o.Y)(ev.$O,{id:g("yearly"),value:"yearly",text:(0,o.FD)(D.S,{css:eE.yearly,row:!0,gap:2,align:"center",children:[(0,o.Y)(L.EY,{variant:"small",children:"Yearly"}),S>0?(0,o.FD)(D.S,{css:eE.tag,children:[(0,o.Y)(ey.A,{color:ep.LU.accentPrimaryStronger,size:12}),(0,o.FD)(L.EY,{css:eE.percent,variant:"small",children:[S,"% off"]})]}):null]})})]})}),(0,o.FD)(D.S,{css:eE.textPrice,row:!0,gap:8,justify:"space-between",children:[(0,o.FD)(L.EY,{variant:"subheadDefault",children:[s.en," plan"]}),I]})]}),(0,o.Y)(ei.a,{}),(0,o.Y)(eu,{period:r,setPromoCodeData:w,promoCodeData:A,promoCodeLoading:Z,setPromoCodeLoading:_,totalCostInUsdText:b}),(0,o.Y)(D.S,{gap:16,children:(0,o.Y)(eC,{paymentState:t,paymentMethodLast4:n,planPeriod:r,setPaymentState:d,promoCodeData:A,promoCodeLoading:Z,onCheckout:function(){var e=f.upgrade,n=e.context,i=e.surface,o=null!=i?i:"membership_purchase_modal";(0,c.u4)(c.AZ.CORE_MEMBERSHIP_MODAL_USED,{action:"checkout_complete",source:n,surface:o,planType:r}),u.vF.info("Checkout Complete successful",{surface:o,planType:r,paymentState:t}),null==v||v(),p()},children:h})})]})}},88323:(e,t,n)=>{n.d(t,{Ay:()=>f,Mh:()=>d});var r=n(20837),i=n(43952),o=n(45009),a=n(94086),s=n(25204),l=n.n(s),u=n(30632);function c(){var e=(0,o._)(["\n    fragment UserLinkUser on User {\n      id\n      url\n      username\n    }\n  "]);return c=function(){return e},e}var d=function(e){return{href:{pathname:"/profile",query:{username:"string"==typeof e?e:e.username}},as:"string"==typeof e?"/@".concat(e):e.url}},p=function(e){var t=e.user,n=e.children;return(0,a.Y)(l(),(0,i._)((0,r._)({legacyBehavior:!0},d(t)),{prefetch:!1,passHref:!0,children:n}))};p.fragments={user:(0,u.Ay)(c())};let f=p},271:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(30758).createContext)(null)},92105:(e,t,n)=>{n.d(t,{H:()=>d,Q:()=>p});var r=n(20837),i=n(43952),o=n(67925),a=n(55195),s=n(82436),l={workspace:!0,bsod:!1},u="undefined-event-id";function c(e,t){var n=u;return a.v4(function(i){var o;i.setTags((0,r._)({},l,null!==(o=null==t?void 0:t.tags)&&void 0!==o?o:{})),(null==t?void 0:t.componentStack)&&i.setContext("react",{componentStack:t.componentStack}),(null==t?void 0:t.extras)&&i.setExtras(t.extras),n=a.Cp(e)||u}),n}function d(e,t){return(0,s.u4)(s.AZ.WS_CRASHED),(t=null!=t?t:{}).tags=(0,i._)((0,r._)({},t.tags),{workspace:!0,bsod:!0}),o.L.addError(e,(0,r._)({},t.tags)),c(e,t)}function p(e,t){return(t=null!=t?t:{}).tags=(0,i._)((0,r._)({},t.tags),{workspace:!0,bsod:!1}),c(e,t)}},79261:(e,t,n)=>{n.d(t,{Ay:()=>p,pI:()=>d});var r=n(60049),i=n.n(r),o=n(45009);function a(){var e=(0,o._)(["\n  query TrackAgentAnalyticsEvent($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        origin {\n          ... on Repl {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return a=function(){return e},e}var s=(0,n(30632).J1)(a()),l=n(99019),u=n(99655),c=n(82436);function d(e){var t,n,r=e.action,o=e.fileType,a=e.fileSize,d=e.length,p=e.prompt,f=e.context,v=e.messageText,h=e.planText,g=e.feedbackText,m=e.stepsApproved,U=e.sessionId,b=e.eventId,y=e.stepId,E=e.stepName,S=e.stepBlueprints,C=e.secretsRequested,Z=e.freeCheckpoint,_=(e.forceTracking,e.replOwnerPlanName),x=e.stack,A=(0,u.P1)(i()),w=(0,u.Po)(i());switch(i().pathname){case"/replEnvironmentDesktop":case"/replEnvironmentMobile":(t=i().query.replId?i().query.replId.toString():void 0)&&(n=function(e){var t,n=null;try{n=null===l.V||void 0===l.V?void 0:l.V.readQuery({query:s,variables:{replId:e}})}catch(e){}var r=(null==n?void 0:n.getRepl.__typename)==="Repl"?n.getRepl:void 0;return{replId:null==r?void 0:r.id,originReplId:null==r?void 0:null===(t=r.origin)||void 0===t?void 0:t.id}}(t).originReplId)}return(0,c.u4)(c.AZ.AGENT_USED,{action:r,file_type:o,is_mobile:A,is_bonsai:w,repl_id:t,file_size:a,length:d,prompt:p,context:f,message_text:v,plan_text:h,feedback_text:g,steps_approved:m,session_id:U,event_id:b,step_id:y,step_name:E,step_blueprints:S,secrets_requested:C,free_checkpoint:Z,origin_repl_id:n,repl_owner_plan_name:_,stack:x})}function p(){return function(e){return d(e)}}},28668:(e,t,n)=>{n.d(t,{HkE:()=>X,jhd:()=>v,g32:()=>l,O3q:()=>c,B73:()=>y,ZnQ:()=>os,iai:()=>at,fDX:()=>k,pSr:()=>ei,fqQ:()=>B,qOk:()=>R,u5I:()=>Z,wIV:()=>tY,Z1T:()=>j,VMq:()=>G,qRv:()=>q,e3q:()=>w,eux:()=>o2,E_:()=>on.rE,z91:()=>eh,dF3:()=>Y,MOh:()=>el,Hnw:()=>x,FeH:()=>K,UPK:()=>S,utd:()=>D,eGc:()=>as,bAT:()=>oC,Jrs:()=>ok,hVx:()=>ol,mMy:()=>om,kT_:()=>i0,vSB:()=>iX,jwg:()=>o_,ApO:()=>oI,S0f:()=>oA,ucN:()=>ox,laq:()=>ow,kjF:()=>o8,TW7:()=>oU,VFn:()=>iO,QNh:()=>iw,hT8:()=>ik});var r=n(20837),i=n(13454),o=n(5482),a=n(40174),s=n(52627),l=function(e){return e[e.AGENT_STATE_UNKNOWN=0]="AGENT_STATE_UNKNOWN",e[e.AGENT_STATE_RUNNING=1]="AGENT_STATE_RUNNING",e[e.AGENT_STATE_PAUSING=2]="AGENT_STATE_PAUSING",e[e.AGENT_STATE_PAUSED=3]="AGENT_STATE_PAUSED",e[e.AGENT_STATE_NOT_STARTED=4]="AGENT_STATE_NOT_STARTED",e}({}),u=a.ZU.Enum(l),c=function(e){return e[e.AGENT_FEEDBACK_UNKNOWN=0]="AGENT_FEEDBACK_UNKNOWN",e[e.AGENT_FEEDBACK_THUMB_UP=1]="AGENT_FEEDBACK_THUMB_UP",e[e.AGENT_FEEDBACK_THUMB_DOWN=2]="AGENT_FEEDBACK_THUMB_DOWN",e}({}),d=a.ZU.Enum(c),p=function(e){return e[e.SECRET_UNKNOWN=0]="SECRET_UNKNOWN",e[e.SECRET_COMPLETED=1]="SECRET_COMPLETED",e[e.SECRET_IGNORED=2]="SECRET_IGNORED",e}({}),f=a.ZU.Enum(p),v=function(e){return e[e.STEP_UNKNOWN=0]="STEP_UNKNOWN",e[e.STEP_NOT_STARTED=1]="STEP_NOT_STARTED",e[e.STEP_IN_PROGRESS=2]="STEP_IN_PROGRESS",e[e.STEP_COMPLETE=3]="STEP_COMPLETE",e[e.STEP_FAILED=4]="STEP_FAILED",e[e.STEP_ABORTED=5]="STEP_ABORTED",e}({}),h=a.ZU.Enum(v),g=function(e){return e[e.BLUEPRINT_CATEGORY_UNSPECIFIED=0]="BLUEPRINT_CATEGORY_UNSPECIFIED",e[e.FEATURE=1]="FEATURE",e[e.STACK=2]="STACK",e[e.STYLING=3]="STYLING",e}({}),m=a.ZU.Enum(g),U=function(e){return e[e.BENCHMARK_CONCLUSION_REASON_UNKNOWN=0]="BENCHMARK_CONCLUSION_REASON_UNKNOWN",e[e.SUCCESSFUL=1]="SUCCESSFUL",e[e.RECURSION_LIMIT_REACHED=2]="RECURSION_LIMIT_REACHED",e[e.EXCEPTION=3]="EXCEPTION",e}({}),b=a.ZU.Enum(U),y=function(e){return e[e.ATTACHED_FORM_TYPE_UNKNOWN=0]="ATTACHED_FORM_TYPE_UNKNOWN",e[e.ATTACHED_FORM_TYPE_REPL_CREATION_V1=1]="ATTACHED_FORM_TYPE_REPL_CREATION_V1",e}({}),E=a.ZU.Enum(y),S=function(e){return e[e.URL_INTENT_UNSPECIFIED=0]="URL_INTENT_UNSPECIFIED",e[e.URL_SCREENSHOT=1]="URL_SCREENSHOT",e[e.URL_CRAWL_CONTENT=2]="URL_CRAWL_CONTENT",e[e.URL_AS_PROMPT=3]="URL_AS_PROMPT",e[e.URL_CRAWL_HTML=4]="URL_CRAWL_HTML",e}({}),C=a.ZU.Enum(S),Z=function(e){return e[e.GENERATION_STATE_UNKNOWN=0]="GENERATION_STATE_UNKNOWN",e[e.GENERATION_IN_PROGRESS=1]="GENERATION_IN_PROGRESS",e[e.GENERATION_REGENERATING=2]="GENERATION_REGENERATING",e[e.GENERATION_COMPLETE=3]="GENERATION_COMPLETE",e[e.GENERATION_ERROR=4]="GENERATION_ERROR",e}({}),_=a.ZU.Enum(Z),x=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.ENGLISH=1]="ENGLISH",e[e.CRON=2]="CRON",e}({}),A=a.ZU.Enum(x),w=function(e){return e[e.MODEL_TYPE_UNKNOWN=0]="MODEL_TYPE_UNKNOWN",e[e.BASIC=1]="BASIC",e[e.ADVANCED=2]="ADVANCED",e[e.OVERRIDE=3]="OVERRIDE",e}({}),I=a.ZU.Enum(w),k=function(e){return e[e.CODE_REFERENCE_TYPE_UNKNOWN=0]="CODE_REFERENCE_TYPE_UNKNOWN",e[e.FILE=1]="FILE",e[e.INLINE=2]="INLINE",e}({}),O=a.ZU.Enum(k),T=function(e){return e[e.DEBUG_ERROR_SOURCE_UNKNOWN=0]="DEBUG_ERROR_SOURCE_UNKNOWN",e[e.CONSOLE=1]="CONSOLE",e[e.LSP=2]="LSP",e}({}),N=a.ZU.Enum(T),R=function(e){return e[e.EVENT_STATE_UNKNOWN=0]="EVENT_STATE_UNKNOWN",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e}({}),P=a.ZU.Enum(R),j=function(e){return e[e.INLINE_MESSAGE_TYPE_UNKNOWN=0]="INLINE_MESSAGE_TYPE_UNKNOWN",e[e.EXPLAIN_CODE=1]="EXPLAIN_CODE",e[e.DEBUGGER=2]="DEBUGGER",e[e.GENERATE_CODE=3]="GENERATE_CODE",e[e.TRANSFORM_CODE=4]="TRANSFORM_CODE",e}({}),L=a.ZU.Enum(j),D=function(e){return e[e.USER_TYPE_UNKNOWN=0]="USER_TYPE_UNKNOWN",e[e.USER=1]="USER",e[e.AI=2]="AI",e[e.SERVICE=3]="SERVICE",e}({}),M=a.ZU.Enum(D),Y=function(e){return e[e.SESSION_TYPE_UNKNOWN=0]="SESSION_TYPE_UNKNOWN",e[e.CHAT=1]="CHAT",e[e.INLINE_CHAT=2]="INLINE_CHAT",e[e.SINGLE_USE_SESSION=3]="SINGLE_USE_SESSION",e[e.REPL_CREATION=4]="REPL_CREATION",e[e.AGENT_SESSION=5]="AGENT_SESSION",e[e.HOSTING_DEBUG_SUMMARY=6]="HOSTING_DEBUG_SUMMARY",e[e.REPL_CREATION_V2=7]="REPL_CREATION_V2",e[e.REPL_CREATION_V3=8]="REPL_CREATION_V3",e[e.AGENT_REPLAY_SESSION=9]="AGENT_REPLAY_SESSION",e}({}),$=a.ZU.Enum(Y),F=function(e){return e[e.MESSAGE_STOP_REASON_UNKNOWN=0]="MESSAGE_STOP_REASON_UNKNOWN",e[e.MAX_TOKENS=1]="MAX_TOKENS",e[e.STOP_TOKEN=2]="STOP_TOKEN",e[e.SAFETY=3]="SAFETY",e[e.RECITATION=4]="RECITATION",e[e.TOOL_CALLS=5]="TOOL_CALLS",e[e.CONTENT_FILTER=6]="CONTENT_FILTER",e}({}),W=a.ZU.Enum(F),q=function(e){return e[e.MESSAGE_ACTION_UNKNOWN=0]="MESSAGE_ACTION_UNKNOWN",e[e.NONE=1]="NONE",e[e.REPLIT_DOCS=2]="REPLIT_DOCS",e[e.GENERATE=3]="GENERATE",e[e.EXPLAIN=4]="EXPLAIN",e[e.TRANSFORM=5]="TRANSFORM",e[e.DEBUG=6]="DEBUG",e[e.FIND_INTENT=7]="FIND_INTENT",e[e.AGENT=8]="AGENT",e[e.ITERATIVE_AGENT=9]="ITERATIVE_AGENT",e}({}),H=a.ZU.Enum(q),G=function(e){return e[e.MEMBERSHIP_TYPE_UNKNOWN=0]="MEMBERSHIP_TYPE_UNKNOWN",e[e.FREE=1]="FREE",e[e.CORE=2]="CORE",e[e.TEAMS=3]="TEAMS",e}({}),V=a.ZU.Enum(G),B=function(e){return e[e.EVENT_ERROR_TYPE_UNKNOWN=0]="EVENT_ERROR_TYPE_UNKNOWN",e[e.MANUALLY_ABORTED=1]="MANUALLY_ABORTED",e[e.INCOMPLETE_UPDATE=2]="INCOMPLETE_UPDATE",e[e.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",e[e.USAGE_LIMIT=4]="USAGE_LIMIT",e[e.TEST_ERROR=5]="TEST_ERROR",e[e.INVALID_INPUT=6]="INVALID_INPUT",e[e.UNAUTHORIZED=7]="UNAUTHORIZED",e[e.AGENT_EXECUTION_ERROR=8]="AGENT_EXECUTION_ERROR",e[e.AI_QUOTA_ERROR_UNKNOWN=9]="AI_QUOTA_ERROR_UNKNOWN",e[e.AI_QUOTA_INSUFFICIENT_BUDGET=10]="AI_QUOTA_INSUFFICIENT_BUDGET",e[e.AI_QUOTA_REQUIRES_PAYMENT_METHOD=11]="AI_QUOTA_REQUIRES_PAYMENT_METHOD",e[e.AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION=12]="AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION",e}({}),z=a.ZU.Enum(B),K=function(e){return e[e.SET=0]="SET",e[e.ADD=1]="ADD",e[e.CLEAR=2]="CLEAR",e[e.APPEND=3]="APPEND",e}({}),Q=a.ZU.Enum(K),X=function(e){return e[e.AGENT_AUTHORIZATION_FAILED_CODE_UNSPECIFIED=0]="AGENT_AUTHORIZATION_FAILED_CODE_UNSPECIFIED",e[e.INSUFFICIENT_BUDGET=1]="INSUFFICIENT_BUDGET",e[e.REQUIRES_PAYMENT_METHOD=2]="REQUIRES_PAYMENT_METHOD",e[e.REQUIRES_ACTIVE_SUBSCRIPTION=3]="REQUIRES_ACTIVE_SUBSCRIPTION",e[e.AGENT_UNKNOWN_AUTHORIZATION_ERROR=4]="AGENT_UNKNOWN_AUTHORIZATION_ERROR",e[e.INSUFFICIENT_PERMISSIONS=5]="INSUFFICIENT_PERMISSIONS",e[e.INSUFFICIENT_QUOTA=6]="INSUFFICIENT_QUOTA",e}({}),J=a.ZU.Enum(X),ee=function(e){return e[e.NULL_VALUE=0]="NULL_VALUE",e}({}),et=a.ZU.Enum(ee),en=function(e){return e[e.STRING=0]="STRING",e[e.INTEGER=1]="INTEGER",e}({}),er=a.ZU.Enum(en),ei=function(e){return e[e.COMMIT_BILLING_RATE_UNSPECIFIED=0]="COMMIT_BILLING_RATE_UNSPECIFIED",e[e.ZERO_RATED=1]="ZERO_RATED",e[e.NORMAL=2]="NORMAL",e}({}),eo=a.ZU.Enum(ei),ea=function(e){return e[e.REVERT_DATA_STAGE_UNKNOWN=0]="REVERT_DATA_STAGE_UNKNOWN",e[e.REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE=1]="REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE",e[e.REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS=2]="REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS",e[e.REVERT_DATA_STAGE_REVERTING_COMMIT=3]="REVERT_DATA_STAGE_REVERTING_COMMIT",e[e.REVERT_DATA_STAGE_RESTARTING_WORKFLOWS=4]="REVERT_DATA_STAGE_RESTARTING_WORKFLOWS",e[e.REVERT_DATA_STAGE_COMPLETE=5]="REVERT_DATA_STAGE_COMPLETE",e}({}),es=a.ZU.Enum(ea),el=function(e){return e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PENDING=1]="PENDING",e[e.ACKNOWLEDGED_CONTINUE_CURRENT_STEP=2]="ACKNOWLEDGED_CONTINUE_CURRENT_STEP",e[e.ACKNOWLEDGED_ABORT_CURRENT_STEP=3]="ACKNOWLEDGED_ABORT_CURRENT_STEP",e}({}),eu=a.ZU.Enum(el),ec=a.ZU.Object({sessionId:a.ZU.String(),newReplId:a.ZU.String(),SessionType:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("sessionType"),sessionType:$})]))}),ed=a.ZU.Object({clonedSessionId:a.ZU.String()}),ep=a.ZU.Object({}),ef=a.ZU.Object({}),ev=a.ZU.Object({}),eh=a.ZU.Object({indexFrom:a.ZU.Integer(),indexTo:a.ZU.Integer(),lineFrom:a.ZU.Integer(),lineTo:a.ZU.Integer()}),eg=a.ZU.Object({code:a.ZU.String(),filePath:a.ZU.String(),fileVersion:a.ZU.Integer(),fileContent:a.ZU.String(),range:eh,language:a.ZU.String(),referenceType:O}),em=a.ZU.Object({identifier:a.ZU.String(),url:a.ZU.String(),mimeType:a.ZU.String()}),eU=a.ZU.Object({type:I,overrideModelName:a.ZU.String()}),eb=a.ZU.Object({url:a.ZU.String(),contents:a.ZU.String(),lineNumber:a.ZU.Integer(),id:a.ZU.String()}),ey=a.ZU.Object({name:a.ZU.String(),replId:a.ZU.String(),description:a.ZU.String(),icon:a.ZU.String(),language:a.ZU.String(),id:a.ZU.String(),ownerUsername:a.ZU.String(),slug:a.ZU.String()}),eE=a.ZU.Object({suggestedTemplates:a.ZU.Array(ey)}),eS=a.ZU.Object({filePath:a.ZU.String(),content:a.ZU.String(),changeSummary:a.ZU.String(),state:_,messageContentsOffset:a.ZU.Integer(),diff:a.ZU.String()}),eC=a.ZU.Object({changes:a.ZU.Array(eS),commitId:a.ZU.String(),summary:a.ZU.String()}),eZ=a.ZU.Object({datasetId:a.ZU.String(),instanceId:a.ZU.String(),runId:a.ZU.String(),replDescription:a.ZU.String()}),e_=a.ZU.Object({name:a.ZU.String(),description:a.ZU.String(),responseText:a.ZU.String()}),ex=a.ZU.Object({buttons:a.ZU.Array(e_)}),eA=a.ZU.Object({description:a.ZU.String(),key:a.ZU.String()}),ew=a.ZU.Object({secrets:a.ZU.Array(eA)}),eI=a.ZU.Object({}),ek=a.ZU.Object({optionType:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("messageButtonAction"),messageButtonAction:ex}),a.ZU.Object({$kind:a.ZU.Literal("secretRequestAction"),secretRequestAction:ew}),a.ZU.Object({$kind:a.ZU.Literal("deployRequestAction"),deployRequestAction:eI})]))}),eO=a.ZU.Object({path:a.ZU.String(),mimeType:a.ZU.String()}),eT=a.ZU.Object({url:a.ZU.String(),intent:C}),eN=a.ZU.Object({messageContentsOffset:a.ZU.Integer(),command:a.ZU.String(),workingDirectory:a.ZU.String(),isDangerous:a.ZU.Boolean()}),eR=a.ZU.Object({messageContentsOffset:a.ZU.Integer(),toolName:a.ZU.String(),reason:a.ZU.String(),description:a.ZU.String()}),eP=a.ZU.Object({messageContentsOffset:a.ZU.Integer(),language:a.ZU.String(),packageList:a.ZU.Array(a.ZU.String())}),ej=a.ZU.Object({messageContentsOffset:a.ZU.Integer(),workflowName:a.ZU.String(),setRunButton:a.ZU.Boolean(),oldCommand:a.ZU.String(),newCommand:a.ZU.String()}),eL=a.ZU.Object({messageContentsOffset:a.ZU.Integer(),buildCommand:a.ZU.String(),runCommand:a.ZU.String()}),eD=a.ZU.Object({messageContentsOffset:a.ZU.Integer(),workflowName:a.ZU.String(),commands:a.ZU.Array(a.ZU.String()),setRunButton:a.ZU.Boolean(),mode:a.ZU.String()}),eM=a.ZU.Object({summary:a.ZU.String(),commitId:a.ZU.String(),shellCommands:a.ZU.Array(eN),fileChanges:a.ZU.Array(eS),workspaceToolNudges:a.ZU.Array(eR),packageInstalls:a.ZU.Array(eP),didCreateCheckpoint:a.ZU.Boolean(),didCountEditRequest:a.ZU.Boolean(),runConfigurations:a.ZU.Array(ej),deploymentConfigurations:a.ZU.Array(eL),workflowConfigurations:a.ZU.Array(eD)}),eY=a.ZU.Object({replitDocumentationQuery:a.ZU.String(),fileSearchQuery:a.ZU.String(),selectedFiles:a.ZU.String(),selectedClasses:a.ZU.String()}),e$=a.ZU.Object({value:a.ZU.String()}),eF=a.ZU.Object({name:a.ZU.String(),url:a.ZU.String(),mimeType:a.ZU.String()}),eW=a.ZU.Object({files:a.ZU.Array(eF)}),eq=a.ZU.Object({path:a.ZU.String(),formType:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("string"),string:e$}),a.ZU.Object({$kind:a.ZU.Literal("files"),files:eW})]))}),eH=a.ZU.Object({formType:E,fields:a.ZU.Array(eq)}),eG=a.ZU.Object({filePath:a.ZU.String(),lineNumber:a.ZU.Integer(),componentName:a.ZU.String(),textContent:a.ZU.String()}),eV=a.ZU.Object({content:a.ZU.String(),intent:H,stopReason:W,debugFullPrompt:a.ZU.String(),codeReference:eg,debugErrorSource:N,media:a.ZU.Array(em),usedModelSelector:eU,sources:a.ZU.Array(eb),benchmarkMode:a.ZU.Boolean(),benchmarkParameters:eZ,agentAction:ek,uploadedFiles:a.ZU.Array(eO),attachedUrls:a.ZU.Array(eT),commitId:a.ZU.String(),lastSeenWebviewLogTimestamp:a.ZU.Number(),assistantProposedActions:eM,ragContext:eY,attachedForm:eH,enableDeepThinking:a.ZU.Boolean(),targetedElement:eG,extraActions:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("suggestedTemplates"),suggestedTemplates:eE}),a.ZU.Object({$kind:a.ZU.Literal("proposedFileChanges"),proposedFileChanges:eC})]))}),eB=a.ZU.Object({messageType:L,debugErrorSource:N,content:a.ZU.String(),codeReference:eg,usedModelSelector:eU,media:a.ZU.Array(em),sources:a.ZU.Array(eb)}),ez=a.ZU.Object({command:a.ZU.String(),result:a.ZU.String(),eventId:a.ZU.String(),index:a.ZU.Integer(),exitCode:a.ZU.Integer(),channelName:a.ZU.String(),executed:a.ZU.Boolean()}),eK=a.ZU.Object({content:a.ZU.String()}),eQ=a.ZU.Object({inputTarget:A,outputTarget:A,content:a.ZU.String()}),eX=a.ZU.Object({role:a.ZU.String(),content:a.ZU.String()}),eJ=a.ZU.Object({name:a.ZU.String(),required:a.ZU.Boolean(),parameterType:er,description:a.ZU.String(),enums:a.ZU.Array(a.ZU.String())}),e0=a.ZU.Object({historicalPrompt:a.ZU.String(),messages:a.ZU.Array(eX),parameters:a.ZU.Array(eJ),result:a.ZU.Object({type:a.ZU.String(),fields:a.ZU.Array(a.ZU.Object({key:a.ZU.String(),value:a.ZU.Unknown()}))}),jsonResult:a.ZU.String(),forceJson:a.ZU.Boolean(),promptName:a.ZU.String()}),e1=a.ZU.Object({description:a.ZU.String()}),e2=a.ZU.Object({linesAdded:a.ZU.Integer(),linesRemoved:a.ZU.Integer(),commitId:a.ZU.String()}),e5=a.ZU.Object({category:m,displayName:a.ZU.String(),name:a.ZU.String(),secrets:a.ZU.Array(eA)}),e4=a.ZU.Recursive(function(e){return a.ZU.Object({id:a.ZU.String(),name:a.ZU.String(),status:h,message:a.ZU.String(),timelineEventId:a.ZU.String(),subSteps:a.ZU.Array(e),blueprints:a.ZU.Array(a.ZU.String()),blueprintData:a.ZU.Array(e5),mode:a.ZU.String(),commitId:a.ZU.String(),metadata:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("codeChangeStats"),codeChangeStats:e2})]))})},{$id:"AgentPlanStepSchema"}),e3=a.ZU.Object({type:M,id:a.ZU.String(),username:a.ZU.String(),membership:V,roles:a.ZU.Array(a.ZU.String()),isTeam:a.ZU.Boolean(),orgId:a.ZU.String(),timeCreated:a.ZU.Date()}),e7=a.ZU.Object({planId:a.ZU.String(),objective:e1,step:e4,requiresApproval:a.ZU.Boolean(),initialCommitId:a.ZU.String(),Approver:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("approver"),approver:e3})]))}),e8=a.ZU.Object({command:a.ZU.String(),shellId:a.ZU.String(),stdout:a.ZU.String(),stderr:a.ZU.String(),exitCode:a.ZU.Integer(),processId:a.ZU.String(),isExecuting:a.ZU.Boolean(),output:a.ZU.String()}),e6=a.ZU.Object({filePath:a.ZU.String(),diff:a.ZU.String()}),e9=a.ZU.Object({filePath:a.ZU.String(),content:a.ZU.String()}),te=a.ZU.Object({filePath:a.ZU.String(),content:a.ZU.String(),startLine:a.ZU.Integer(),endLine:a.ZU.Integer()}),tt=a.ZU.Object({inputLanguage:a.ZU.String(),inputPackages:a.ZU.Array(a.ZU.String()),output:a.ZU.String(),processId:a.ZU.String(),isExecuting:a.ZU.Boolean()}),tn=a.ZU.Object({queryDescription:a.ZU.String(),filePaths:a.ZU.Array(a.ZU.String()),classNames:a.ZU.Array(a.ZU.String()),functionNames:a.ZU.Array(a.ZU.String()),resultFileNames:a.ZU.Array(a.ZU.String()),resultFileSummaries:a.ZU.Array(a.ZU.String())}),tr=a.ZU.Object({inputLanguage:a.ZU.String(),inputPackages:a.ZU.Array(a.ZU.String())}),ti=a.ZU.Object({port:a.ZU.Integer(),path:a.ZU.String(),imageUrl:a.ZU.String()}),to=a.ZU.Object({modules:a.ZU.Array(a.ZU.String())}),ta=a.ZU.Object({name:a.ZU.String(),output:a.ZU.String()}),ts=a.ZU.Object({name:a.ZU.String()}),tl=a.ZU.Object({name:a.ZU.String()}),tu=a.ZU.Object({name:a.ZU.String(),command:a.ZU.String()}),tc=a.ZU.Object({name:a.ZU.String()}),td=a.ZU.Object({name:a.ZU.String()}),tp=a.ZU.Object({updatedPlanStep:e4}),tf=a.ZU.Object({summarizedObjective:a.ZU.String()}),tv=a.ZU.Object({resultType:a.ZU.String(),shellCommand:a.ZU.String(),websitePort:a.ZU.Integer(),shellCommandWorkflowName:a.ZU.String(),websiteRoute:a.ZU.String()}),th=a.ZU.Object({filePath:a.ZU.String(),query:a.ZU.String()}),tg=a.ZU.Object({deps:a.ZU.Array(a.ZU.String())}),tm=a.ZU.Object({deps:a.ZU.Array(a.ZU.String())}),tU=a.ZU.Object({}),tb=a.ZU.Object({eventIdBeforeRevert:a.ZU.String(),status:es,CheckpointCommit:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("checkpointCommit"),checkpointCommit:a.ZU.String()})]))}),ty=a.ZU.Object({deploymentTarget:a.ZU.String(),run:a.ZU.Array(a.ZU.String()),build:a.ZU.Array(a.ZU.String()),publicDir:a.ZU.String(),ignorePorts:a.ZU.Boolean()}),tE=a.ZU.Object({planStep:e4,starts:a.ZU.Date()}),tS=a.ZU.Object({eventIds:a.ZU.Array(a.ZU.String())}),tC=a.ZU.Object({}),tZ=a.ZU.Object({command:a.ZU.String(),output:a.ZU.String(),status:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("isExecuting"),isExecuting:a.ZU.Boolean()}),a.ZU.Object({$kind:a.ZU.Literal("exitCode"),exitCode:a.ZU.Integer()})]))}),t_=a.ZU.Object({}),tx=a.ZU.Object({commitId:a.ZU.String(),screenshotUrl:a.ZU.String(),description:a.ZU.String(),billingRate:eo}),tA=a.ZU.Object({path:a.ZU.String(),paths:a.ZU.Array(a.ZU.String())}),tw=a.ZU.Object({index:a.ZU.Integer()}),tI=a.ZU.Object({thoughts:a.ZU.String(),redactedThoughtsMarkers:a.ZU.Array(tw)}),tk=a.ZU.Object({blueprintData:a.ZU.Array(e5)}),tO=a.ZU.Object({toolName:a.ZU.String(),planStepId:a.ZU.String(),message:a.ZU.String(),toolData:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("shellExecutionData"),shellExecutionData:e8}),a.ZU.Object({$kind:a.ZU.Literal("fileEditData"),fileEditData:e6}),a.ZU.Object({$kind:a.ZU.Literal("createFileData"),createFileData:e9}),a.ZU.Object({$kind:a.ZU.Literal("readFileData"),readFileData:te}),a.ZU.Object({$kind:a.ZU.Literal("packagerInstallData"),packagerInstallData:tt}),a.ZU.Object({$kind:a.ZU.Literal("searchFilesystemData"),searchFilesystemData:tn}),a.ZU.Object({$kind:a.ZU.Literal("messageData"),messageData:eV}),a.ZU.Object({$kind:a.ZU.Literal("packagerUninstallData"),packagerUninstallData:tr}),a.ZU.Object({$kind:a.ZU.Literal("screenshotData"),screenshotData:ti}),a.ZU.Object({$kind:a.ZU.Literal("toolchainInstallData"),toolchainInstallData:to}),a.ZU.Object({$kind:a.ZU.Literal("workflowsGetOutputToolData"),workflowsGetOutputToolData:ta}),a.ZU.Object({$kind:a.ZU.Literal("workflowsRemoveRunConfigToolData"),workflowsRemoveRunConfigToolData:ts}),a.ZU.Object({$kind:a.ZU.Literal("workflowsRestartToolData"),workflowsRestartToolData:tl}),a.ZU.Object({$kind:a.ZU.Literal("workflowsSetRunConfigToolData"),workflowsSetRunConfigToolData:tu}),a.ZU.Object({$kind:a.ZU.Literal("workflowsStartToolData"),workflowsStartToolData:tc}),a.ZU.Object({$kind:a.ZU.Literal("workflowsStopToolData"),workflowsStopToolData:td}),a.ZU.Object({$kind:a.ZU.Literal("planProgressData"),planProgressData:tp}),a.ZU.Object({$kind:a.ZU.Literal("summarizeObjectiveData"),summarizeObjectiveData:tf}),a.ZU.Object({$kind:a.ZU.Literal("presentResultsToolData"),presentResultsToolData:tv}),a.ZU.Object({$kind:a.ZU.Literal("searchFileData"),searchFileData:th}),a.ZU.Object({$kind:a.ZU.Literal("systemDependencyInstallData"),systemDependencyInstallData:tg}),a.ZU.Object({$kind:a.ZU.Literal("systemDependencyUninstallData"),systemDependencyUninstallData:tm}),a.ZU.Object({$kind:a.ZU.Literal("deployData"),deployData:tU}),a.ZU.Object({$kind:a.ZU.Literal("revertData"),revertData:tb}),a.ZU.Object({$kind:a.ZU.Literal("deployConfigData"),deployConfigData:ty}),a.ZU.Object({$kind:a.ZU.Literal("agentPlanStepBegin"),agentPlanStepBegin:tE}),a.ZU.Object({$kind:a.ZU.Literal("acknowledgeUserMessage"),acknowledgeUserMessage:tS}),a.ZU.Object({$kind:a.ZU.Literal("createPostgresqlDatabaseData"),createPostgresqlDatabaseData:tC}),a.ZU.Object({$kind:a.ZU.Literal("sqlExecutionData"),sqlExecutionData:tZ}),a.ZU.Object({$kind:a.ZU.Literal("newSessionNudge"),newSessionNudge:t_}),a.ZU.Object({$kind:a.ZU.Literal("commitData"),commitData:tx}),a.ZU.Object({$kind:a.ZU.Literal("readDirData"),readDirData:tA}),a.ZU.Object({$kind:a.ZU.Literal("thoughts"),thoughts:tI}),a.ZU.Object({$kind:a.ZU.Literal("blueprintsSetup"),blueprintsSetup:tk})]))}),tT=a.ZU.Object({tags:a.ZU.Array(a.ZU.String()),values:a.ZU.Array(a.ZU.Number())}),tN=a.ZU.Object({name:a.ZU.String(),metrics:a.ZU.Array(tT)}),tR=a.ZU.Object({increment:a.ZU.Array(tN),decrement:a.ZU.Array(tN),gauge:a.ZU.Array(tN),histogram:a.ZU.Array(tN),distribution:a.ZU.Array(tN),timing:a.ZU.Array(tN)}),tP=a.ZU.Object({completionReason:b,steps:a.ZU.Integer(),exception:a.ZU.String(),datasetId:a.ZU.String(),instanceId:a.ZU.String(),runId:a.ZU.String(),metrics:tR}),tj=a.ZU.Object({commitId:a.ZU.String(),message:a.ZU.String(),eventIdBeforeRevert:a.ZU.String()}),tL=a.ZU.Object({exposeLocalhost:a.ZU.Boolean(),localPort:a.ZU.String(),externalPort:a.ZU.String()}),tD=a.ZU.Object({provider:a.ZU.String(),buildCommand:a.ZU.String(),runCommand:a.ZU.String(),logs:a.ZU.Array(a.ZU.String()),envKeys:a.ZU.Array(a.ZU.String()),ports:a.ZU.Array(tL),PublicDir:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("publicDir"),publicDir:a.ZU.String()})])),AppType:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("appType"),appType:a.ZU.String()})])),EntrypointFilePath:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("entrypointFilePath"),entrypointFilePath:a.ZU.String()})]))}),tM=a.ZU.Object({name:a.ZU.String(),type:a.ZU.String(),description:a.ZU.String(),before:a.ZU.String(),after:a.ZU.String(),File:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("file"),file:a.ZU.String()})]))}),tY=a.ZU.Object({errors:a.ZU.Array(a.ZU.String()),suggestions:a.ZU.Array(tM)}),t$=a.ZU.Object({error:tD,result:tY,usedModelSelector:eU}),tF=a.ZU.Object({}),tW=a.ZU.Object({key:a.ZU.String(),status:f}),tq=a.ZU.Object({response:a.ZU.Array(tW)}),tH=a.ZU.Object({errors:a.ZU.Array(a.ZU.String()),generatedReplName:a.ZU.String(),isAgentRecommended:a.ZU.Boolean(),bestTemplate:ey,matchedPlanNames:a.ZU.Array(a.ZU.String()),scaffoldTemplateName:a.ZU.String()}),tG=a.ZU.Object({filePath:a.ZU.String(),linesAdded:a.ZU.Integer(),linesRemoved:a.ZU.Integer(),changeSummary:a.ZU.String()}),tV=a.ZU.Object({eventWhichProposedChanges:a.ZU.String(),appliedChanges:a.ZU.Array(tG),commitHash:a.ZU.String()}),tB=a.ZU.Object({filePath:a.ZU.String(),changeSummary:a.ZU.String()}),tz=a.ZU.Object({eventWhichProposedChanges:a.ZU.String(),eventWhichAppliedChanges:a.ZU.String(),revertedChanges:a.ZU.Array(tB)}),tK=a.ZU.Object({eventWhichProposedPackageInstall:a.ZU.String(),messageContentsOffset:a.ZU.Integer(),processId:a.ZU.String()}),tQ=a.ZU.Object({eventWhichProposedPackageInstall:a.ZU.String(),messageContentsOffset:a.ZU.Integer(),installationOutput:a.ZU.String(),processId:a.ZU.String(),exitCode:a.ZU.Integer()}),tX=a.ZU.Object({eventWhichProposedShellExecution:a.ZU.String(),messageContentsOffset:a.ZU.Integer(),processId:a.ZU.String()}),tJ=a.ZU.Object({eventWhichProposedShellExecution:a.ZU.String(),messageContentsOffset:a.ZU.Integer(),processId:a.ZU.String(),commandOutput:a.ZU.String(),exitCode:a.ZU.Integer()}),t0=a.ZU.Object({eventWhichProposedRunConfiguration:a.ZU.String(),messageContentsOffset:a.ZU.Integer()}),t1=a.ZU.Object({eventWhichProposedDeploymentConfiguration:a.ZU.String(),messageContentsOffset:a.ZU.Integer()}),t2=a.ZU.Object({eventWhichProposedWorkflowConfiguration:a.ZU.String(),messageContentsOffset:a.ZU.Integer()}),t5=a.ZU.Object({contents:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("appliedFileChanges"),appliedFileChanges:tV}),a.ZU.Object({$kind:a.ZU.Literal("revertedFileChanges"),revertedFileChanges:tz}),a.ZU.Object({$kind:a.ZU.Literal("installingPackages"),installingPackages:tK}),a.ZU.Object({$kind:a.ZU.Literal("installedPackages"),installedPackages:tQ}),a.ZU.Object({$kind:a.ZU.Literal("startedShellExecution"),startedShellExecution:tX}),a.ZU.Object({$kind:a.ZU.Literal("finishedShellExecution"),finishedShellExecution:tJ}),a.ZU.Object({$kind:a.ZU.Literal("appliedRunConfiguration"),appliedRunConfiguration:t0}),a.ZU.Object({$kind:a.ZU.Literal("appliedDeploymentConfiguration"),appliedDeploymentConfiguration:t1}),a.ZU.Object({$kind:a.ZU.Literal("appliedWorkflowConfiguration"),appliedWorkflowConfiguration:t2})]))}),t4=a.ZU.Object({stepId:a.ZU.String(),state:eu}),t3=a.ZU.Object({cancelCurrentStep:a.ZU.Boolean()}),t7=a.ZU.Object({enabled:a.ZU.Boolean(),isSelected:a.ZU.Boolean()}),t8=a.ZU.Object({enabled:a.ZU.Boolean(),isSelected:a.ZU.Boolean()}),t6=a.ZU.Object({featureName:a.ZU.String(),id:a.ZU.Integer(),isSelected:a.ZU.Boolean()}),t9=a.ZU.Object({debugRequest:t7,keepWorkingRequest:t8,newFeatureRequests:a.ZU.Array(t6)}),ne=a.ZU.Object({secrets:a.ZU.Array(eA),message:a.ZU.String()}),nt=a.ZU.Object({}),nn=a.ZU.Object({message:a.ZU.String(),request:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("nextStepRequest"),nextStepRequest:t9}),a.ZU.Object({$kind:a.ZU.Literal("userSecretsRequest"),userSecretsRequest:ne}),a.ZU.Object({$kind:a.ZU.Literal("deployRequest"),deployRequest:nt})]))}),nr=a.ZU.Object({accepted:a.ZU.Boolean()}),ni=a.ZU.Object({accepted:a.ZU.Boolean()}),no=a.ZU.Object({content:a.ZU.String(),uploadedFiles:a.ZU.Array(eO),attachedUrls:a.ZU.Array(eT)}),na=a.ZU.Object({selectedFeatureId:a.ZU.Integer(),featureName:a.ZU.String(),userMessage:no}),ns=a.ZU.Object({response:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("debugResponse"),debugResponse:nr}),a.ZU.Object({$kind:a.ZU.Literal("keepWorkingResponse"),keepWorkingResponse:ni}),a.ZU.Object({$kind:a.ZU.Literal("newFeatureResponse"),newFeatureResponse:na})]))}),nl=a.ZU.Object({providedSecrets:a.ZU.Array(tW)}),nu=a.ZU.Object({}),nc=a.ZU.Object({requestEventId:a.ZU.String(),response:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("nextStepResponse"),nextStepResponse:ns}),a.ZU.Object({$kind:a.ZU.Literal("userSecretsResponse"),userSecretsResponse:nl}),a.ZU.Object({$kind:a.ZU.Literal("deployResponse"),deployResponse:nu})]))}),nd=a.ZU.Object({expectedResponseString:a.ZU.String(),streamedResponse:a.ZU.Boolean(),timeBetweenChunks:a.ZU.Number()}),np=a.ZU.Object({fullness:a.ZU.Number()}),nf=a.ZU.Object({}),nv=a.ZU.Object({fileName:a.ZU.String(),downloadUrl:a.ZU.String()}),nh=a.ZU.Object({mvpObjective:a.ZU.String(),stack:a.ZU.String(),followupSteps:a.ZU.Array(a.ZU.String()),uploadedFiles:a.ZU.Array(nv),extraDetails:a.ZU.String(),techStack:a.ZU.String(),mvpSuccessCriteria:a.ZU.String()}),ng=a.ZU.Object({}),nm=a.ZU.Object({willContinueWorking:a.ZU.Boolean()}),nU=a.ZU.Object({version:a.ZU.Integer()}),nb=a.ZU.Object({benchmarkParameters:eZ,contents:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("sessionCreationEventContents"),sessionCreationEventContents:ev}),a.ZU.Object({$kind:a.ZU.Literal("messageEventContents"),messageEventContents:eV}),a.ZU.Object({$kind:a.ZU.Literal("inlineActionEventContents"),inlineActionEventContents:eB}),a.ZU.Object({$kind:a.ZU.Literal("localShellExecutionEventContents"),localShellExecutionEventContents:ez}),a.ZU.Object({$kind:a.ZU.Literal("shellSuggestionEventContents"),shellSuggestionEventContents:eK}),a.ZU.Object({$kind:a.ZU.Literal("translateEventContents"),translateEventContents:eQ}),a.ZU.Object({$kind:a.ZU.Literal("byoPromptEventContents"),byoPromptEventContents:e0}),a.ZU.Object({$kind:a.ZU.Literal("agentPlanEventContents"),agentPlanEventContents:e7}),a.ZU.Object({$kind:a.ZU.Literal("agentTimelineEventContents"),agentTimelineEventContents:tO}),a.ZU.Object({$kind:a.ZU.Literal("benchmarkConclusion"),benchmarkConclusion:tP}),a.ZU.Object({$kind:a.ZU.Literal("revertEventContents"),revertEventContents:tj}),a.ZU.Object({$kind:a.ZU.Literal("hostingDebugSummaryEventContents"),hostingDebugSummaryEventContents:t$}),a.ZU.Object({$kind:a.ZU.Literal("approvePlanEventContents"),approvePlanEventContents:tF}),a.ZU.Object({$kind:a.ZU.Literal("userSecretsResponseEventContents"),userSecretsResponseEventContents:tq}),a.ZU.Object({$kind:a.ZU.Literal("replCreationEventContents"),replCreationEventContents:tH}),a.ZU.Object({$kind:a.ZU.Literal("iterativeAgentEventContents"),iterativeAgentEventContents:t5}),a.ZU.Object({$kind:a.ZU.Literal("stepTooComplexEventContents"),stepTooComplexEventContents:t4}),a.ZU.Object({$kind:a.ZU.Literal("stepTooComplexAcknowledgementEventContents"),stepTooComplexAcknowledgementEventContents:t3}),a.ZU.Object({$kind:a.ZU.Literal("agentAskUserForActionRequest"),agentAskUserForActionRequest:nn}),a.ZU.Object({$kind:a.ZU.Literal("agentAskUserForActionResponse"),agentAskUserForActionResponse:nc}),a.ZU.Object({$kind:a.ZU.Literal("integrationTestEventContents"),integrationTestEventContents:nd}),a.ZU.Object({$kind:a.ZU.Literal("contextComplexityEventContents"),contextComplexityEventContents:np}),a.ZU.Object({$kind:a.ZU.Literal("eventTooLargeEventContents"),eventTooLargeEventContents:nf}),a.ZU.Object({$kind:a.ZU.Literal("startRapidBuildEventContents"),startRapidBuildEventContents:nh}),a.ZU.Object({$kind:a.ZU.Literal("databaseNudgeEventContents"),databaseNudgeEventContents:ng}),a.ZU.Object({$kind:a.ZU.Literal("rapidBuildConcluded"),rapidBuildConcluded:nm}),a.ZU.Object({$kind:a.ZU.Literal("versionMigrated"),versionMigrated:nU})]))}),ny=a.ZU.Object({}),nE=a.ZU.Object({maxSteps:a.ZU.Integer(),enablePlanMode:a.ZU.Optional(a.ZU.Boolean()),enableHumanInLoop:a.ZU.Optional(a.ZU.Boolean())}),nS=a.ZU.Object({mostRecentFile:a.ZU.String(),fileContext:a.ZU.Array(eg),modelSelector:eU,intent:H,extraResources:a.ZU.Array(a.ZU.String()),useRag:a.ZU.Boolean(),agentConfig:nE}),nC=a.ZU.Object({mostRecentFile:a.ZU.String(),fileContext:a.ZU.Array(eg),modelSelector:eU,extraResources:a.ZU.Array(a.ZU.String()),useRag:a.ZU.Boolean()}),nZ=a.ZU.Object({}),n_=a.ZU.Object({modelSelector:eU}),nx=a.ZU.Object({modelSelector:eU}),nA=a.ZU.Object({modelSelector:eU}),nw=a.ZU.Object({}),nI=a.ZU.Object({}),nk=a.ZU.Object({modelSelector:eU}),nO=a.ZU.Object({modelSelector:eU}),nT=a.ZU.Object({}),nN=a.ZU.Object({}),nR=a.ZU.Object({}),nP=a.ZU.Object({}),nj=a.ZU.Object({metadata:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("sessionCreationEventContext"),sessionCreationEventContext:ny}),a.ZU.Object({$kind:a.ZU.Literal("messageEventContext"),messageEventContext:nS}),a.ZU.Object({$kind:a.ZU.Literal("inlineActionEventContext"),inlineActionEventContext:nC}),a.ZU.Object({$kind:a.ZU.Literal("localShellExecutionEventContext"),localShellExecutionEventContext:nZ}),a.ZU.Object({$kind:a.ZU.Literal("shellSuggestionEventContext"),shellSuggestionEventContext:n_}),a.ZU.Object({$kind:a.ZU.Literal("translateEventContext"),translateEventContext:nx}),a.ZU.Object({$kind:a.ZU.Literal("byoPromptEventContext"),byoPromptEventContext:nA}),a.ZU.Object({$kind:a.ZU.Literal("agentPlanEventContext"),agentPlanEventContext:nw}),a.ZU.Object({$kind:a.ZU.Literal("agentTimelineEventContext"),agentTimelineEventContext:nI}),a.ZU.Object({$kind:a.ZU.Literal("hostingDebugSummaryEventContext"),hostingDebugSummaryEventContext:nk}),a.ZU.Object({$kind:a.ZU.Literal("replCreationEventContext"),replCreationEventContext:nO}),a.ZU.Object({$kind:a.ZU.Literal("userSecretsResponseEventContext"),userSecretsResponseEventContext:nT}),a.ZU.Object({$kind:a.ZU.Literal("revertEventContext"),revertEventContext:nN}),a.ZU.Object({$kind:a.ZU.Literal("iterativeAgentEventContext"),iterativeAgentEventContext:nR}),a.ZU.Object({$kind:a.ZU.Literal("integrationTestEventContext"),integrationTestEventContext:nP})]))}),nL=a.ZU.Object({typeUrl:a.ZU.String(),value:a.ZU.Uint8Array()}),nD=a.ZU.Object({id:a.ZU.String(),operationType:Q,key:a.ZU.String(),value:a.ZU.String(),intValue:a.ZU.Integer(),boolValue:a.ZU.Boolean(),protobufValue:nL,structValue:a.ZU.Object({type:a.ZU.String(),fields:a.ZU.Array(a.ZU.Object({key:a.ZU.String(),value:a.ZU.Unknown()}))})}),nM=a.ZU.Object({content:a.ZU.String()}),nY=a.ZU.Object({content:a.ZU.String()}),n$=a.ZU.Object({sources:a.ZU.Array(eb)}),nF=a.ZU.Object({templates:a.ZU.Array(ey)}),nW=a.ZU.Object({jsonResult:a.ZU.String()}),nq=a.ZU.Object({content:a.ZU.String()}),nH=a.ZU.Object({contents:tO}),nG=a.ZU.Object({contents:t$}),nV=a.ZU.Object({contents:tH}),nB=a.ZU.Object({contents:ez}),nz=a.ZU.Object({content:a.ZU.String()}),nK=a.ZU.Object({change:eS,commitId:a.ZU.String()}),nQ=a.ZU.Object({Update:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("update"),update:eS})])),Replacement:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("replacement"),replacement:eS})]))}),nX=a.ZU.Object({summary:a.ZU.String()}),nJ=a.ZU.Object({command:eN}),n0=a.ZU.Object({summary:a.ZU.String(),commitId:a.ZU.String(),didCreateCheckpoint:a.ZU.Optional(a.ZU.Boolean()),didCountEditRequest:a.ZU.Boolean()}),n1=a.ZU.Object({request:nn}),n2=a.ZU.Object({newContext:eY}),n5=a.ZU.Object({nudge:eR}),n4=a.ZU.Object({content:a.ZU.String()}),n3=a.ZU.Object({packageInstalls:eP}),n7=a.ZU.Object({newStatus:es}),n8=a.ZU.Object({path:a.ZU.String(),value:a.ZU.String()}),n6=a.ZU.Object({path:a.ZU.String(),value:a.ZU.String()}),n9=a.ZU.Object({runConfiguration:ej}),re=a.ZU.Object({deploymentConfiguration:eL}),rt=a.ZU.Object({content:a.ZU.String()}),rn=a.ZU.Object({content:a.ZU.String()}),rr=a.ZU.Object({marker:tw}),ri=a.ZU.Object({workflowConfiguration:eD}),ro=a.ZU.Object({id:a.ZU.String(),operation:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("messageContentsUpdate"),messageContentsUpdate:nM}),a.ZU.Object({$kind:a.ZU.Literal("shellSuggestionContentsUpdate"),shellSuggestionContentsUpdate:nY}),a.ZU.Object({$kind:a.ZU.Literal("addSourcesUpdate"),addSourcesUpdate:n$}),a.ZU.Object({$kind:a.ZU.Literal("addSuggestedTemplatesUpdate"),addSuggestedTemplatesUpdate:nF}),a.ZU.Object({$kind:a.ZU.Literal("byoPromptResultUpdate"),byoPromptResultUpdate:nW}),a.ZU.Object({$kind:a.ZU.Literal("messageContentsSet"),messageContentsSet:nq}),a.ZU.Object({$kind:a.ZU.Literal("agentTimelineEventSet"),agentTimelineEventSet:nH}),a.ZU.Object({$kind:a.ZU.Literal("hostingDebugSummaryEventSet"),hostingDebugSummaryEventSet:nG}),a.ZU.Object({$kind:a.ZU.Literal("replCreationEventSet"),replCreationEventSet:nV}),a.ZU.Object({$kind:a.ZU.Literal("localShellExecutionEventSet"),localShellExecutionEventSet:nB}),a.ZU.Object({$kind:a.ZU.Literal("agentTimelineEventCreateFileAddContent"),agentTimelineEventCreateFileAddContent:nz}),a.ZU.Object({$kind:a.ZU.Literal("addProposedFileChange"),addProposedFileChange:nK}),a.ZU.Object({$kind:a.ZU.Literal("updateProposedFileChange"),updateProposedFileChange:nQ}),a.ZU.Object({$kind:a.ZU.Literal("addProposedFileChangesMetadata"),addProposedFileChangesMetadata:nX}),a.ZU.Object({$kind:a.ZU.Literal("addProposedShellCommand"),addProposedShellCommand:nJ}),a.ZU.Object({$kind:a.ZU.Literal("addProposedActionsMetadata"),addProposedActionsMetadata:n0}),a.ZU.Object({$kind:a.ZU.Literal("agentAskUserForActionRequestSet"),agentAskUserForActionRequestSet:n1}),a.ZU.Object({$kind:a.ZU.Literal("addRagContext"),addRagContext:n2}),a.ZU.Object({$kind:a.ZU.Literal("addProposedWorkspaceToolNudge"),addProposedWorkspaceToolNudge:n5}),a.ZU.Object({$kind:a.ZU.Literal("integrationTestEventContents"),integrationTestEventContents:n4}),a.ZU.Object({$kind:a.ZU.Literal("addProposedPackageInstall"),addProposedPackageInstall:n3}),a.ZU.Object({$kind:a.ZU.Literal("updateRevertStatus"),updateRevertStatus:n7}),a.ZU.Object({$kind:a.ZU.Literal("updateAttachedFormStringFieldSet"),updateAttachedFormStringFieldSet:n8}),a.ZU.Object({$kind:a.ZU.Literal("updateAttachedFormStringFieldAppend"),updateAttachedFormStringFieldAppend:n6}),a.ZU.Object({$kind:a.ZU.Literal("addProposedRunConfiguration"),addProposedRunConfiguration:n9}),a.ZU.Object({$kind:a.ZU.Literal("addProposedDeploymentConfiguration"),addProposedDeploymentConfiguration:re}),a.ZU.Object({$kind:a.ZU.Literal("appendTimelineMessageContentsUpdate"),appendTimelineMessageContentsUpdate:rt}),a.ZU.Object({$kind:a.ZU.Literal("appendThoughtContentsUpdate"),appendThoughtContentsUpdate:rn}),a.ZU.Object({$kind:a.ZU.Literal("appendRedactedThoughtsMarker"),appendRedactedThoughtsMarker:rr}),a.ZU.Object({$kind:a.ZU.Literal("addProposedWorkflowConfiguration"),addProposedWorkflowConfiguration:ri})]))}),ra=a.ZU.Object({type:z,message:a.ZU.String()}),rs=a.ZU.Object({id:a.ZU.String(),parentEventId:a.ZU.String(),contents:nb,context:nj,state:P,created:a.ZU.Date(),updated:a.ZU.Date(),sender:e3,sessionId:a.ZU.String(),updateEventOperations:a.ZU.Array(nD),typedUpdateEventOperations:a.ZU.Array(ro),error:ra,agentStepId:a.ZU.String()}),rl=a.ZU.Object({id:a.ZU.String(),parentEventId:a.ZU.String(),created:a.ZU.Date()}),ru=a.ZU.Object({type:d,comment:a.ZU.String()}),rc=a.ZU.Object({sessionId:a.ZU.String(),sourceEventId:a.ZU.String(),feedback:ru,sessionType:$}),rd=a.ZU.Object({}),rp=a.ZU.Object({activeAgentSessionId:a.ZU.String()}),rf=a.ZU.Object({id:a.ZU.String(),title:a.ZU.String(),sessionType:$,replId:a.ZU.String(),events:a.ZU.Array(rs),sessionCreationEventId:a.ZU.String(),archived:a.ZU.Boolean(),lastEventTime:a.ZU.Date(),created:a.ZU.Date(),updated:a.ZU.Date(),activeEventId:a.ZU.String(),readOnly:a.ZU.Boolean()});a.ZU.Object({}),a.ZU.Object({success:a.ZU.Boolean()});var rv=a.ZU.Object({token:a.ZU.String(),gurl:a.ZU.String()});a.ZU.Object({user:e3,replIds:a.ZU.Array(a.ZU.String()),issuer:a.ZU.String(),overrideGovalToken:rv,forkReplId:a.ZU.String()});var rh=a.ZU.Object({parentEventId:a.ZU.String(),sessionId:a.ZU.String(),state:P,contents:nb,context:nj,eventId:a.ZU.String(),error:ra,isActive:a.ZU.Optional(a.ZU.Boolean()),addToChild:a.ZU.Boolean()}),rg=a.ZU.Object({eventId:a.ZU.String(),parentEventId:a.ZU.String(),Created:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("created"),created:a.ZU.Date()})]))}),rm=a.ZU.Object({request:rh,user:e3}),rU=a.ZU.Object({events:a.ZU.Array(rm)}),rb=a.ZU.Object({eventIds:a.ZU.Array(a.ZU.String())}),ry=a.ZU.Object({eventId:a.ZU.String(),operations:a.ZU.Array(nD),typedOperations:a.ZU.Array(ro),state:P,error:ra,requireCompletion:a.ZU.Optional(a.ZU.Boolean())}),rE=a.ZU.Object({}),rS=a.ZU.Object({}),rC=a.ZU.Object({maxSteps:a.ZU.Integer()}),rZ=a.ZU.Object({timeWhenReset:a.ZU.String()}),r_=a.ZU.Object({}),rx=a.ZU.Object({}),rA=a.ZU.Object({}),rw=a.ZU.Object({}),rI=a.ZU.Object({}),rk=a.ZU.Object({}),rO=a.ZU.Object({}),rT=a.ZU.Object({code:J,message:a.ZU.String()}),rN=a.ZU.Object({}),rR=a.ZU.Object({reasons:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("userPaused"),userPaused:rS}),a.ZU.Object({$kind:a.ZU.Literal("stepLimitExceeded"),stepLimitExceeded:rC}),a.ZU.Object({$kind:a.ZU.Literal("rateLimited"),rateLimited:rZ}),a.ZU.Object({$kind:a.ZU.Literal("waitingOnUserResponse"),waitingOnUserResponse:r_}),a.ZU.Object({$kind:a.ZU.Literal("waitingOnPlanApproval"),waitingOnPlanApproval:rx}),a.ZU.Object({$kind:a.ZU.Literal("requestedSecrets"),requestedSecrets:rA}),a.ZU.Object({$kind:a.ZU.Literal("testConcluded"),testConcluded:rw}),a.ZU.Object({$kind:a.ZU.Literal("error"),error:rI}),a.ZU.Object({$kind:a.ZU.Literal("planConcluded"),planConcluded:rk}),a.ZU.Object({$kind:a.ZU.Literal("reverted"),reverted:rO}),a.ZU.Object({$kind:a.ZU.Literal("authorizationFailed"),authorizationFailed:rT}),a.ZU.Object({$kind:a.ZU.Literal("stepTooComplex"),stepTooComplex:rN})]))}),rP=a.ZU.Object({replId:a.ZU.String(),sessionId:a.ZU.String(),runState:u,transitionReason:rR}),rj=a.ZU.Object({replId:a.ZU.String(),sessionId:a.ZU.String()}),rL=a.ZU.Object({runState:u,transitionReason:rR}),rD=a.ZU.Object({runState:u,transitionReason:rR}),rM=a.ZU.Object({replId:a.ZU.String(),sessionId:a.ZU.String(),runState:u,transitionReason:rR}),rY=a.ZU.Object({replId:a.ZU.String(),sessionId:a.ZU.String(),runState:u,transitionReason:rR}),r$=a.ZU.Object({}),rF=a.ZU.Object({eventId:a.ZU.String(),context:nj}),rW=a.ZU.Object({}),rq=a.ZU.Object({mimeType:a.ZU.String()}),rH=a.ZU.Object({uploadUrl:a.ZU.String(),downloadUrl:a.ZU.String(),identifier:a.ZU.String()}),rG=a.ZU.Object({url:a.ZU.String()}),rV=a.ZU.Object({imageDownloadUrl:a.ZU.String()}),rB=a.ZU.Object({url:a.ZU.String()}),rz=a.ZU.Object({content:a.ZU.String()}),rK=a.ZU.Object({eventId:a.ZU.String()}),rQ=a.ZU.Object({eventId:a.ZU.String()}),rX=a.ZU.Object({beforeTimestamp:a.ZU.Date(),limit:a.ZU.Integer(),includeFirstSessionEvents:a.ZU.Boolean(),firstSessionEventsLimit:a.ZU.Integer(),replId:a.ZU.String(),sessionTypes:a.ZU.Array($),archived:a.ZU.Optional(a.ZU.Boolean())}),rJ=a.ZU.Object({hasMore:a.ZU.Boolean(),sessions:a.ZU.Array(rf),replAgentState:rp}),r0=a.ZU.Object({userPrompt:a.ZU.String(),uploadedFiles:a.ZU.Array(eO),attachedUrls:a.ZU.Array(eT)}),r1=a.ZU.Object({enhancedPrompt:a.ZU.String()}),r2=a.ZU.Object({sessionId:a.ZU.String(),limit:a.ZU.Integer(),excludeContents:a.ZU.Boolean(),AfterTimestamp:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("afterTimestamp"),afterTimestamp:a.ZU.Date()})]))}),r5=a.ZU.Object({events:a.ZU.Array(rs),session:rf}),r4=a.ZU.Object({sessionId:a.ZU.String(),eventIds:a.ZU.Array(a.ZU.String())}),r3=a.ZU.Object({events:a.ZU.Array(rs)}),r7=a.ZU.Object({replId:a.ZU.String(),sessionType:$,title:a.ZU.String(),SeededAiFirstEventContents:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("seededAiFirstEventContents"),seededAiFirstEventContents:nb})]))}),r8=a.ZU.Object({sessionId:a.ZU.String(),sessionCreationEventId:a.ZU.String(),seededAiFirstEventId:a.ZU.String()}),r6=a.ZU.Object({sessionId:a.ZU.String(),limit:a.ZU.Integer(),AncestorsOf:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("ancestorsOf"),ancestorsOf:a.ZU.String()})]))}),r9=a.ZU.Object({shapes:a.ZU.Array(rl),hasMore:a.ZU.Boolean()}),ie=a.ZU.Object({replId:a.ZU.String()}),it=a.ZU.Object({}),ir=a.ZU.Object({eventId:a.ZU.String(),parentEventId:a.ZU.String(),sessionId:a.ZU.String(),state:P,contents:nb,sender:e3,error:ra,isActive:a.ZU.Optional(a.ZU.Boolean())}),ii=a.ZU.Object({sessionId:a.ZU.String(),title:a.ZU.String(),replId:a.ZU.String(),sessionCreationEventId:a.ZU.String(),sessionType:$,archived:a.ZU.Optional(a.ZU.Boolean())}),io=a.ZU.Object({sessionId:a.ZU.String(),eventId:a.ZU.String(),operations:a.ZU.Array(nD),typedOperations:a.ZU.Array(ro),state:P,error:ra}),ia=a.ZU.Object({sessionId:a.ZU.String(),title:a.ZU.String(),sessionType:$,archived:a.ZU.Optional(a.ZU.Boolean()),replId:a.ZU.String(),activeEventId:a.ZU.String(),isActiveAgentSession:a.ZU.Optional(a.ZU.Boolean()),readOnly:a.ZU.Optional(a.ZU.Boolean())}),is=a.ZU.Object({replId:a.ZU.String(),sessionId:a.ZU.String(),eventId:a.ZU.String()}),il=a.ZU.Object({sender:e3,seqno:a.ZU.Integer(),message:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("subscriptionStatusMessage"),subscriptionStatusMessage:it}),a.ZU.Object({$kind:a.ZU.Literal("createEventMessage"),createEventMessage:ir}),a.ZU.Object({$kind:a.ZU.Literal("createSessionMessage"),createSessionMessage:ii}),a.ZU.Object({$kind:a.ZU.Literal("updateEventMessage"),updateEventMessage:io}),a.ZU.Object({$kind:a.ZU.Literal("updateSessionMessage"),updateSessionMessage:ia}),a.ZU.Object({$kind:a.ZU.Literal("abortEventMessage"),abortEventMessage:is}),a.ZU.Object({$kind:a.ZU.Literal("updateAgentStateMessage"),updateAgentStateMessage:rM})]))});a.ZU.Object({limit:a.ZU.Integer(),usage:a.ZU.Integer(),resetTime:a.ZU.Date()});var iu=a.ZU.Object({overrideModel:a.ZU.String()}),ic=a.ZU.Object({readable:a.ZU.String(),qualified:a.ZU.String()}),id=a.ZU.Object({basicModel:a.ZU.Array(ic),advancedModel:a.ZU.Array(ic),overrideModel:ic}),ip=a.ZU.Object({id:a.ZU.String(),title:a.ZU.String(),sessionType:$,archived:a.ZU.Optional(a.ZU.Boolean()),replId:a.ZU.String(),activeEventId:a.ZU.String(),isActiveAgentSession:a.ZU.Optional(a.ZU.Boolean()),readOnly:a.ZU.Optional(a.ZU.Boolean())}),iv=a.ZU.Object({}),ih=a.ZU.Object({replId:a.ZU.String(),contents:nb,context:nj,sessionId:a.ZU.String()}),ig=a.ZU.Object({rootId:a.ZU.String()}),im=a.ZU.Object({message:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("startMessage"),startMessage:ig}),a.ZU.Object({$kind:a.ZU.Literal("createEventMessage"),createEventMessage:ir}),a.ZU.Object({$kind:a.ZU.Literal("updateEventMessage"),updateEventMessage:io})]))}),iU=a.ZU.Object({replId:a.ZU.String(),prompt:a.ZU.String()}),ib=a.ZU.Object({replName:a.ZU.String()}),iy=a.ZU.Object({replId:a.ZU.String(),prompt:a.ZU.String()}),iE=a.ZU.Object({imageUrl:a.ZU.String()}),iS=a.ZU.Object({key:a.ZU.String(),value:a.ZU.Unknown()});a.ZU.Object({fields:a.ZU.Array(iS),type:a.ZU.String()});var iC=a.ZU.Object({values:a.ZU.Array(a.ZU.Unknown())});a.ZU.Object({kind:a.ZU.Optional(a.ZU.Union([a.ZU.Object({$kind:a.ZU.Literal("nullValue"),nullValue:et}),a.ZU.Object({$kind:a.ZU.Literal("numberValue"),numberValue:a.ZU.Number()}),a.ZU.Object({$kind:a.ZU.Literal("stringValue"),stringValue:a.ZU.String()}),a.ZU.Object({$kind:a.ZU.Literal("boolValue"),boolValue:a.ZU.Boolean()}),a.ZU.Object({$kind:a.ZU.Literal("structValue"),structValue:a.ZU.Object({type:a.ZU.String(),fields:a.ZU.Array(a.ZU.Object({key:a.ZU.String(),value:a.ZU.Unknown()}))})}),a.ZU.Object({$kind:a.ZU.Literal("listValue"),listValue:iC})]))}),s.dx.define({abortEvent:s._z.rpc({input:rK,output:rQ,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),createEvent:s._z.rpc({input:rh,output:rg,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),batchCreateEvents:s._z.rpc({input:rU,output:rb,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),createSession:s._z.rpc({input:r7,output:r8,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),enhanceAgentPrompt:s._z.rpc({input:r0,output:r1,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),getReplSessions:s._z.rpc({input:rX,output:rJ,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),getSessionEvents:s._z.rpc({input:r2,output:r5,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),batchGetEvents:s._z.rpc({input:r4,output:r3,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),getEventList:s._z.rpc({input:r6,output:r9,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),getAvailableModels:s._z.rpc({input:iu,output:id,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),processEvent:s._z.subscription({input:ih,output:im,handler:function(e,t,n){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),reprocessEvent:s._z.rpc({input:rF,output:rW,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),subscribeToReplEvents:s._z.subscription({input:ie,output:il,handler:function(e,t,n){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),updateEvent:s._z.upload({input:ry,output:rE,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),updateSession:s._z.rpc({input:ip,output:iv,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),pingPong:s._z.rpc({input:ep,output:ef,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),getAgentState:s._z.rpc({input:rj,output:rL,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),updateAgentState:s._z.rpc({input:rP,output:rD,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),broadcastAgentState:s._z.rpc({input:rY,output:r$,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),generateReplName:s._z.rpc({input:iU,output:ib,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),generateIcon:s._z.rpc({input:iy,output:iE,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),submitAgentUserFeedback:s._z.rpc({input:rc,output:rd,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),cloneSession:s._z.rpc({input:ec,output:ed,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),getResourceUploadUrl:s._z.rpc({input:rq,output:rH,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),getUrlScreenshot:s._z.rpc({input:rG,output:rV,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}}),getUrlScrapedContent:s._z.rpc({input:rB,output:rz,handler:function(e,t){return(0,i._)(function(){return(0,o.YH)(this,function(e){throw Error("unimplemented")})})()}})});var iZ=n(49711),i_=n(51297),ix=n(72275),iA=n(60762);function iw(e){if(!e.$kind)throw Error("Object has an empty or undefined $kind property");if(!Object.prototype.hasOwnProperty.call(e,e.$kind))throw Error("Object has a $kind property that does not match the object");return e[e.$kind]}function iI(e){var t=iw(e);if((void 0===t?"undefined":(0,iA._)(t))!=="object"||null===t)throw Error("Contents is not an object");if("$kind"in t)throw Error("Contents has an unexpected $kind property");return(0,r._)({$kind:e.$kind},t)}function ik(e,t){return(0,ix._)({$kind:e},e,t)}function iO(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e&&n.includes(e.$kind)}var iT=n(3274);function iN(e){return(void 0===e?"undefined":(0,iA._)(e))==="object"?e:"string"==typeof e?{type:w.OVERRIDE,overrideModelName:e}:{type:e,overrideModelName:""}}var iR=(0,i_.CN)(iZ.WT.Create(rs),!0);function iP(e){var t=e.session,n=e.parent,r=e.sender,i=e.contents,o=e.context,a=e.benchmark,s=(0,iT.A)(),l=new Date,u="localShellExecutionEventContents"===i.$kind?R.IN_PROGRESS:R.COMPLETE,c={type:B.EVENT_ERROR_TYPE_UNKNOWN,message:""},d=Object.assign({},iR);return d.id=s,d.parentEventId=n,d.sessionId=t,d.created=l,d.updated=l,d.state=u,d.error=c,d.sender=r,d.contents={benchmarkParameters:null!=a?a:{datasetId:"",instanceId:"",runId:"",replDescription:""},contents:i},d.context={metadata:o||void 0},d}var ij={contents:(0,i_.CN)(iZ.WT.Create(nn),!0)},iL={contents:(0,i_.CN)(iZ.WT.Create(nc),!0)},iD={contents:(0,i_.CN)(iZ.WT.Create(e7),!0),context:(0,i_.CN)(iZ.WT.Create(nw),!0)},iM={contents:(0,i_.CN)(iZ.WT.Create(e0),!0),context:(0,i_.CN)(iZ.WT.Create(nA),!0)},iY={contents:(0,i_.CN)(iZ.WT.Create(eB),!0),context:(0,i_.CN)(iZ.WT.Create(nC),!0),reference:(0,i_.CN)(iZ.WT.Create(eg),!0)},i$=n(43952),iF=n(16530),iW={applied:(0,i_.CN)(iZ.WT.Create(tV),!0),reverted:(0,i_.CN)(iZ.WT.Create(tz),!0),contents:(0,i_.CN)(iZ.WT.Create(t5),!0),context:(0,i_.CN)(iZ.WT.Create(nR),!0)},iq={contents:(0,i_.CN)(iZ.WT.Create(ez),!0),context:(0,i_.CN)(iZ.WT.Create(nZ),!0)},iH={contents:(0,i_.CN)(iZ.WT.Create(eV),!0),context:(0,i_.CN)(iZ.WT.Create(nS),!0),reference:(0,i_.CN)(iZ.WT.Create(eg),!0),proposedFileChanges:(0,i_.CN)(ik("proposedFileChanges",{changes:[],commitId:"",summary:""}),!0)},iG={contents:(0,i_.CN)(iZ.WT.Create(tj),!0),context:(0,i_.CN)(iZ.WT.Create(nN),!0)},iV={contents:(0,i_.CN)(iZ.WT.Create(eK),!0),context:(0,i_.CN)(iZ.WT.Create(n_),!0)},iB={contents:(0,i_.CN)(iZ.WT.Create(nh),!0)},iz={contents:(0,i_.CN)(iZ.WT.Create(t4),!0)},iK={contents:(0,i_.CN)(iZ.WT.Create(eQ),!0),context:(0,i_.CN)(iZ.WT.Create(nx),!0)},iQ={create:(0,i_.CN)(iZ.WT.Create(rh),!0),messageContext:(0,i_.CN)(iZ.WT.Create(nS),!0),inlineContext:(0,i_.CN)(iZ.WT.Create(nC),!0)};function iX(e,t){var n=(0,iT.A)(),r=iN(t.model),i=(0,i_.jM)(e,function(e){if(e.id=n,!e.context.metadata)switch(null===(c=e.contents.contents)||void 0===c?void 0:c.$kind){case"messageEventContents":var i=Object.assign({},iQ.messageContext);e.context.metadata=ik("messageEventContext",i);break;case"inlineActionEventContents":var o=Object.assign({},iQ.inlineContext);e.context.metadata=ik("inlineActionEventContext",o);break;default:throw Error("Unsupported event contents")}if((null===(a=e.contents.contents)||void 0===a?void 0:a.$kind)==="messageEventContents"&&(null===(s=e.context.metadata)||void 0===s?void 0:s.$kind)==="messageEventContext"){var a,s,l,u,c,d,p,f=e.contents.contents.messageEventContents,v=e.context.metadata.messageEventContext;v.modelSelector=r,"intent"in t&&(f.intent=t.intent,v.intent=t.intent),(null===(d=t.fileContext)||void 0===d?void 0:d.mostRecentFile)&&(v.mostRecentFile=t.fileContext.mostRecentFile),(null===(p=t.fileContext)||void 0===p?void 0:p.fileContext)&&(v.fileContext=t.fileContext.fileContext)}if((null===(l=e.contents.contents)||void 0===l?void 0:l.$kind)==="inlineActionEventContents"&&(null===(u=e.context.metadata)||void 0===u?void 0:u.$kind)==="inlineActionEventContext"){var h,g,m=e.contents.contents.inlineActionEventContents,U=e.context.metadata.inlineActionEventContext;U.modelSelector=r,"type"in t&&(m.messageType=t.type),(null===(h=t.fileContext)||void 0===h?void 0:h.mostRecentFile)&&(U.mostRecentFile=t.fileContext.mostRecentFile),(null===(g=t.fileContext)||void 0===g?void 0:g.fileContext)&&(U.fileContext=t.fileContext.fileContext)}}),o=Object.assign({},iQ.create);return o.state=i.state,o.sessionId=i.sessionId,o.parentEventId=i.parentEventId,o.eventId=i.id,o.context=i.context,o.contents=i.contents,{event:i,request:o}}var iJ=(0,i_.CN)(iZ.WT.Create(rh),!0);function i0(e){var t=function(e){var t,n,i,o,a,s,l,u,c,d,p,f,v,h,g,m,U,b,E,S,C,Z,_,x,A,w,I,k,O,T,N,R,P,j,L,M,Y,$=e.session,F=e.parent,W=e.sender,q=e.model,H=e.data,G=e.benchmark;"type"in W||(W={id:W.id.toString(),type:D.USER,isTeam:!1,roles:[],membership:W.membership,orgId:"",username:"",timeCreated:W.timeCreated});var V=(0,r._)({session:$,parent:F,sender:W,model:q,benchmark:G},H);switch(V.kind){case"agentPlan":return(t=Object.assign({},iD.contents)).planId=V.planId,t.objective=V.objective,t.step=V.step,t.requiresApproval=V.requiresApproval,t.Approver=V.approved?ik("approver",V.sender):void 0,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("agentPlanEventContents",t),context:ik("agentPlanEventContext",iD.context)});case"byoPrompt":return n=Object.assign({},iM.contents),i=Object.assign({},iM.context),o=iN(V.model),n.messages=V.messages,n.parameters=V.parameters,n.forceJson=!1,i.modelSelector=o,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("byoPromptEventContents",n),context:ik("byoPromptEventContext",i)});case"inlineAction":return c=Object.assign({},iY.contents),d=Object.assign({},iY.context),p=iN(V.model),c.content=V.message,c.messageType=V.messageType,c.codeReference=null!==(a=V.codeReference)&&void 0!==a?a:iY.reference,c.usedModelSelector=p,d.mostRecentFile=null!==(s=V.mostRecentFile)&&void 0!==s?s:"",d.fileContext=null!==(l=V.fileContext)&&void 0!==l?l:[],d.modelSelector=p,d.useRag=null!==(u=V.useRag)&&void 0!==u&&u,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("inlineActionEventContents",c),context:ik("inlineActionEventContext",d)});case"iterativeAgent":return function(e){var t=Object.assign({},iW.contents);if("appliedChanges"in e.action){var n=Object.assign({},iW.applied);n.eventWhichProposedChanges=e.action.eventIdWhichProposedChanges,n.appliedChanges=e.action.appliedChanges,n.commitHash=e.action.commitHash,t.contents=ik("appliedFileChanges",n)}else if("revertedChanges"in e.action){var i=Object.assign({},iW.reverted);i.eventWhichProposedChanges=e.action.eventIdWhichProposedChanges,i.eventWhichAppliedChanges=e.action.eventIdWhichAppliedChanges,i.revertedChanges=e.action.revertedChanges,t.contents=ik("revertedFileChanges",i)}else if("eventIdWhichProposedPackageInstall"in e.action){if("installationOutput"in e.action){var o=e.action,a=o.eventIdWhichProposedPackageInstall,s=(0,iF._)(o,["eventIdWhichProposedPackageInstall"]);t.contents=ik("installedPackages",(0,i$._)((0,r._)({},s),{eventWhichProposedPackageInstall:a}))}else{var l=e.action,u=l.eventIdWhichProposedPackageInstall,c=(0,iF._)(l,["eventIdWhichProposedPackageInstall"]);t.contents=ik("installingPackages",(0,i$._)((0,r._)({},c),{eventWhichProposedPackageInstall:u}))}}else if("eventIdWhichProposedShellExecution"in e.action){if("commandOutput"in e.action){var d=e.action,p=d.eventIdWhichProposedShellExecution,f=(0,iF._)(d,["eventIdWhichProposedShellExecution"]);t.contents=ik("finishedShellExecution",(0,i$._)((0,r._)({},f),{eventWhichProposedShellExecution:p}))}else{var v=e.action,h=v.eventIdWhichProposedShellExecution,g=(0,iF._)(v,["eventIdWhichProposedShellExecution"]);t.contents=ik("startedShellExecution",(0,i$._)((0,r._)({},g),{eventWhichProposedShellExecution:h}))}}else if("eventIdWhichProposedRunConfiguration"in e.action){var m=e.action,U=m.eventIdWhichProposedRunConfiguration,b=(0,iF._)(m,["eventIdWhichProposedRunConfiguration"]);t.contents=ik("appliedRunConfiguration",(0,i$._)((0,r._)({},b),{eventWhichProposedRunConfiguration:U}))}else if("eventIdWhichProposedDeploymentConfiguration"in e.action){var y=e.action,E=y.eventIdWhichProposedDeploymentConfiguration,S=(0,iF._)(y,["eventIdWhichProposedDeploymentConfiguration"]);t.contents=ik("appliedDeploymentConfiguration",(0,i$._)((0,r._)({},S),{eventWhichProposedDeploymentConfiguration:E}))}else if("eventIdWhichProposedWorkflowConfiguration"in e.action){var C=e.action,Z=C.eventIdWhichProposedWorkflowConfiguration,_=(0,iF._)(C,["eventIdWhichProposedWorkflowConfiguration"]);t.contents=ik("appliedWorkflowConfiguration",(0,i$._)((0,r._)({},_),{eventWhichProposedWorkflowConfiguration:Z}))}return iP({session:e.session,parent:e.parent,sender:e.sender,contents:ik("iterativeAgentEventContents",t),context:ik("iterativeAgentEventContext",iW.context)})}(V);case"localShellExecution":return(f=Object.assign({},iq.contents)).command=V.command,f.channelName=V.channelName,f.eventId=V.event,f.index=0,f.result="",f.exitCode=0,f.executed=!1,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("localShellExecutionEventContents",f),context:ik("localShellExecutionEventContext",iq.context)});case"message":return w=Object.assign({},iH.contents),I=Object.assign({},iH.context),k=iN(V.model),w.content=V.message,w.intent=V.intent,w.media=null!==(v=V.media)&&void 0!==v?v:[],w.codeReference=null!==(h=V.codeReference)&&void 0!==h?h:iH.reference,w.usedModelSelector=k,w.sources=null!==(g=V.sources)&&void 0!==g?g:[],w.extraActions=null!==(m=V.extraActions)&&void 0!==m?m:iH.proposedFileChanges,w.agentAction=null!==(U=V.agentAction)&&void 0!==U?U:{},w.uploadedFiles=null!==(b=V.uploadedFiles)&&void 0!==b?b:[],w.attachedUrls=null!==(E=V.attachedUrls)&&void 0!==E?E:[],w.attachedForm=null!==(S=V.attachedForm)&&void 0!==S?S:{formType:y.ATTACHED_FORM_TYPE_UNKNOWN,fields:[]},w.enableDeepThinking=null!==(C=V.enableDeepThinking)&&void 0!==C&&C,I.intent=V.intent,I.mostRecentFile=null!==(Z=V.mostRecentFile)&&void 0!==Z?Z:"",I.fileContext=null!==(_=V.fileContext)&&void 0!==_?_:[],I.modelSelector=k,I.useRag=null!==(x=V.useRag)&&void 0!==x&&x,I.extraResources=null!==(A=V.extraResources)&&void 0!==A?A:[],I.agentConfig={maxSteps:0},V.webviewTargetedElement&&(w.targetedElement=V.webviewTargetedElement),iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("messageEventContents",w),context:ik("messageEventContext",I)});case"revert":return(O=Object.assign({},iG.contents)).eventIdBeforeRevert=V.eventIdBeforeRevert,O.commitId=V.commitHash,O.message=V.commitMessage,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("revertEventContents",O),context:ik("revertEventContext",iG.context)});case"shellSuggestion":return T=Object.assign({},iV.contents),N=Object.assign({},iV.context),R=iN(V.model),T.content=V.message,N.modelSelector=R,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("shellSuggestionEventContents",T),context:ik("shellSuggestionEventContext",N)});case"translate":return(P=Object.assign({},iK.contents)).content=V.content,P.inputTarget=V.inputTarget,P.outputTarget=V.outputTarget,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("translateEventContents",P),context:ik("translateEventContext",iK.context)});case"stepTooComplex":return(j=Object.assign({},iz.contents)).state=V.state,j.stepId=V.stepId,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("stepTooComplexEventContents",j),context:null});case"agentAskUserForActionResponse":return(L=Object.assign({},iL.contents)).response=V.response,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("agentAskUserForActionResponse",L),context:null});case"agentAskUserForActionRequest":return(M=Object.assign({},ij.contents)).request=V.request,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("agentAskUserForActionRequest",M),context:null});case"startRapidBuildEvent":return(Y=Object.assign({},iB.contents)).mvpObjective=V.mvpObjective,Y.mvpSuccessCriteria=V.mvpSuccessCriteria,Y.stack=V.stack,Y.followupSteps=V.followupSteps,Y.uploadedFiles=V.uploadedFiles,Y.extraDetails=V.extraDetails,Y.techStack=V.techStack,iP({session:V.session,parent:V.parent,sender:V.sender,contents:ik("startRapidBuildEventContents",Y),context:null})}}(e),n=Object.assign({},iJ);return n.addToChild=e.addToChild,n.state=t.state,n.sessionId=t.sessionId,n.parentEventId=t.parentEventId,n.eventId=t.id,n.context=t.context,n.contents=t.contents,{event:t,request:n}}var i1=(0,i_.CN)(iZ.WT.Create(io),!0),i2=n(78542),i5=n(62640),i4=n(95766),i3=n(15711),i7=n(39487),i8=n(98251),i6=n(75362),i9=n(98337),oe=n(47689),ot=n(16490),on=n(30271),or={codec:i9.M,heartbeatIntervalMs:2500,heartbeatsUntilDead:40,enableTransparentSessionReconnects:!1,connectionTimeoutMs:1e4,handshakeTimeoutMs:15e3,sessionDisconnectGraceMs:15e3},oi=(0,i$._)((0,r._)({},or),{baseIntervalMs:250,maxJitterMs:500,maxBackoffMs:32e3,attemptBudgetCapacity:5,budgetRestoreIntervalMs:2e3}),oo=new WeakMap,oa=new WeakMap,os=function(){"use strict";function e(t){var n=this,r=t.clientId,a=t.serverId,l=t.connectImmediately,u=t.logger,c=t.getEndpoint,d=t.overrideWebsocket,p=t.onProtocolError,f=t.onRetriesExceeded;(0,i2._)(this,e),(0,i4._)(this,oo,{writable:!0,value:void 0}),(0,i4._)(this,oa,{writable:!0,value:void 0}),this.dispose=null,this.clientId=r,this.serverId=a,this.log=null!=u?u:null,this.transport=new ot.I(d?(0,i._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,c()];case 1:return[2,d.apply(void 0,[e.sent().toString()])]}})}):(0,i._)(function(){var e;return(0,o.YH)(this,function(t){switch(t.label){case 0:return e=WebSocket.bind,[4,c()];case 1:return[2,new(e.apply(WebSocket,[void 0,t.sent().toString()]))]}})}),this.clientId,oi),u&&this.transport.bindLogger(u,"info"),this.session=new i6.N(null),(0,i3._)(this,oo,new i6.N("disconnected")),(0,i3._)(this,oa,(0,s.UU)(this.transport,a,{eagerlyConnect:!1,connectOnInvoke:!1})),this.transport.addEventListener("sessionTransition",function(e){if(!n.is("closed","error")){if("Connected"===e.state){var t;n.session.set(null!==(t=n.transport.sessions.values().next().value)&&void 0!==t?t:null),(0,i5._)(n,oo).set("connected")}else n.session.set(null),n.transport.reconnectOnConnectionDrop?(0,i5._)(n,oo).set("connecting"):(0,i5._)(n,oo).set("disconnected")}}),this.transport.addEventListener("sessionStatus",function(e){n.is("closed","error")||"disconnect"!==e.status||(n.session.set(null),n.transport.reconnectOnConnectionDrop?n.status.set("connecting"):n.status.set("disconnected"))}),this.transport.addEventListener("protocolError",function(e){var t,i;e.type===oe.bd.HandshakeFailed&&(null===(t=n.log)||void 0===t||t.call(n,"river handshake failed",{clientId:r},"error")),e.type===oe.bd.RetriesExceeded?(null===(i=n.log)||void 0===i||i.call(n,"river retry limit exceeded",{clientId:r},"error"),n.close(),null==f||f(e)):(n.error(),null==p||p(e))});var v=function(){return!n.is("closed","error")&&"visible"===document.visibilityState&&window.navigator.onLine},h=function(){var e=n.transport.reconnectOnConnectionDrop,t=v();n.transport.reconnectOnConnectionDrop=t,e&&!t&&!n.session.current&&n.is("connecting")&&(0,i5._)(n,oo).set("disconnected"),t&&n.is("disconnected")&&n.connect()};this.transport.reconnectOnConnectionDrop=v(),document.addEventListener("visibilitychange",h),window.addEventListener("online",h),window.addEventListener("offline",h),this.dispose=function(){document.removeEventListener("visibilitychange",h),window.removeEventListener("online",h),window.removeEventListener("offline",h)},v()&&!1!==l&&this.connect(),!0===l&&this.connect()}var t=e.prototype;return t.is=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes((0,i5._)(this,oo).current)},t.connect=function(){if(this.is("closed","error"))throw Error("Cannot connect to a ".concat((0,i5._)(this,oo).current," ChatConnection"));this.is("connected","connecting")||((0,i5._)(this,oo).set("connecting"),this.transport.connect(this.serverId))},t.error=function(){if(!this.is("closed","error")){var e;(0,i5._)(this,oo).set("error"),this.transport.close(),null===(e=this.dispose)||void 0===e||e.call(this),this.dispose=null}},t.close=function(){if(!this.is("closed","error")){var e;(0,i5._)(this,oo).set("closed"),this.transport.close(),null===(e=this.dispose)||void 0===e||e.call(this),this.dispose=null}},(0,i7._)(e,[{key:"status",get:function(){return(0,i5._)(this,oo)}},{key:"service",get:function(){return(0,i5._)(this,oa).chatService}}]),e}();function ol(e){var t=e.currentUserId;return"chat-client-".concat(t,"-").concat((0,i8.Ak)())}var ou={messageEventContents:{$kind:"messageEventContext",messageEventContext:iZ.WT.Create(nS)},inlineActionEventContents:{$kind:"inlineActionEventContext",inlineActionEventContext:iZ.WT.Create(nC)},shellSuggestionEventContents:{$kind:"shellSuggestionEventContext",shellSuggestionEventContext:iZ.WT.Create(n_)},sessionCreationEventContents:{$kind:"sessionCreationEventContext",sessionCreationEventContext:iZ.WT.Create(ny)},localShellExecutionEventContents:{$kind:"localShellExecutionEventContext",localShellExecutionEventContext:iZ.WT.Create(nZ)},translateEventContents:{$kind:"translateEventContext",translateEventContext:iZ.WT.Create(nx)},byoPromptEventContents:{$kind:"byoPromptEventContext",byoPromptEventContext:iZ.WT.Create(nA)},agentPlanEventContents:{$kind:"agentPlanEventContext",agentPlanEventContext:iZ.WT.Create(nw)},agentTimelineEventContents:{$kind:"agentTimelineEventContext",agentTimelineEventContext:iZ.WT.Create(nI)},iterativeAgentEventContents:{$kind:"iterativeAgentEventContext",iterativeAgentEventContext:iZ.WT.Create(nR)}},oc=!0,od=!1,op=void 0;try{for(var of,ov=Object.values(ou)[Symbol.iterator]();!(oc=(of=ov.next()).done);oc=!0){var oh=of.value;(0,i_.CN)(oh,!0)}}catch(e){od=!0,op=e}finally{try{oc||null==ov.return||ov.return()}finally{if(od)throw op}}var og=(0,i_.CN)(iZ.WT.Create(rs),!0);function om(e){var t,n=Object.assign({},og);n.id=e.eventId,n.parentEventId=e.parentEventId,n.sessionId=e.sessionId,n.state=e.state,n.error=e.error,n.sender=e.sender,n.contents=e.contents,n.created=new Date;var r=null===(t=e.contents.contents)||void 0===t?void 0:t.$kind;return r&&ou[r]&&(n.context={metadata:ou[r]}),n}function oU(e,t){var n,r;return(null===(r=e.contents)||void 0===r?void 0:null===(n=r.contents)||void 0===n?void 0:n.$kind)===t}var ob=n(27189),oy={messageEventContents:{messageContentsUpdate:function(e,t){e.content+=t.content},messageContentsSet:function(e,t){e.content=t.content},addSourcesUpdate:function(e,t){var n;(n=e.sources).push.apply(n,(0,ob._)(t.sources))},updateProposedFileChange:function(e,t){if(iO(e.extraActions,"proposedFileChanges")){var n=iw(e.extraActions).changes,r=t.Update,i=t.Replacement;if(null!=r){var o=r.update,a=o.filePath,s=o.content,l=o.changeSummary,u=o.messageContentsOffset,c=o.state,d=n.find(function(e){return e.filePath===a});null!=d&&(d.content+=s,d.state=c,d.messageContentsOffset=u,l&&(d.changeSummary=l))}else if(null!=i){var p=i.replacement,f=p.filePath,v=p.content,h=p.changeSummary,g=p.state,m=p.messageContentsOffset,U=n.find(function(e){return e.filePath===f});null!=U&&(U.content=v,U.state=g,U.messageContentsOffset=m,h&&(U.changeSummary=h))}}},addProposedFileChange:function(e,t){iO(e.extraActions,"proposedFileChanges")||(e.extraActions=ik("proposedFileChanges",{changes:[],commitId:"",summary:""})),e.extraActions.proposedFileChanges.commitId=t.commitId,e.extraActions.proposedFileChanges.changes.push(t.change)},addProposedFileChangesMetadata:function(e,t){iO(e.extraActions,"proposedFileChanges")&&(e.extraActions.proposedFileChanges.summary=t.summary)},addProposedShellCommand:function(e,t){e.assistantProposedActions.shellCommands.push(t.command)},addProposedPackageInstall:function(e,t){e.assistantProposedActions.packageInstalls.push(t.packageInstalls)},addProposedWorkspaceToolNudge:function(e,t){e.assistantProposedActions.workspaceToolNudges.push(t.nudge)},addProposedActionsMetadata:function(e,t){t.commitId&&(e.assistantProposedActions.commitId=t.commitId),t.summary&&(e.assistantProposedActions.summary=t.summary),void 0!==t.didCreateCheckpoint&&(e.assistantProposedActions.didCreateCheckpoint=t.didCreateCheckpoint),t.didCountEditRequest&&(e.assistantProposedActions.didCountEditRequest=!0),iO(e.extraActions,"proposedFileChanges")&&(e.extraActions.proposedFileChanges.commitId=t.commitId,e.extraActions.proposedFileChanges.summary=t.summary)},addProposedRunConfiguration:function(e,t){e.assistantProposedActions.runConfigurations.push(t.runConfiguration)},addProposedDeploymentConfiguration:function(e,t){e.assistantProposedActions.deploymentConfigurations.push(t.deploymentConfiguration)},addProposedWorkflowConfiguration:function(e,t){e.assistantProposedActions.workflowConfigurations.push(t.workflowConfiguration)},updateAttachedFormStringFieldAppend:function(e,t){oE(e,t,!0)},updateAttachedFormStringFieldSet:function(e,t){oE(e,t,!1)},addRagContext:function(e,t){e.ragContext=t.newContext}},inlineActionEventContents:{messageContentsUpdate:function(e,t){e.content+=t.content},messageContentsSet:function(e,t){e.content=t.content},addSourcesUpdate:function(e,t){var n;(n=e.sources).push.apply(n,(0,ob._)(t.sources))}},localShellExecutionEventContents:{localShellExecutionEventSet:function(e,t){return t.contents}},shellSuggestionEventContents:{shellSuggestionContentsUpdate:function(e,t){e.content+=t.content}},byoPromptEventContents:{byoPromptResultUpdate:function(e,t){e.jsonResult=t.jsonResult}},agentTimelineEventContents:{agentTimelineEventSet:function(e,t){return t.contents},agentTimelineEventCreateFileAddContent:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="createFileData"&&(e.toolData.createFileData.content+=t.content)},updateRevertStatus:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="revertData"&&(e.toolData.revertData.status=t.newStatus)},appendTimelineMessageContentsUpdate:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="messageData"&&(e.toolData.messageData.content+=t.content)},appendThoughtContentsUpdate:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="thoughts"&&(e.toolData.thoughts.thoughts+=t.content)},appendRedactedThoughtsMarker:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="thoughts"&&e.toolData.thoughts.redactedThoughtsMarkers.push(t.marker)}},hostingDebugSummaryEventContents:{hostingDebugSummaryEventSet:function(e,t){return t.contents}},agentAskUserForActionRequest:{agentAskUserForActionRequestSet:function(e,t){return t.request}},integrationTestEventContents:{integrationTestEventContents:function(e,t){e.expectedResponseString+=t.content}}};function oE(e,t,n){if((null===(r=e.attachedForm)||void 0===r?void 0:r.formType)&&e.attachedForm.formType!==y.ATTACHED_FORM_TYPE_UNKNOWN){var r,i,o=e.attachedForm.fields.find(function(e){return e.path===t.path});o||(o={path:t.path,formType:{$kind:"string",string:{value:""}}},e.attachedForm.fields.push(o)),(null===(i=o.formType)||void 0===i?void 0:i.$kind)==="string"&&(o.formType.string.value=n?o.formType.string.value+t.value:t.value)}}function oS(e,t){var n=new Set,r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l,u,c=a.value;if(!(!c.operation||n.has(c.id))){n.add(c.id);var d=null===(u=oy[e.$kind])||void 0===u?void 0:null===(l=u[c.operation.$kind])||void 0===l?void 0:l.call(u,iw(e),iw(c.operation));d&&(e[e.$kind]=d)}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}function oC(e,t){var n=null;if(t.state!==e.state&&(null!=n||(n=Object.assign({},e)),n.state=t.state),(t.error.type!==e.error.type||t.error.message!==e.error.message)&&(null!=n||(n=Object.assign({},e)),n.error=t.error),!t.typedOperations.length||!e.contents.contents)return null!=n?n:e;var r=(0,i_.mq)(e.contents.contents);oS(r,t.typedOperations);var i=(0,i_.vD)(r);return i!==e.contents.contents&&(null!=n||(n=Object.assign({},e)),n.contents={benchmarkParameters:{datasetId:"",instanceId:"",runId:"",replDescription:""},contents:i}),null!=n?n:e}var oZ={session:(0,i_.CN)(iZ.WT.Create(rf),!0),create:(0,i_.CN)(iZ.WT.Create(r7),!0),update:(0,i_.CN)(iZ.WT.Create(ip),!0)};function o_(e){var t,n,r,i,o=null!==(t=e.created)&&void 0!==t?t:new Date;return Object.assign({},oZ.session,e,{created:null!==(n=e.created)&&void 0!==n?n:o,updated:null!==(r=e.updated)&&void 0!==r?r:o,lastEventTime:null!==(i=e.lastEventTime)&&void 0!==i?i:o})}function ox(e){var t,n=Object.assign({},oZ.create);return n.title=null!==(t=e.title)&&void 0!==t?t:"",n.sessionType=e.sessionType,n.replId=e.replId,n.SeededAiFirstEventContents=e.seededEvent?ik("seededAiFirstEventContents",e.seededEvent):void 0,n}function oA(e,t,n){return o_({id:e,sessionCreationEventId:t,title:n.title,sessionType:n.sessionType,replId:n.replId})}function ow(e,t){var n=(0,i_.jM)(e,function(e){var n,r,i,o;e.title=null!==(n=t.title)&&void 0!==n?n:e.title,e.sessionType=null!==(r=t.sessionType)&&void 0!==r?r:e.sessionType,e.archived=null!==(i=t.archived)&&void 0!==i?i:e.archived,e.readOnly=null!==(o=t.readOnly)&&void 0!==o?o:e.readOnly}),r=Object.assign({},oZ.update);return r.id=n.id,r.title=n.title,r.sessionType=n.sessionType,r.replId=n.replId,r.activeEventId=n.activeEventId,void 0!==t.archived&&n.archived!==e.archived&&(r.archived=n.archived),void 0!==t.readOnly&&n.readOnly!==e.readOnly&&(r.readOnly=n.readOnly),void 0!==t.isActiveAgentSession&&(r.isActiveAgentSession=t.isActiveAgentSession,n===e&&(n=Object.assign({},n))),{session:n,request:r}}function oI(e){var t=Object.assign({},oZ.session),n=new Date;return t.id=e.sessionId,t.title=e.title,t.sessionType=e.sessionType,t.replId=e.replId,t.sessionCreationEventId=e.sessionCreationEventId,t.archived=!!e.archived,t.lastEventTime=n,t.created=n,t.updated=n,t}function ok(e,t){return(0,i_.jM)(e,function(e){var n,r;e.title=t.title,e.sessionType=t.sessionType,e.archived=null!==(n=t.archived)&&void 0!==n?n:e.archived,e.activeEventId=t.activeEventId,e.readOnly=null!==(r=t.readOnly)&&void 0!==r?r:e.readOnly})}var oO=function(){"use strict";function e(t){var n=this;(0,i2._)(this,e),this.api=t,this.sessions={query:function(e){return n.api.createSessionsQuery(e)},create:function(e){return n.api.createSession(e)},get:function(e){return n.api.getSessionObservableById(e)},chat:this.api.createSessionsQuery({types:[Y.CHAT],archived:!1}),lobby:this.api.currentLobbySession,agent:this.api.currentAgentSession,readonly:{agent:this.api.createSessionsQuery({types:[Y.AGENT_SESSION],readonly:!0})},archived:{chat:this.api.createSessionsQuery({types:[Y.CHAT],archived:!0})}}}return e.prototype.hook=function(e,t){return this.api.hooks.add(e,t)},e}(),oT=n(66622),oN=n(17642);function oR(e){return{state:e.runState,reason:e.transitionReason.reasons?iI(e.transitionReason.reasons):null}}var oP=n(78910),oj=n(88708),oL=n(54013),oD=function e(t){"use strict";(0,i2._)(this,e),this.ok=!0,this.payload=t},oM=a.ZU.Object({code:a.ZU.String(),message:a.ZU.Optional(a.ZU.String()),extras:a.ZU.Optional(a.ZU.Unknown())}),oY=a.ZU.Object({ok:a.ZU.Literal(!1),payload:oM}),o$=function(e){"use strict";function t(e){(0,i2._)(this,t);var n,r,i={code:"UNCAUGHT_ERROR",message:"An unexpected error occurred"};if(e instanceof i6.Rx)i.code="UNEXPECTED_DISCONNECT",i.message="Unexpected disconnect",r=e.stack;else if(e instanceof Error)i.message=e.message,r=e.stack;else if("UNEXPECTED_DISCONNECT"===e)i.code="UNEXPECTED_DISCONNECT",i.message="Unexpected disconnect";else if("UNCAUGHT_ERROR"===e)i.code="UNCAUGHT_ERROR",i.message="An unexpected error occurred";else if("string"==typeof e)i.message=e;else if(e&&(void 0===e?"undefined":(0,iA._)(e))==="object"){var o=null;iZ.WT.Check(oM,e)?o=e:iZ.WT.Check(oY,e)&&(o=e.payload),o&&(i.code=o.code,i.message=o.message,i.extras=o.extras)}return(n=(0,oP._)(this,t,[i.message])).ok=!1,n.name="ChatError",n.payload=i,n.input=e,r&&(n.stack=r),n}return(0,oj._)(t,e),t}((0,oL._)(Error));function oF(e){return new oD(e)}function oW(e){return e instanceof o$?e:new o$(e)}function oq(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?!e.ok&&n.includes(e.payload.code):!e.ok}function oH(e){if("function"==typeof e)try{var t,n=e();if(n instanceof Promise)return n.then(function(e){return oF(e)}).catch(function(e){return oW(e)});return oF(n)}catch(e){return oW(e)}if(e instanceof Promise)return e.then(function(e){return oF(e)}).catch(function(e){return oW(e)});if(Array.isArray(e)){if(0===e.length)throw Error("At least one observable is required");return(t=i6.cP).combine.apply(t,(0,ob._)(e)).once().then(function(e){return oF(e)}).catch(function(e){return oW(e)})}return i6.cP.from(e).once().then(function(e){return oF(e)}).catch(function(e){return oW(e)})}var oG=function(){"use strict";function e(t,n){var r=this;(0,i2._)(this,e),this.active=new i6.V_(function(e){return r.api.currentAgentSession.select(function(e){return!!e&&e.id===r.session.id}).subscribe(e)}),this.state=new i6.V_(function(e){var t,n=r.api.state.create(null,{snapshot:function(e){return e},next:function(t){e.next(t)},update:function(e){if("agent-state-modified"===e.kind)return e.session!==r.session.id?null:e.state}}),a=r.api.connected.lift(e,(t=(0,i._)(function(t){var i,a,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,oH(r.active)];case 1:if(i=o.sent(),t.aborted||oq(i,"UNEXPECTED_DISCONNECT"))return[2];if(!i.ok)return[2,r.api.error(i,e)];if(!i.payload)return null!==n.confirmed&&(n.confirmed=null),[2];return[4,r.api.service.getAgentState.rpc({replId:r.api.replId,sessionId:r.session.id})];case 2:if(a=o.sent(),t.aborted||oq(a,"UNEXPECTED_DISCONNECT"))return[2];if(!a.ok)return[2,r.api.error(a,e)];return s=oR(a.payload),n.confirmed=s,[2]}})}),function(e){return t.apply(this,arguments)}));return function(){n.unsubscribe(),a.unsubscribe()}}),this.api=t,this.session=n}return e.prototype.update=function(e){var t=this;return(0,i._)(function(){var n,r,i,a,s,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,oH(t.state)];case 1:if(!(n=o.sent()).ok)return[2,t.api.error(n)];if(!n.payload)return[2,t.api.error("session is not an agent session")];if(r=(0,oN.vt)(n.payload,function(t){t.state=e}),n.payload===r)return[2,oF(n.payload)];return a=(i=(0,oT._)(t.api.state.stage({kind:"agent-state-modified",session:t.session.id,state:{state:e,reason:null}}),2))[0],s=i[1],[4,t.api.service.updateAgentState.rpc({replId:t.api.replId,sessionId:t.session.id,runState:e,transitionReason:{}})];case 2:if(!(l=o.sent()).ok)return s(),[2,t.api.error(l)];if(l.payload.runState!==e)return s(),[2,oF(oR(l.payload))];return t.api.hooks.trigger("client-updated-agent-state",{session:t.session,prev:n.payload,next:r}),a(),[2,oF(r)]}})})()},e}(),oV=function(){"use strict";function e(t){if((0,i2._)(this,e),this.forward=new Map,this.reverse=new Map,t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=(0,oT._)(o.value,2),l=s[0],u=s[1];this.set(l,u)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}var t=e.prototype;return t.keys=function(){return this.forward.keys()},t.values=function(){return this.reverse.keys()},t.entries=function(){return this.forward.entries()},t.hasKey=function(e){return this.forward.has(e)},t.hasValue=function(e){return this.reverse.has(e)},t.getValue=function(e){var t=this.forward.get(e);if(void 0===t)throw Error("key does not exist");return t},t.getKey=function(e){var t=this.reverse.get(e);if(void 0===t)throw Error("value does not exist");return t},t.set=function(e,t){var n=this.reverse.get(t),r=this.forward.get(e);this.forward.set(e,t),this.reverse.set(t,e),void 0!==n&&n!==e&&this.forward.delete(n),void 0!==r&&r!==t&&this.reverse.delete(r)},t.deleteKey=function(e){var t=this.forward.get(e);void 0!==t&&(this.forward.delete(e),this.reverse.delete(t))},t.deleteValue=function(e){var t=this.reverse.get(e);void 0!==t&&(this.reverse.delete(e),this.forward.delete(t))},t.clear=function(){this.forward.clear(),this.reverse.clear()},t[Symbol.iterator]=function(){return this.forward.entries()},(0,i7._)(e,[{key:"size",get:function(){return this.forward.size}}]),e}(),oB=function(){"use strict";function e(t){if((0,i2._)(this,e),this.map=new oV,this.offset=0,this.length=0,t){for(var n=0;n<t.length;n++)this.map.set(n,t[n]);this.length=t.length}}var t=e.prototype;return t.peek=function(e){return -1===e?this.first:this.last},t.has=function(e){return"number"==typeof e?this.map.hasKey(e-this.offset):this.map.hasValue(e)},t.index=function(e){return this.map.getKey(e)-this.offset},t.id=function(e){return this.map.getValue(e+this.offset)},t.dir=function(e,t){var n=this.map.getKey(e),r=this.map.getKey(t);return n<r?1:n>r?-1:0},t.append=function(e){for(var t=0;t<e.length;t++)this.map.set(this.map.size+this.offset,e[t]);this.length=this.map.size},t.prepend=function(e){for(var t=e.length-1;t>=0;t--)this.offset--,this.map.set(0+this.offset,e[t]);this.length=this.map.size},t.pop=function(){if(!this.last)return null;var e=this.last;return this.map.deleteValue(e),this.length=this.map.size,this.offset=this.map.size?this.offset:0,e},t.shift=function(){if(!this.first)return null;var e=this.first;return this.map.deleteValue(e),this.length=this.map.size,this.offset=this.map.size?this.offset+1:0,e},t.parent=function(e){var t=this.map.getKey(e);return t!==0+this.offset?this.map.getValue(t-1):null},t.child=function(e){var t=this.map.getKey(e);return t!==this.map.size-1+this.offset?this.map.getValue(t+1):null},t.adjacent=function(e,t){return -1===t?this.parent(e):this.child(e)},t.slice=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;if(0===this.length)return[];var r=0+this.offset,i=this.map.size-1+this.offset,o="number"==typeof t?Math.min(Math.max(t+this.offset,r),i):this.map.getKey(t),a="number"==typeof n?Math.max(Math.min(n+this.offset,i),r):this.map.getKey(n),s=o>a;s&&(o=(e=[a,o])[0],a=e[1]);for(var l=[],u=o;u<=a;u++)l.push(this.map.getValue(u));return s?l.reverse():l},t.patch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.first,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.last;if(t&&!e.has(t)||n&&!e.has(n))throw Error("invalid merge");if(!t||!n){if(this.map.size){var r=Array.from(this.map.values());return this.clear(),{removed:r,added:[]}}return null}var i=e.slice(t,n),o=new Set(this.map.values()),a=new Set(o),s=new Set(i),l=!0,u=!1,c=void 0;try{for(var d,p=i[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value;a.delete(f)}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}var v=!0,h=!1,g=void 0;try{for(var m,U=o[Symbol.iterator]();!(v=(m=U.next()).done);v=!0){var b=m.value;s.delete(b)}}catch(e){h=!0,g=e}finally{try{v||null==U.return||U.return()}finally{if(h)throw g}}return a.size||s.size?(this.clear(),this.append(i),{removed:Array.from(a),added:Array.from(s)}):null},t.clear=function(){this.map.clear(),this.offset=0,this.length=0},t.clone=function(){var t=new e;return t.map=new oV(this.map),t.offset=this.offset,t.length=this.length,t},(0,i7._)(e,[{key:"first",get:function(){return this.length?this.map.getValue(0+this.offset):null}},{key:"last",get:function(){return this.length?this.map.getValue(this.map.size-1+this.offset):null}}]),e}(),oz=function(){"use strict";function e(t){(0,i2._)(this,e),this.ids=new oB,this.events=new Map,this.incomplete=new Set,this.length=0,t&&this.append(t)}var t=e.prototype;return t.set=function(e){this.events.set(e.id,e),e.state!==R.COMPLETE?this.incomplete.add(e.id):this.incomplete.delete(e.id)},t.delete=function(e){this.events.delete(e),this.incomplete.delete(e)},t.peek=function(e){return -1===e?this.first:this.last},t.index=function(e){return this.ids.index(e)},t.id=function(e){return this.ids.id(e)},t.dir=function(e,t){return this.ids.dir(e,t)},t.has=function(e){return this.ids.has(e)},t.get=function(e){e="number"==typeof e?this.id(e):e;var t=this.events.get(e);if(!t)throw Error("event does not exist");return t},t.append=function(e){this.ids.append(e.map(function(e){return e.id})),this.length=this.ids.length;var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.set(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}},t.prepend=function(e){this.ids.prepend(e.map(function(e){return e.id})),this.length=this.ids.length;var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.set(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}},t.pop=function(){var e,t=this.ids.pop(),n=t&&null!==(e=this.events.get(t))&&void 0!==e?e:null;if(t&&!n)throw Error("Unexpected null for popped event");return t&&n&&(this.delete(t),this.length--),n},t.shift=function(){var e,t=this.ids.shift(),n=t&&null!==(e=this.events.get(t))&&void 0!==e?e:null;if(t&&!n)throw Error("Unexpected null for shifted event");return t&&n&&(this.delete(t),this.length--),n},t.parent=function(e){var t=this.index(e);return t>0?this.get(t-1):null},t.child=function(e){var t=this.index(e);return t<this.length-1?this.get(t+1):null},t.adjacent=function(e,t){return -1===t?this.parent(e):this.child(e)},t.slice=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;return this.ids.slice(t,n).map(function(t){return e.get(t)})},t.patch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ids.first,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ids.last,r=this.ids.patch(e.ids,t,n);this.length=this.ids.length;var i=!this.events.size,o=null,a=null;if(r){null!=o||(o={removed:[],added:[],changed:[]});var s=!0,l=!1,u=void 0;try{for(var c,d=r.removed[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value;o.removed.push(this.get(p)),this.delete(p)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var f=!0,v=!1,h=void 0;try{for(var g,m=r.added[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var U=g.value,b=e.get(U);o.added.push(b),this.set(b),i||(null!=a||(a=new Set),a.add(U))}}catch(e){v=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(v)throw h}}}if(i)return o;for(var y=new Set(this.incomplete),E=this.length-1;E>=0;E--){var S=this.ids.id(E);if(y.delete(S),null==a||!a.has(S)){var C=e.events.get(S);if(C&&C!==this.events.get(S)){null!=o||(o={removed:[],added:[],changed:[]}),o.changed.push(C),this.set(C);continue}if(!y.size&&C&&C.state===R.COMPLETE)break}}return o},t.adopt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.first,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.last;if(!n||!r){if(!this.length)return null;var i=Array.from(this.events.values());return this.clear(),{removed:i,added:[],changed:[],missing:[]}}if(!(null==t?void 0:t.size)&&!this.length)return{removed:[],added:[],changed:[],missing:e.slice(n,r)};for(var o=[],a=[],s=null,l=null,u=e.index(n),c=e.index(r),d=c;d>=u;d--){var p=e.id(d);if(!(null==t?void 0:t.has(p))&&!this.events.has(p)){o.push(p),l&&!s&&(s=e.child(p));continue}if(null!=l||(l=p),s){o.push(p);continue}if((null==t?void 0:t.has(p))&&this.events.has(p)){var f=null==t?void 0:t.get(p);f&&this.events.get(p)!==f&&(a.push(f),this.set(f))}}if(!l&&!s){if(!this.length&&!o.length)return null;var v=Array.from(this.events.values());return this.clear(),{removed:v,added:[],changed:[],missing:o}}s||(s=n),l||(l=r);var h=this.ids.patch(e,s,l);if(this.length=this.ids.length,!h)return o.length||a.length?{removed:[],added:[],changed:a,missing:o}:null;var g=[],m=[],U=!0,b=!1,y=void 0;try{for(var E,S=h.removed[Symbol.iterator]();!(U=(E=S.next()).done);U=!0){var C=E.value;g.push(this.get(C)),this.delete(C)}}catch(e){b=!0,y=e}finally{try{U||null==S.return||S.return()}finally{if(b)throw y}}var Z=!0,_=!1,x=void 0;try{for(var A,w=h.added[Symbol.iterator]();!(Z=(A=w.next()).done);Z=!0){var I=A.value,k=null==t?void 0:t.get(I);if(!k)throw Error("unexpected null");m.push(k),this.set(k)}}catch(e){_=!0,x=e}finally{try{Z||null==w.return||w.return()}finally{if(_)throw x}}return{removed:g,added:m,changed:a,missing:o}},t.clear=function(){this.ids.clear(),this.events.clear(),this.incomplete.clear(),this.length=0},t.clone=function(){var t=new e;return t.ids=this.ids.clone(),t.events=new Map(this.events),t.incomplete=new Set(this.incomplete),t},(0,i7._)(e,[{key:"first",get:function(){return this.ids.first?this.get(this.ids.first):null}},{key:"last",get:function(){return this.ids.last?this.get(this.ids.last):null}}]),e}(),oK=n(96131),oQ=function(){"use strict";function e(t){var n=t.api,r=t.session,i=t.direction,o=t.initial,a=t.transducer;if((0,i2._)(this,e),this.api=n,this.session=r,this.direction=i,this.initial=o,this.transducer=a,!(0,oN.a6)(o))throw Error("state must be draftable")}var t=e.prototype;return t.compute=function(e,t,n){var r=(0,oT._)((0,oN.vt)([t,void 0]),2),i=r[0],o=r[1];i[1]=this.transducer(e,i[0]);var a=o();return a[0]!==t&&n&&(0,oK.j)(a[0],n)&&(a[0]=n),a},t.step=function(e,t,n){var r=n.id,i=-this.direction,o=e.peek(i);o&&(o=r===o||n===o?o:e.adjacent(r,i)),o&&(o="string"!=typeof o?o.id:o);var a=r===o?this.initial:o&&t.get(o),s=t.get(r);if(!a)throw Error("starting state not found");var l=(0,oT._)(this.compute(n,a,s),2),u=l[0],c=l[1],d=u!==a||!s||u!==s;return d&&t.set(r,u),{ret:c,recomputing:d}},t.indexed=function(e,t){for(var n=this,r=Array(t.length),i=0;i<t.length;i++){var o=t[i],a="string"==typeof o?o:o.id;r[i]=e.index(a)}return r.sort(function(e,t){return(e-t)*n.direction}),r},e}(),oX=function(e){"use strict";function t(e,n,r){var a,s;return(0,i2._)(this,t),(a=(0,oP._)(this,t,[{api:e,session:n,direction:"forward"===r.direction?1:-1,initial:r.state,transducer:r.reducer}])).result=new i6.V_(function(e){var t,n=new oB,r=new Set,s=new Map,l=null,u=null,c=null,d=(t=(0,i._)(function(){var t,i,d,p,f,v,h,g,m,U,b,y,E,S,C,Z,_;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(c)return[2];if(!r.size)return[3,7];if(t=(c=new AbortController).signal,i=Array.from(r),d=a.indexed(n,i),p=new Map,!(v=(f=u)?i.filter(function(e){return e===f||n.dir(e,f)===a.direction}):i).length)return[3,2];return[4,a.materialize(p,v)];case 1:o.sent(),o.label=2;case 2:if(t.aborted)return[2];h=d[0],g=1,o.label=3;case 3:if(!(h>=0&&h<n.length)||(m=n.id(h),U=h===d[0],u&&u!==m&&n.dir(m,u)!==a.direction))return[3,6];if(!(!(b=p.get(m))&&!U))return[3,5];return y=n.slice(m,n.index(m)+g*a.direction).filter(function(e){return!p.has(e)}),[4,a.materialize(p,y)];case 4:if(b=o.sent()[0],g=Math.min(2*g,50),t.aborted)return[2];o.label=5;case 5:if(!b)throw Error("unexpected null");if(U&&(d.shift(),r.delete(m)),p.delete(m),S=(E=a.step(n,s,b)).ret,C=E.recomputing,!1===S)return u=b.id,[3,6];if(b.id===u&&(u=null),C||d.length)return h=C?h+a.direction:d[0],[3,3];return[3,6];case 6:c=null,o.label=7;case 7:if(void 0===(Z=n.length?(_=null!=u?u:n.peek(a.direction))?s.get(_):void 0:a.initial))throw Error("unexpected undefined");return l!==Z&&(l=Z,e.next(a.map(Z))),[2]}})}),function(){return t.apply(this,arguments)}),p=a.api.state.updates.filter(function(e){return"event-modified"===e.kind}).filter(function(e){return n.has(e.event.id)}).lift(e,function(e){r.add(e.event.id),null==c||c.abort(),c=null,d()}),f=a.session.ids.lift(e,function(e){var t=n.patch(e);if(t){null==c||c.abort(),c=null;var i=!0,o=!1,a=void 0;try{for(var l,p=t.removed[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var f=l.value;s.delete(f),r.delete(f),f===u&&(u=null)}}catch(e){o=!0,a=e}finally{try{i||null==p.return||p.return()}finally{if(o)throw a}}var v=!0,h=!1,g=void 0;try{for(var m,U=t.added[Symbol.iterator]();!(v=(m=U.next()).done);v=!0){var b=m.value;r.add(b)}}catch(e){h=!0,g=e}finally{try{v||null==U.return||U.return()}finally{if(h)throw g}}d()}});return function(){p.unsubscribe(),f.unsubscribe(),null==c||c.abort()}}),a.subscribe=a.result.subscribe.bind(a.result),a.map=null!==(s=r.map)&&void 0!==s?s:function(e){return e},a}(0,oj._)(t,e);var n=t.prototype;return n.materialize=function(e,t){var n=this;return(0,i._)(function(){var r,i,a,s,l,u,c;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,n.api.materializer.materialize(n.session.id,t)];case 1:r=o.sent(),i=!0,a=!1,s=void 0;try{for(l=r[Symbol.iterator]();!(i=(u=l.next()).done);i=!0)c=u.value,e.set(c.id,c)}catch(e){a=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}return[2,r]}})})()},n[Symbol.observable]=function(){return this.result},t}(oQ),oJ=function(e){"use strict";function t(e,n,r,i){var o,a;return(0,i2._)(this,t),(o=(0,oP._)(this,t,[{api:e,session:n,direction:"forward"===r.direction?1:-1,initial:r.state,transducer:r.reducer}])).exhaustive=new i6.V_(function(e){return i6.cP.combine(o.session.ids.select(function(e){return e.length}),o.window.size).select(function(e){var t=(0,oT._)(e,2);return t[0]<=t[1]}).subscribe(e)}),o.result=new i6.V_(function(e){var t=new oz,n=null,r=null,i=new Map,a=new Set,s=function(){if(a.size)for(var s=o.indexed(t,Array.from(a)),l=s[0];l>=0&&l<t.length;){var u=t.get(l),c=u.id,d=l===s[0];if(r&&r!==c&&t.dir(c,r)!==o.direction)break;d&&(s.shift(),a.delete(u.id));var p=o.step(t,i,u),f=p.ret,v=p.recomputing;if(!1===f){r=u.id;break}if(c===r&&(r=null),v||s.length){l=v?l+o.direction:s[0];continue}break}if(t.length){var h,g,m=null!=r?r:null===(g=t.peek(o.direction))||void 0===g?void 0:g.id;h=m?i.get(m):void 0}else h=o.initial;if(void 0===h)throw Error("unexpected undefined");n!==h&&(n=h,e.next(o.map(h)))},l=o.window.events.lift(e,function(e){var n=t.patch(e);if(n){var o=!0,l=!1,u=void 0;try{for(var c,d=n.removed[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var p=c.value;i.delete(p.id),a.delete(p.id),p.id===r&&(r=null)}}catch(e){l=!0,u=e}finally{try{o||null==d.return||d.return()}finally{if(l)throw u}}var f=!0,v=!1,h=void 0;try{for(var g,m=n.added[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var U=g.value;a.add(U.id)}}catch(e){v=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(v)throw h}}var b=!0,y=!1,E=void 0;try{for(var S,C=n.changed[Symbol.iterator]();!(b=(S=C.next()).done);b=!0){var Z=S.value;a.add(Z.id)}}catch(e){y=!0,E=e}finally{try{b||null==C.return||C.return()}finally{if(y)throw E}}s()}});return function(){l.unsubscribe()}}),o.subscribe=o.result.subscribe.bind(o.result),o.window=o.session.window(i),o.map=null!==(a=r.map)&&void 0!==a?a:function(e){return e},o}return(0,oj._)(t,e),t.prototype[Symbol.observable]=function(){return this.result},(0,i7._)(t,[{key:"size",get:function(){return this.window.size}}]),t}(oQ),o0=function(e){"use strict";function t(e,n,r,i){var o;return(0,i2._)(this,t),(o=(0,oP._)(this,t,[{api:e,session:n,direction:"forward"===r.direction?1:-1,initial:r.state,transducer:r.transformer}])).exhaustive=new i6.V_(function(e){return i6.cP.combine(o.session.ids.select(function(e){return e.length}),o.window.size).select(function(e){var t=(0,oT._)(e,2);return t[0]<=t[1]}).subscribe(e)}),o.state=new i6.V_(function(e){var t=new oz,n=new Map,r=new Map;return o.window.events.lift(e,function(i){var a=t.patch(i);if(a){var s=!1,l=!1;if(!t.length){s||(s=!!(n.size||r.size)),l||(l=s),s&&(n.clear(),r.clear(),e.next({events:t,transformed:r,scaled:s}));return}var u=!0,c=!1,d=void 0;try{for(var p,f=a.removed[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var v=p.value;s||(s=r.has(v.id)),l||(l=s),n.delete(v.id),r.delete(v.id)}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}if(a.added.length||a.changed.length)for(var h=o.indexed(t,a.added.concat(a.changed)),g=h[0];g>=0&&g<t.length;){var m=g===h[0];m&&h.shift();var U=t.get(g),b=r.get(U.id),y=o.step(t,n,U),E=y.ret,S=y.recomputing;if((S||m)&&(void 0!==E?r.set(U.id,E):void 0!==b&&r.delete(U.id)),s||(s=!!b!=!!E),l||(l=S||m||s),S||h.length){g=S?g+o.direction:h[0];continue}break}(s||l)&&e.next({events:t,transformed:r,scaled:s})}})}),o.tuples=new i6.V_(function(e){var t=new Map,n=!0;return o.state.lift(e,function(r){if(r.scaled||n){n=!1;for(var i=[],a=0;a<r.events.length;a++){var s=r.events.get(a);if(s&&r.transformed.has(s.id)){var l,u=null!==(l=t.get(s.id))&&void 0!==l?l:o.create(s.id);t.set(s.id,u),i.push([s.id,u])}}e.next(i)}})}),o.flat=new i6.V_(function(e){return o.state.lift(e,function(t){for(var n=[],r=0;r<t.events.length;r++){var i=t.events.get(r),o=i&&t.transformed.get(i.id);void 0!==o&&n.push(o)}e.next(n)})}),o.mapped=o.tuples.map(function(e){return new Map(e)}),o.subscribe=o.tuples.subscribe.bind(o.tuples),o.window=o.session.window(i),o}(0,oj._)(t,e);var n=t.prototype;return n.create=function(e){var t=this;return new i6.V_(function(n){var r=i6.NV;return t.state.lift(n,function(t){var i=t.transformed.get(e);if(void 0===i)return n.complete();r!==i&&(r=i,n.next(i))})})},n.map=function(e){var t=this;return new i6.V_(function(n){var r=new Map,i=i6.NV;return t.state.lift(n,function(o){for(var a=[],s=0;s<o.events.length;s++){var l,u=null===(l=o.events.get(s))||void 0===l?void 0:l.id,c=u&&o.transformed.get(u);if(u&&c){var d=r.get(u);d||(d=t.create(u),r.set(u,d)),a.push({id:u,value:c,observable:d})}}var p=e(a);(0,oK.j)(p,i)||(i=p,n.next(p))})})},n.chunked=function(e){var t=this;return new i6.V_(function(n){var r=null;return i6.cP.combine(t.mapped,t.state).lift(n,function(t){for(var i=(0,oT._)(t,2),o=i[0],a=i[1],s=[],l=function(e){if(e<0||e>=a.events.length)return null;var t=a.events.get(e),n=a.transformed.get(t.id);return o.has(t.id)&&n?{event:t,transformed:n}:null},u=[],c=null,d=0;d<a.events.length;d++){var p=l(d);if(p){for(var f=null,v=d+1;v<a.events.length;v++)if(o.has(a.events.get(v).id)){f=l(v);break}var h=e(p,c,f);switch(c=p,h){case"continue":u.push(p.event.id);break;case"break":u.length&&(s.push(u),u=[]),u.push(p.event.id);break;case"isolate":u.length&&(s.push(u),u=[]),s.push([p.event.id])}}}u.length&&s.push(u),(0,oK.j)(s,r)||(r=s,n.next(s.map(function(e){return e.map(function(e){return[e,o.get(e)]})})))})})},n[Symbol.observable]=function(){return this.tuples},(0,i7._)(t,[{key:"size",get:function(){return this.window.size}}]),t}(oQ),o1=function(){"use strict";function e(){(0,i2._)(this,e),this.nodes=new Set,this.up=new Map,this.down=new Map,this.leafs=new Map,this.size=0}var t=e.prototype;return t.ids=function(){return new Set(this.nodes.keys())},t.has=function(e){return this.nodes.has(e)},t.parent=function(e){var t;return null!==(t=this.up.get(e))&&void 0!==t?t:null},t.children=function(e){var t;return null!==(t=this.down.get(e))&&void 0!==t?t:null},t.siblings=function(e){var t=this.parent(e);return t?this.children(t):null},t.hierarchy=function(e){for(var t=[e],n=e;this.up.has(n);)t.unshift(n=this.up.get(n));return t},t.isLeaf=function(e){return this.leafs.has(e)},t.latest=function(){var e=null,t=-1,n=!0,r=!1,i=void 0;try{for(var o,a=this.leafs[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=(0,oT._)(o.value,2),l=s[0],u=s[1];u>t&&(e=l,t=u)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e},t.walk=function(e,t){if(!this.nodes.has(e))throw Error("node not in graph");if(!1!==t(e,this.isLeaf(e))){for(var n=this.children(e);(null==n?void 0:n.size)===1;){if(!1===t(e=n.values().next().value,this.isLeaf(e)))return;n=this.children(e)}if(null==n?void 0:n.size){var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this.walk(l,t)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}},t.append=function(e){var t=this.nodes.size,n=new Set,r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(!n.has(l.id)&&this.nodes.has(l.id)){var u=this.up.get(l.id);if(u&&u!==l.parent)throw Error("parent mismatch");continue}if(this.nodes.add(l.id),n.add(l.id),this.down.has(l.id)||this.leafs.set(l.id,l.priority),l.parent){this.leafs.delete(l.parent);var c=this.down.get(l.parent);c||(c=new Set,this.down.set(l.parent,c),this.nodes.add(l.parent),n.add(l.parent)),this.up.set(l.id,l.parent),c.add(l.id)}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return this.nodes.size!==t&&(this.size=this.nodes.size,!0)},t.clone=function(){var t=new e;t.nodes=new Set(this.nodes),t.up=new Map(this.up),t.leafs=new Map(this.leafs);var n=!0,r=!1,i=void 0;try{for(var o,a=this.down[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=(0,oT._)(o.value,2),l=s[0],u=s[1];t.down.set(l,new Set(u))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t},e}(),o2=function(){"use strict";function e(){(0,i2._)(this,e),this.queue=[],this.locked=!1}var t=e.prototype;return t.acquire=function(){var e=this;return this.locked?new Promise(function(t){e.queue.push(t)}):(this.locked=!0,Promise.resolve())},t.release=function(){if(this.queue.length>0){var e=this.queue.shift();null==e||e()}else this.locked=!1},t.run=function(e){var t=this;return(0,i._)(function(){return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,t.acquire()];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,,4,5]),[4,e()];case 3:return[2,n.sent()];case 4:return t.release(),[7];case 5:return[2]}})})()},t.clear=function(){this.queue.length=0,this.locked=!1},e}(),o5=function(){"use strict";function e(){var t=this;(0,i2._)(this,e),this.stockpile=new Map,this.registry=new FinalizationRegistry(function(e){t.stockpile.delete(e)}),this.listeners=new i6.do}var t=e.prototype;return t.has=function(e){var t;return this.stockpile.has(e)&&(null===(t=this.stockpile.get(e))||void 0===t?void 0:t.deref())!==void 0},t.get=function(e){var t,n;return null!==(n=null===(t=this.stockpile.get(e))||void 0===t?void 0:t.deref())&&void 0!==n?n:null},t.add=function(e){var t,n=null===(t=this.stockpile.get(e.id))||void 0===t?void 0:t.deref();return n===e?n:(n&&this.registry.unregister(n),this.stockpile.set(e.id,new WeakRef(e)),this.registry.register(e,e.id,e),this.listeners.notify(e),e)},t.emplace=function(e){var t;return(null===(t=this.stockpile.get(e.id))||void 0===t?void 0:t.deref())||(this.stockpile.set(e.id,new WeakRef(e)),this.registry.register(e,e.id,e),this.listeners.notify(e),e)},t.delete=function(e){var t=this.stockpile.get(e);if(t){this.stockpile.delete(e);var n=t.deref();n&&this.registry.unregister(n)}},t.store=function(e){var t=this;null!=e||(e=[]),"string"==typeof e&&(e=[e]);var n=new Set,r=new Map,i=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;n.add(c),r.set(c,this.get(c))}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}var d=!1,p=this.listeners.add(function(e){n.has(e.id)&&r.set(e.id,e)});return(0,ix._)({has:function(e){return n.has(e)},get:function(e){var t;return null!==(t=r.get(e))&&void 0!==t?t:null},track:function(e){if(d)throw Error("Store has been released");e=Array.isArray(e)?e:[e];var i=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;n.add(u),r.set(u,t.get(u))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}},untrack:function(e){if(d)throw Error("Store has been released");e=Array.isArray(e)?e:[e];var t=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value;l="string"==typeof l?l:l.id,n.delete(l),r.delete(l)}}catch(e){i=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw o}}},release:function(){d||(d=!0,p(),n.clear(),r.clear())}},Symbol.iterator,function(){var e,t,i,a,s,l,u,c;return(0,o.YH)(this,function(o){switch(o.label){case 0:e=!0,t=!1,i=void 0,o.label=1;case 1:o.trys.push([1,6,7,8]),a=n[Symbol.iterator](),o.label=2;case 2:if(e=(s=a.next()).done)return[3,5];if(l=s.value,!(u=r.get(l)))return[3,4];return[4,u];case 3:o.sent(),o.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return c=o.sent(),t=!0,i=c,[3,8];case 7:try{e||null==a.return||a.return()}finally{if(t)throw i}return[7];case 8:return[2]}})})},t.clear=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.stockpile.keys()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.delete(o)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}},(0,i7._)(e,[{key:"empty",get:function(){return 0===this.stockpile.size}}]),e}(),o4={events:new(function(e){"use strict";function t(){return(0,i2._)(this,t),(0,oP._)(this,t,arguments)}(0,oj._)(t,e);var n=t.prototype;return n.invalidate=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.stockpile.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value.deref();o&&o.state!==R.COMPLETE&&this.delete(o.id)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}},n.create=function(e){return this.add(om(e))},n.update=function(e){var t=this.get(e.eventId);return t?this.add(oC(t,e)):null},t}(o5)),sessions:new(function(e){"use strict";function t(){return(0,i2._)(this,t),(0,oP._)(this,t,arguments)}(0,oj._)(t,e);var n=t.prototype;return n.invalidate=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.stockpile.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value.deref();o&&!o.archived&&this.delete(o.id)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}},n.create=function(e){return this.add(oI(e))},n.update=function(e){var t=this.get(e.sessionId);return t?this.add(ok(t,e)):null},t}(o5))},o3=function(){"use strict";function e(t,n,r){var i=this;(0,i2._)(this,e),this.events=new i6.V_(function(e){var t=null,n=i.api.state.create({events:new oz,map:new Map},{snapshot:function(e){var t=e.events,n=e.map;return{events:t.clone(),map:new Map(n)}},next:function(n){var r=n.events,o=n.map;if(!(null==t?void 0:t.length)){r.length&&(r.clear(),e.next(r));return}var a=t.length?t.id(Math.max(0,t.length-i.size.current)):null,s=r.adopt(t,o,a);o.clear(),s&&(s.missing.length&&i.api.materializer.enqueue(i.session.id,s.missing),e.next(r))},update:function(e,n){var r=n.events,o=n.map;switch(e.kind){case"events-materialized":var a=!1,s=!0,l=!1,u=void 0;try{for(var c,d=e.events[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value;(r.has(p.id)||(null==t?void 0:t.has(p.id)))&&(o.set(p.id,p),a=!0)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}if(!a)return;return{events:r,map:o};case"event-modified":if(e.event.sessionId!==i.session.id)return;if(o.set(e.event.id,e.event),null==t?void 0:t.has(e.event.id))return{events:r,map:o}}}}),r=i.size.subscribe(function(){return n.next()}),o=i.session.ids.lift(e,function(e){t=e,n.next()});return function(){n.unsubscribe(),r.unsubscribe(),o.unsubscribe()}}),this.subscribe=this.events.subscribe.bind(this.events),this.api=t,this.session=n,this.size=new i6.N(r)}return e.prototype[Symbol.observable]=function(){return this.events},e}(),o7=function(){"use strict";function e(t,n,r){var a=this;(0,i2._)(this,e),this.mutex=new o2,this.data=new i6.V_(function(e){var t,n=a.api.state.create(null,{snapshot:function(e){return e},next:function(t){t&&e.next(t)},update:function(e){if("session-modified"===e.kind&&e.session.id===a.id)return e.session}}),r=a.api.connected.lift(e,(t=(0,i._)(function(t){var r,i,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(r=o4.sessions.get(a.id))return[2,n.confirmed=r];return[4,a.api.service.getSessionEvents.rpc({sessionId:a.id,excludeContents:!0,limit:1})];case 1:if(i=o.sent(),t.aborted||oq(i,"UNEXPECTED_DISCONNECT"))return[2];if(!i.ok)return[2,a.api.error(i,e)];return s=o4.sessions.emplace(i.payload.session),n.confirmed=s,[2]}})}),function(e){return t.apply(this,arguments)}));return function(){n.unsubscribe(),r.unsubscribe()}}),this.type=this.data.select(function(e){return e.sessionType}),this.ids=new i6.V_(function(e){var t,n=!1,r=a.api.state.create(new o1,{snapshot:function(e){return e.clone()},next:function(t){if(n){var r=t.latest();if(!r)return a.api.error("Unexpected empty graph",e);var i=t.hierarchy(r),o=new oB;o.append(i),e.next(o)}},update:function(e,t){if(n&&"event-modified"===e.kind&&"created"===e.type&&e.event.sessionId===a.id&&t.append([{id:e.event.id,parent:e.event.parentEventId,priority:e.event.created.getTime()}]))return t}}),s=a.api.connected.lift(e,(t=(0,i._)(function(t){var i,s,l,u,c,d,p,f,v,h,g,m;return(0,o.YH)(this,function(o){switch(o.label){case 0:i=Date.now(),s=!1,l=null,u=[],c=200,o.label=1;case 1:if(!(c>0))return[3,4];return[4,a.api.service.getEventList.rpc({sessionId:a.id,limit:500,AncestorsOf:l?{$kind:"ancestorsOf",ancestorsOf:l}:void 0})];case 2:if(d=o.sent(),t.aborted||oq(d,"UNEXPECTED_DISCONNECT"))return[2];if(!d.ok)return[2,a.api.error(d,e)];p=!0,f=!1,v=void 0;try{for(h=d.payload.shapes[Symbol.iterator]();!(p=(g=h.next()).done);p=!0)m=g.value,u.push({id:m.id,parent:m.parentEventId||null,priority:m.created.getTime()})}catch(e){f=!0,v=e}finally{try{p||null==h.return||h.return()}finally{if(f)throw v}}if(d.payload.shapes.length<500||(l=d.payload.shapes[d.payload.shapes.length-1].id,r.confirmed.has(l)))return[3,4];o.label=3;case 3:return c--,[3,1];case 4:return u.length&&(s=r.confirmed.append(u)),(s||!n)&&(n=!0,r.next()),a.api.hooks.trigger("session-graph-fetched",{session:a,duration:Date.now()-i,size:u.length}),[2]}})}),function(e){return t.apply(this,arguments)}));return function(){r.unsubscribe(),s.unsubscribe()}}),this.leaf=this.ids.select(function(e){return e.last}).filter(function(e){return null!==e}),this.api=t,this.agent=new oG(t,this),this.id=n,this.created=r,this.api.teardown(function(){return a.mutex.clear()})}var t=e.prototype;return t.window=function(e){return new o3(this.api,this,e)},t.reduce=function(e,t){return"global"===t?new oX(this.api,this,e):new oJ(this.api,this,e,t)},t.transform=function(e,t){return new o0(this.api,this,e,t)},t.updateSession=function(e){var t=this;return(0,i._)(function(){var n,r,i,a,s,l,u,c,d;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,oH(t.data)];case 1:if(!(n=o.sent()).ok)return[2,t.api.error(n)];if(a=(i=ow(r=n.payload,e)).session,s=i.request,r===a)return[2,oF(r)];return u=(l=(0,oT._)(t.api.state.stage({kind:"session-modified",type:"updated",session:a}),2))[0],c=l[1],[4,t.api.service.updateSession.rpc(s)];case 2:if(!(d=o.sent()).ok)return c(),[2,t.api.error(d)];return u(),t.api.hooks.trigger("client-updated-session",{session:t,request:s,prev:r,next:a}),[2,oF(a)]}})})()},t.updateEvent=function(e){var t=this;return this.mutex.run((0,i._)(function(){var n,r,i,a,s,l,u,c,d,p,f,v;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,oH(t.ids.map(function(t){return t.has(e.id)}))];case 1:if(!(n=o.sent()).ok)return[2,t.api.error(n)];if(!n.payload)return[2,t.api.error("Event does not exist in the session")];return[4,oH(t.api.materializer.materialize(t.id,[e.id]))];case 2:var h,g,m;if(!(r=o.sent()).ok)return[2,t.api.error(r)];if(i=(0,oT._)(r.payload,1)[0],(m=Object.assign({},i1)).eventId=e.id,m.state=null!==(h=e.state)&&void 0!==h?h:R.COMPLETE,m.typedOperations=null!==(g=e.typedOperations)&&void 0!==g?g:[],(s=oC(i,a=m))===i)return[2,oF(s)];return u=(l=(0,oT._)(t.api.state.stage({kind:"event-modified",type:"updated",event:s}),2))[0],c=l[1],[4,t.api.service.updateEvent.upload()];case 3:return p=(d=oT._.apply(void 0,[o.sent(),2]))[0],f=d[1],p.push(a),p.end(),[4,f];case 4:if(!(v=o.sent()).ok)return c(),[2,t.api.error(v)];return t.api.hooks.trigger("client-updated-event",{session:t,request:a,prev:i,next:s}),u(),[2,oF(s)]}})}))},t.appendEvent=function(e,t){var n=this;return this.mutex.run((0,i._)(function(){var r,i,a,s,l,u,c,d,p,f;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,oH(n.leaf)];case 1:if(!(r=o.sent()).ok)return[2,n.api.error(r)];if(e.model===w.OVERRIDE){if(!n.api.overrideModel.current)return[2,n.api.error("No override model set")];i=n.api.overrideModel.current}return null!=i||(i=e.model&&n.api.hasAdvancedModel.current?e.model:w.BASIC),s=(a=i0({session:n.id,sender:n.api.user.current,addToChild:!0,parent:r.payload,model:i,data:e,benchmark:t})).event,l=a.request,c=(u=(0,oT._)(n.api.state.stage({kind:"event-modified",type:"created",event:s,condition:function(e){return!("event-modified"===e.kind&&"created"===e.type&&(e.event.id===s.id?e.event.parentEventId!==s.parentEventId:e.event.parentEventId===s.parentEventId))}}),2))[0],d=u[1],[4,n.api.service.createEvent.rpc(l)];case 2:if(!(p=o.sent()).ok)return d(),[2,n.api.error(p)];if(!(p.payload.eventId!==s.id||p.payload.parentEventId!==s.parentEventId))return[3,4];return d(),[4,oH(n.api.materializer.materialize(n.id,[p.payload.eventId]))];case 3:if(!(f=o.sent()).ok)return[2,n.api.error(f)];return n.api.hooks.trigger("client-appended-event",{session:n,event:f.payload[0]}),[2,oF(f.payload[0])];case 4:return c(),n.api.hooks.trigger("client-appended-event",{session:n,event:s}),[2,oF(s)]}})}))},t.abortLastEvent=function(){var e=this;return this.mutex.run((0,i._)(function(){var t,n;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,oH(e.leaf)];case 1:if(!(t=r.sent()).ok)return[2,e.api.error(t)];return[4,e.api.service.abortEvent.rpc({eventId:t.payload})];case 2:if(!(n=r.sent()).ok)return[2,e.api.error(n)];return[2,oF(null)]}})}))},e.create=function(t,n,r){var i=this.sessions.get(t);i||(i=new Map,this.sessions.set(t,i));var o=i.get(n),a=null==o?void 0:o.deref();return o&&a||(o=new WeakRef(a=new e(t,n,r)),i.set(n,o)),a},e}();function o8(e){if(!e)return null;var t=null,n=!0,r=!1,i=void 0;try{for(var o,a=e.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;(!t||s.created>t.created)&&(t=s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}o7.sessions=new WeakMap;var o6=function(){"use strict";function e(t){(0,i2._)(this,e),this.hooks={},this.listeners=new i6.do,this.api=t}var t=e.prototype;return t.has=function(e){return void 0!==this.hooks[e]},t.add=function(e,t){var n=this,r=this.hooks[e];r||(r=new Map,this.hooks[e]=r);var i=function(){r&&r.has(i)&&(r.delete(i),0===r.size&&(delete n.hooks[e],r=void 0),n.listeners.notify({kind:"hook-unregistered",type:e}))};return r.set(i,t),this.listeners.notify({kind:"hook-registered",type:e}),i},t.trigger=function(e,t){var n=this.hooks[e];if(n){var r=!0,i=!1,o=void 0;try{for(var a,s=(0,ob._)(n.values())[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;try{l(t)}catch(e){this.api.error(e)}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},t.subscribe=function(e){return this.listeners.add(e)},t.dispose=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Object.values(this.hooks)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value,a=!0,s=!1,l=void 0;try{for(var u,c=o.keys()[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)(0,u.value)()}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}},e}(),o9={messageCharacters:5e3,responseTokens:4e3,fileContextCharacters:3e4,maxTotalTokens:16e3},ae={messageCharacters:12e3,responseTokens:4e3,fileContextCharacters:3e4,maxTotalTokens:32e3},at=function e(t){"use strict";var n,r=t.type,i=t.readable,o=t.qualified;switch((0,i2._)(this,e),this.type=r,this.name={readable:i,qualified:o},this.limits=r===w.ADVANCED||r===w.OVERRIDE?ae:o9,null!=n||(n=r===w.OVERRIDE?"Custom":void 0),null!=n||(n=o.startsWith("gpt")?"OpenAI":void 0),null!=n||(n=o.startsWith("claude")?"Anthropic":void 0),null!=n||(n=o.startsWith("gemini")?"Google":void 0),null!=n||(n="Unknown"),this.provider=n,this.type){case w.BASIC:this.selector={type:w.BASIC,overrideModelName:""};break;case w.ADVANCED:this.selector={type:w.ADVANCED,overrideModelName:""};break;case w.OVERRIDE:this.selector={type:w.OVERRIDE,overrideModelName:this.name.qualified};break;default:throw Error("Unknown model type is not supported")}},an=function(){"use strict";function e(t){var n=this,r=t.connection,a=t.user,s=t.hasAdvancedModel,l=t.overrideModel,u=t.onError;(0,i2._)(this,e),this.disposed=!1,this.teardowns=new i6.do,this.connected=new i6.V_(function(e){var t=null,r=n.teardowns.add(function(){null==t||t.abort(),t=null,e.complete()}),i=n.status.subscribe(function(n){"connected"!==n?(null==t||t.abort(),t=null,"closed"===n?e.complete():"error"===n&&e.error(Error("Connection error"))):(t=new AbortController,e.next(t.signal))});return function(){null==t||t.abort(),t=null,r(),i.unsubscribe()}}),this.closed=new i6.V_(function(e){var t=n.teardowns.add(function(){e.next(),e.complete()}),r=n.status.subscribe(function(t){("closed"===t||"error"===t)&&(e.next(),e.complete())});return function(){t(),r.unsubscribe()}}),this.models=new i6.V_(function(e){var t,r=0;return i6.cP.combine(n.connected,n.overrideModel).filter(function(e){return!(0,oT._)(e,1)[0].aborted}).lift(e,(t=(0,i._)(function(t){var i,a,s,l,u,c,d,p;return(0,o.YH)(this,function(o){switch(o.label){case 0:return a=(i=(0,oT._)(t,2))[0],s=i[1],l=++r,[4,n.service.getAvailableModels.rpc({overrideModel:null!=s?s:""})];case 1:if(u=o.sent(),r!==l||a.aborted||oq(u,"UNEXPECTED_DISCONNECT"))return[2];if(!u.ok)return[2,n.error(u,e)];return c=u.payload.basicModel.map(function(e){return new at({type:w.BASIC,readable:e.readable,qualified:e.qualified})}),d=u.payload.advancedModel.map(function(e){return new at({type:w.ADVANCED,readable:e.readable,qualified:e.qualified})}),p=null,s&&u.payload.overrideModel&&u.payload.overrideModel.qualified===s&&(p=new at({type:w.OVERRIDE,readable:u.payload.overrideModel.readable,qualified:u.payload.overrideModel.qualified})),e.next({basic:c,advanced:d,override:p}),[2]}})}),function(e){return t.apply(this,arguments)}))}),this.connection=r,this.user=new i6.N(a),this.hasAdvancedModel=new i6.N(s),this.overrideModel=new i6.N(null!=l?l:null),this.onError=u,this.hooks=new o6(this),this.teardown(function(){return n.hooks.dispose()});var c=this.connection.status.subscribe(function(e){("closed"===e||"error"===e)&&n.dispose()});this.teardown(function(){return c.unsubscribe()})}var t=e.prototype;return t.error=function(e,t){var n=oW(e);if(!oq(n,"UNEXPECTED_DISCONNECT")&&!n.reported){if(n.reported=!0,this.onError){var r=null;(void 0===e?"undefined":(0,iA._)(e))==="object"&&"payload"in e&&(r=n.payload),this.onError(n,r)}else setTimeout(function(){throw n},0)}return t&&t.error(n),oq(n,"UNEXPECTED_DISCONNECT")?this.hooks.trigger("unexpected-disconnect",{error:n}):this.hooks.trigger("unhandled-exception",{error:n}),n},t.teardown=function(e){return this.disposed?(e(),function(){}):this.teardowns.add(e)},t.ping=function(){var e=this;return(0,i._)(function(){var t;return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,e.service.pingPong.rpc({})];case 1:if(oq(t=n.sent(),"UNEXPECTED_DISCONNECT"))return[2,oF(!1)];if(!t.ok)return[2,e.error(t)];return[2,oF(!0)]}})})()},t.dispose=function(){this.disposed||(this.disposed=!0,this.teardowns.notify(),this.teardowns.clear())},t.enhancePrompt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this;return(0,i._)(function(){var i;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,r.service.enhanceAgentPrompt.rpc({userPrompt:e,uploadedFiles:t,attachedUrls:n})];case 1:if(!(i=o.sent()).ok)return[2,r.error(i)];return[2,oF(i.payload.enhancedPrompt)]}})})()},t.generateReplName=function(e,t){var n=this;return(0,i._)(function(){var r;return(0,o.YH)(this,function(i){switch(i.label){case 0:return[4,n.service.generateReplName.rpc({replId:e,prompt:t})];case 1:if(!(r=i.sent()).ok)return[2,n.error(r)];return[2,oF(r.payload.replName)]}})})()},t.getUrlScrapedContent=function(e){var t=this;return(0,i._)(function(){var n;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,t.service.getUrlScrapedContent.rpc({url:e})];case 1:if(!(n=r.sent()).ok)return[2,t.error(n)];return[2,oF(n.payload.content)]}})})()},t.getUrlScreenshot=function(e){var t=this;return(0,i._)(function(){var n;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,t.service.getUrlScreenshot.rpc({url:e})];case 1:if(!(n=r.sent()).ok)return[2,t.error(n)];return[2,oF(n.payload.imageDownloadUrl)]}})})()},t.generateReplIcon=function(e,t){var n=this;return(0,i._)(function(){var r;return(0,o.YH)(this,function(i){switch(i.label){case 0:return[4,n.service.generateIcon.rpc({replId:e,prompt:t})];case 1:if(!(r=i.sent()).ok)return[2,n.error(r)];return[2,oF(r.payload.imageUrl)]}})})()},t.getResourceUploadUrl=function(e){var t=this;return(0,i._)(function(){var n;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,t.service.getResourceUploadUrl.rpc({mimeType:e})];case 1:if(!(n=r.sent()).ok)return[2,t.error(n)];return[2,oF(n.payload)]}})})()},(0,i7._)(e,[{key:"service",get:function(){return this.connection.service}},{key:"status",get:function(){return this.connection.status}}]),e}(),ar=function(){"use strict";function e(t){var n=this;(0,i2._)(this,e),this.queue=new Map,this.store=o4.events.store(),this.enqueued=null,this.events=new i6.jA(function(e){var t,r=!1,a=n.api.closed.subscribe(function(){e.complete()}),s=(t=(0,i._)(function(){var t,i,a,s,l,u,c,d,p,f,v,h,g,m,U,b,y,E,S,C,Z,_,x,A,w,I,k,O,T,N,R,P,j,L,D;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(!n.queue.size)return[3,9];t=!0,i=!1,a=void 0,o.label=1;case 1:o.trys.push([1,6,7,8]),s=n.queue[Symbol.iterator](),o.label=2;case 2:if(t=(l=s.next()).done)return[3,5];if(c=(u=(0,oT._)(l.value,2))[0],d=u[1],!o4.events.empty){p=[],f=!0,v=!1,h=void 0;try{for(g=d[Symbol.iterator]();!(f=(m=g.next()).done);f=!0)U=m.value,(b=o4.events.get(U))&&(p.push(b),d.delete(U))}catch(e){v=!0,h=e}finally{try{f||null==g.return||g.return()}finally{if(v)throw h}}p.length&&(n.store.untrack(p),e.next(p))}if(!d.size)return n.queue.delete(c),[3,4];return y=Date.now(),E=Array.from(d).slice(0,500),[4,n.api.service.batchGetEvents.rpc({sessionId:c,eventIds:E})];case 3:if(S=o.sent(),!r)return[2];if(oq(S,"UNEXPECTED_DISCONNECT"))return[3,4];if(!S.ok){C=!0,Z=!1,_=void 0;try{for(x=E[Symbol.iterator]();!(C=(A=x.next()).done);C=!0)w=A.value,d.delete(w)}catch(e){Z=!0,_=e}finally{try{C||null==x.return||x.return()}finally{if(Z)throw _}}return d.size||n.queue.delete(c),n.store.untrack(E),[2,n.api.error(S,e)]}I=S.payload.events,n.api.hooks.trigger("events-materialized",{sessionId:c,duration:Date.now()-y,count:I.length}),k=[],O=!0,T=!1,N=void 0;try{for(R=I[Symbol.iterator]();!(O=(P=R.next()).done);O=!0){var M;j=P.value,(L=o4.events.get(j.id))?j=L:((M=j).contents.contents&&M.typedUpdateEventOperations.length&&(oS(M.contents.contents,M.typedUpdateEventOperations),M.typedUpdateEventOperations=[]),o4.events.add(j)),d.has(j.id)&&(k.push(j),d.delete(j.id))}}catch(e){T=!0,N=e}finally{try{O||null==R.return||R.return()}finally{if(T)throw N}}d.size||n.queue.delete(c),k.length&&(n.store.untrack(k),e.next(k)),o.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return D=o.sent(),i=!0,a=D,[3,8];case 7:try{t||null==s.return||s.return()}finally{if(i)throw a}return[7];case 8:return[3,0];case 9:return r=!1,[2]}})}),function(){return t.apply(this,arguments)});return n.enqueued=function(){r||(r=!0,s().catch(function(t){return e.error(t)}))},n.queue.size&&n.enqueued(),function(){r=!1,n.enqueued=null,a.unsubscribe()}}),this.api=t}var t=e.prototype;return t.enqueue=function(e,t){if(t.length){var n=this.queue.get(e);n||(n=new Set,this.queue.set(e,n));var r=!0,i=!1,o=void 0;try{for(var a,s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;n.add(u)}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}this.store.track(t),null===(a=this.enqueued)||void 0===a||a.call(this)}},t.materialize=function(e,t){var n=this;return(0,i._)(function(){var r,i,a,s,l,u,c,d,p,f,v,h,g,m,U,b;return(0,o.YH)(this,function(o){switch(o.label){case 0:r=new Set(t),i=o4.events.store(t),a=!0,s=!1,l=void 0;try{for(u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0)d=c.value,r.delete(d.id)}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}if(!r.size)return[3,2];return n.enqueue(e,Array.from(r)),[4,new Promise(function(e,t){var o=n.events.subscribe({next:function(t){var n=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;r.has(u.id)&&r.delete(u.id)}}catch(e){i=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}r.size||(o.unsubscribe(),e())},error:function(e){i.release(),t(e)},complete:function(){i.release(),t(new i6.Rx)}})})];case 1:o.sent(),o.label=2;case 2:p=[],f=!0,v=!1,h=void 0;try{for(g=t[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){if(U=m.value,!(b=i.get(U)))throw i.release(),n.api.error("Unexpected missing event in store");p.push(b)}}catch(e){v=!0,h=e}finally{try{f||null==g.return||g.return()}finally{if(v)throw h}}return i.release(),[2,p]}})})()},e}(),ai=n(75895),ao=function(){"use strict";function e(t){var n=this;(0,i2._)(this,e),this.values=new Map,this.refs=new Set,this.buffer=[],this.conditions=new Set,this.listeners=new i6.do,this.optimistic=!1,this.emitter=new i6.cP(function(e){var t;return n.api.connected.lift(e,(t=(0,i._)(function(t){var r,i,a,s,l,u,c,d,p,f,v,h,g,m,U,b,y,E,S,C,Z,_,x,A;return(0,o.YH)(this,function(o){switch(o.label){case 0:return r=o4.events.store(),[4,n.api.service.subscribeToReplEvents.subscribe({replId:n.api.replId})];case 1:if(a=(i=oT._.apply(void 0,[o.sent(),2]))[0],s=i[1],l=function(){s(),r.release()},t.aborted)return[2,l()];t.addEventListener("abort",s),u=!1,c=!1,o.label=2;case 2:o.trys.push([2,7,8,13]),p=(0,ai._)(a),o.label=3;case 3:return[4,p.next()];case 4:if(!(u=!(f=o.sent()).done)||(v=f.value,t.aborted||oq(v,"UNEXPECTED_DISCONNECT")))return[3,6];if(!v.ok)return n.api.error(v,e),[3,6];if(!v.payload.message)return[3,5];switch(h=void 0,(g=iI(v.payload.message)).$kind){case"subscriptionStatusMessage":case"abortEventMessage":return[3,5];case"createEventMessage":(m=o4.events.create(g)).state===R.COMPLETE?n.api.hooks.trigger("received-completed-event",{event:m}):n.api.hooks.has("received-completed-event")&&r.track(m.id),h={kind:"event-modified",optimistic:!1,type:"created",event:m};break;case"updateEventMessage":if(!(U=o4.events.update(g)))return[3,5];r.has(U.id)&&U.state===R.COMPLETE&&(r.untrack(U.id),n.api.hooks.trigger("received-completed-event",{event:U})),h={kind:"event-modified",optimistic:!1,type:"updated",event:U};break;case"createSessionMessage":h={kind:"session-modified",optimistic:!1,type:"created",session:o4.sessions.create(g)};break;case"updateSessionMessage":if(!(b=o4.sessions.update(g)))return[3,5];h={kind:"session-modified",optimistic:!1,type:"updated",session:b};break;case"updateAgentStateMessage":y=oR(g),n.api.hooks.trigger("agent-state-changed",{sessionId:g.sessionId,state:y}),h={kind:"agent-state-modified",optimistic:!1,session:g.sessionId,state:y}}E=!0,S=!1,C=void 0;try{for(Z=n.conditions[Symbol.iterator]();!(E=(_=Z.next()).done);E=!0)if(x=_.value,!1===x(h)){n.rollback();break}}catch(e){S=!0,C=e}finally{try{E||null==Z.return||Z.return()}finally{if(S)throw C}}e.next(h),o.label=5;case 5:return u=!1,[3,3];case 6:return[3,13];case 7:return A=o.sent(),c=!0,d=A,[3,13];case 8:if(o.trys.push([8,,11,12]),!(u&&null!=p.return))return[3,10];return[4,p.return()];case 9:o.sent(),o.label=10;case 10:return[3,12];case 11:if(c)throw d;return[7];case 12:return[7];case 13:return t.removeEventListener("abort",l),l(),[2]}})}),function(e){return t.apply(this,arguments)}))}),this.updates=new i6.jA(function(e){var t=n.listeners.add(function(t){e.next(t)}),r=n.api.materializer.events.lift(e,function(t){e.next({kind:"events-materialized",optimistic:!1,events:t})}),i=n.emitter.subscribe(e);return function(){t(),r.unsubscribe(),i.unsubscribe()}}),this.api=t;var r=this.api.status.subscribe(function(e){"connected"!==e&&(o4.events.invalidate(),o4.sessions.invalidate(),n.optimistic&&n.rollback())}),a=null,s=this.api.hooks.subscribe(function(e){if("agent-state-changed"===e.type||"received-completed-event"===e.type||"events-materialized"===e.type){var t=n.api.hooks.has("agent-state-changed")||n.api.hooks.has("received-completed-event")||n.api.hooks.has("events-materialized");t&&!a?a=n.updates.subscribe(function(){}):!t&&a&&(a.unsubscribe(),a=null)}});this.api.teardown(function(){r.unsubscribe(),s(),null==a||a.unsubscribe()})}var t=e.prototype;return t.snapshot=function(){if(this.optimistic)throw Error("Cannot snapshot while optimistic");var e=!0,t=!1,n=void 0;try{for(var r,i=this.values.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.confirmed=o.handle.snapshot(o.current)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.optimistic=!0},t.rollback=function(){if(!this.optimistic)throw Error("Cannot rollback while not optimistic");var e=!0,t=!1,n=void 0;try{for(var r,i=this.values.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o,a,s=r.value;if(s.confirmed===i6.NV)throw Error("confirmed should not be None");s.current=s.confirmed,s.confirmed=i6.NV,null===(o=(a=s.handle).next)||void 0===o||o.call(a,s.current)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.optimistic=!1,this.buffer.length=0,this.refs.clear(),this.conditions.clear()},t.commit=function(){if(!this.optimistic)throw Error("Cannot commit while not optimistic");var e=!0,t=!1,n=void 0;try{for(var r,i=this.buffer[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;switch(o.kind){case"event-modified":o4.events.emplace(o.event);break;case"session-modified":o4.sessions.emplace(o.session)}}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.optimistic=!1,this.buffer.length=0,this.refs.clear();var a=!0,s=!1,l=void 0;try{for(var u,c=this.values.values()[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(d.confirmed===i6.NV)throw Error("confirmed should not be None");d.confirmed=i6.NV}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}},t.stage=function(e){var t=this;if("connected"!==this.api.status.current)throw Error("Cannot notify while not connected");var n=e.condition,i=(0,iF._)(e,["condition"]),o=(0,i$._)((0,r._)({},i),{optimistic:!0});this.buffer.push(o),n&&this.conditions.add(n);var a=function(e){t.refs.has(a)&&(t.refs.delete(a),e?0===t.refs.size&&t.commit():(t.rollback(),t.api.hooks.trigger("client-state-rollback",{failed:o})))};return this.refs.add(a),this.optimistic||this.snapshot(),this.listeners.notify(o),[function(){return a(!0)},function(){return a(!1)}]},t.create=function(e,t){var n=this,r=function(){if(s.confirmed===i6.NV)throw Error("confirmed should not be None");var e,t,r=!1;if(s.handle.update){var i=s.handle.snapshot(s.confirmed),o=!0,a=!1,l=void 0;try{for(var u,c=n.buffer[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;i=void 0===i?s.current:i,i=s.handle.update(d,i),void 0!==i&&(r=!0,s.current=i)}}catch(e){a=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}}r&&(null===(e=(t=s.handle).next)||void 0===e||e.call(t,s.current))},i=function(e){if(n.optimistic)s.confirmed=e,r();else{var t,i;s.current=e,null===(t=(i=s.handle).next)||void 0===t||t.call(i,s.current)}},o=null;t.update&&(o=this.updates.subscribe(function(e){if(n.optimistic&&!e.optimistic){if(s.confirmed===i6.NV)throw Error("confirmed should not be None");var t,i,o=null===(t=(i=s.handle).update)||void 0===t?void 0:t.call(i,e,s.confirmed);void 0!==o&&(s.confirmed=o,r())}else{var a,l,u,c,d=!1,p=null===(a=(l=s.handle).update)||void 0===a?void 0:a.call(l,e,s.current);void 0!==p&&(d=!0,s.current=p),d&&(null===(u=(c=s.handle).next)||void 0===u||u.call(c,s.current))}}));var a={get optimistic(){return n.optimistic},get current(){return s.current},get confirmed(){return n.optimistic?s.confirmed:s.current},set confirmed(next){i(next)},next:function(){if(n.optimistic)r();else{var e,t;null===(e=(t=s.handle).next)||void 0===e||e.call(t,s.current)}},unsubscribe:function(){n.values.delete(a),null==o||o.unsubscribe()}},s={handle:t,current:e,confirmed:i6.NV};if(this.values.set(a,s),this.optimistic&&s.handle.update){s.confirmed=s.handle.snapshot(s.current);var l,u,c=!1,d=!0,p=!1,f=void 0;try{for(var v,h=this.buffer[Symbol.iterator]();!(d=(v=h.next()).done);d=!0){var g=v.value,m=s.handle.update(g,s.current);void 0!==m&&(c=!0,s.current=m)}}catch(e){p=!0,f=e}finally{try{d||null==h.return||h.return()}finally{if(p)throw f}}c&&(null===(l=(u=s.handle).next)||void 0===l||l.call(u,s.current))}return a},e}(),aa=function(e){"use strict";function t(e){var n;if((0,i2._)(this,t),!e.replId)throw Error("Chatter API is disabled");return(n=(0,oP._)(this,t,[e])).sessionObservables=new Map,n.currentLobbySession=new i6.V_(function(e){var t;return n.connected.lift(e,(t=(0,i._)(function(t){var r,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,n.service.getReplSessions.rpc({beforeTimestamp:new Date("2099-01-01"),limit:1,includeFirstSessionEvents:!1,firstSessionEventsLimit:1,replId:n.replId,sessionTypes:[Y.REPL_CREATION_V3],archived:void 0})];case 1:if(r=o.sent(),t.aborted||oq(r,"UNEXPECTED_DISCONNECT"))return[2];if(!r.ok)return[2,n.error(r,e)];if(0===r.payload.sessions.length)return[2,e.next(null)];return i=o4.sessions.emplace(r.payload.sessions[0]),e.next(o7.create(n,i.id,i.created)),[2]}})}),function(e){return t.apply(this,arguments)}))}),n.currentAgentSession=new i6.V_(function(e){var t,r,a=!1,s="",l=null,u=(t=(0,i._)(function(t){var r,i,a,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(null==l||l.abort(),!t)return[2,e.next(null)];if(r=o4.sessions.get(t))return e.next(o7.create(n,t,r.created)),l=null,[2];return i=(l=new AbortController).signal,[4,n.service.getSessionEvents.rpc({excludeContents:!0,sessionId:t,limit:1})];case 1:if(a=o.sent(),i.aborted||oq(a,"UNEXPECTED_DISCONNECT"))return[2];if(!a.ok)return[2,n.error(a,e)];return l=null,s=o4.sessions.emplace(a.payload.session),e.next(o7.create(n,t,s.created)),[2]}})}),function(e){return t.apply(this,arguments)}),c=n.state.updates.filter(function(e){return"agent-state-modified"===e.kind}).select(function(e){return e.session}).lift(e,function(e){s!==e&&(s=e,u(e))}),d=n.connected.lift(e,(r=(0,i._)(function(t){var r,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,n.service.getReplSessions.rpc({beforeTimestamp:new Date("2099-01-01"),limit:1,includeFirstSessionEvents:!1,firstSessionEventsLimit:1,replId:n.replId,sessionTypes:[Y.AGENT_SESSION],archived:void 0})];case 1:if(r=o.sent(),t.aborted||oq(r,"UNEXPECTED_DISCONNECT"))return[2];if(!r.ok)return[2,n.error(r,e)];return i=r.payload.replAgentState.activeAgentSessionId,s===i&&a||(a=!0,s=i,u(i)),[2]}})}),function(e){return r.apply(this,arguments)}));return function(){null==l||l.abort(),c.unsubscribe(),d.unsubscribe()}}),n.replId=e.replId,n.materializer=new ar(n),n.state=new ao(n),n}(0,oj._)(t,e);var n=t.prototype;return n.createSessionsQuery=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.archived,r=t.readonly,a=t.limit,s=void 0===a?1e3:a,l=t.types,u=void 0===l?[Y.CHAT,Y.AGENT_SESSION,Y.AGENT_REPLAY_SESSION]:l;return new i6.V_(function(t){var a,l=!1,c=e.state.create(new Map,{snapshot:function(e){return new Map(e)},next:function(e){l&&t.next(new Map(e))},update:function(t,i){if("session-modified"===t.kind){var o=t.session;return!i.has(o.id)&&u.includes(o.sessionType)&&(void 0===n||o.archived===n)&&(void 0===r||o.readOnly===r)?i.set(o.id,o7.create(e,o.id,o.created)):i.has(o.id)&&(void 0!==n&&o.archived!==n||void 0!==r&&o.readOnly!==r)?(i.delete(o.id),i):void 0}}}),d=e.connected.lift(t,(a=(0,i._)(function(i){var a,d,p,f,v,h,g,m,U,b,y,E,S,C,Z,_;return(0,o.YH)(this,function(o){switch(o.label){case 0:return a=new Set(c.confirmed.keys()),[4,e.service.getReplSessions.rpc({beforeTimestamp:new Date("2099-01-01"),limit:s,includeFirstSessionEvents:!1,firstSessionEventsLimit:1,replId:e.replId,sessionTypes:u,archived:n})];case 1:if(d=o.sent(),i.aborted||oq(d,"UNEXPECTED_DISCONNECT"))return[2];if(!d.ok)return[2,e.error(d,t)];p=!1,f=!0,v=!1,h=void 0;try{for(g=d.payload.sessions[Symbol.iterator]();!(f=(m=g.next()).done);f=!0)U=m.value,o4.sessions.emplace(U),(void 0===r||U.readOnly===r)&&(a.delete(U.id),c.confirmed.has(U.id)||(b=o7.create(e,U.id,U.created),c.confirmed.set(U.id,b),p=!0))}catch(e){v=!0,h=e}finally{try{f||null==g.return||g.return()}finally{if(v)throw h}}y=!0,E=!1,S=void 0;try{for(C=a[Symbol.iterator]();!(y=(Z=C.next()).done);y=!0)_=Z.value,c.confirmed.delete(_),p=!0}catch(e){E=!0,S=e}finally{try{y||null==C.return||C.return()}finally{if(E)throw S}}return(p||!l)&&(l=!0,c.next()),[2]}})}),function(e){return a.apply(this,arguments)}));return function(){c.unsubscribe(),d.unsubscribe()}})},n.getSessionObservableById=function(e){var t=this,n=this.sessionObservables.get(e);return n||(n=new i6.V_(function(n){var r,a=null,s=o4.sessions.get(e);s?n.next(o7.create(t,e,s.created)):a=t.connected.lift(n,(r=(0,i._)(function(r){var i,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,t.service.getSessionEvents.rpc({excludeContents:!0,sessionId:e,limit:1})];case 1:if(i=o.sent(),r.aborted||oq(i,"UNEXPECTED_DISCONNECT"))return[2];if(!i.ok)return[2,t.error(i,n)];return s=o4.sessions.emplace(i.payload.session),n.next(o7.create(t,e,s.created)),null==a||a.unsubscribe(),a=null,[2]}})}),function(e){return r.apply(this,arguments)}));var l=t.teardown(function(){n.complete()});return function(){null==a||a.unsubscribe(),l()}}),this.sessionObservables.set(e,n)),n},n.createSession=function(e){var t=this;return(0,i._)(function(){var n,i,a;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=ox((0,i$._)((0,r._)({},e),{replId:t.replId})),[4,t.service.createSession.rpc(n)];case 1:if(!(i=o.sent()).ok)return[2,t.error(i)];return a=o7.create(t,i.payload.sessionId,new Date),t.hooks.trigger("client-created-session",{session:a,request:n}),[2,oF(a)]}})})()},t}(an),as=function(){"use strict";function e(t){(0,i2._)(this,e),t.replId?(this.api=new aa(t),this._chatter=new oO(this.api)):(this.api=new an(t),this._chatter=null)}var t=e.prototype;return t.chatter=function(){if(!this._chatter)throw Error("Chatter API is disabled");return this._chatter},t.hook=function(e,t){return this.api.hooks.add(e,t)},t.enhancePrompt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.api.enhancePrompt(e,t,n)},t.getUrlScrapedContent=function(e){return this.api.getUrlScrapedContent(e)},t.getUrlScreenshot=function(e){return this.api.getUrlScreenshot(e)},t.generateReplName=function(e,t){return this.api.generateReplName(e,t)},t.generateReplIcon=function(e,t){return this.api.generateReplIcon(e,t)},t.getResourceUploadUrl=function(e){return this.api.getResourceUploadUrl(e)},t.dispose=function(){this.api.dispose()},(0,i7._)(e,[{key:"status",get:function(){return this.api.status}},{key:"user",get:function(){return this.api.user}},{key:"hasAdvancedModel",get:function(){return this.api.hasAdvancedModel}},{key:"overrideModel",get:function(){return this.api.overrideModel}},{key:"models",get:function(){return this.api.models}}]),e}()},82845:(e,t,n)=>{n.d(t,{Jh:()=>S,Z:()=>y,fu:()=>C,$h:()=>m});var r=n(20837),i=n(66622);let o=JSON.parse('{"abap":{"extensions":[".abap"],"name":"ABAP"},"aes":{"extensions":[".aes"],"name":"Advanced Encryption Standard","shortName":"AES"},"apacheconf":{"extensions":[".apacheconf"],"files":[".htaccess","apache2.conf","httpd.conf"],"name":"Apache Configuration","shortName":"Apache"},"apex":{"extensions":[".cls"],"name":"Apex"},"apl":{"extensions":[".apl",".dyalog"],"name":"APL"},"asn1":{"aliases":["asn"],"extensions":[".asn",".asn1"],"name":"ASN.1"},"assembly":{"aliases":["asm","mips","x86","x86_64","arm","arm64"],"extensions":[".s",".asm"],"icon":"Asm","name":"Assembly"},"audio":{"extensions":[".adp",".au",".snd",".mid",".midi",".kar",".rmi",".mp3",".m4a",".mp4a",".mpga",".mp2",".mp2a",".m2a",".m3a",".oga",".ogg",".spx",".s3m",".sil",".uva",".uvva",".eol",".dra",".dts",".dtshd",".lvp",".pya",".ecelp4800",".ecelp7470",".ecelp9600",".rip",".wav",".weba",".aac",".aif",".aiff",".aifc",".caf",".flac",".mka",".m3u",".wax",".wma",".ram",".ra",".rmp",".xm"],"icon":"Music","name":"Audio","openWith":["media"]},"autohotkey":{"extensions":[".ahk",".ahkl"],"name":"AutoHotkey","shortName":"AHK"},"azcli":{"extensions":[".azcli"],"name":"Azure CLI","shortName":"ACLI"},"ballerina":{"extensions":[".bal"],"icon":"Ballerina","name":"Ballerina"},"basic":{"extensions":[".bas"],"icon":"Basic","name":"BASIC"},"bat":{"extensions":[".bat",".cmd"],"name":"Batch"},"bibtex":{"extensions":[".bib",".bbl"],"name":"BibTeX"},"bicep":{"extensions":[".bicep"],"name":"Bicep"},"blade":{"codeMirrorLanguage":"php","filePattern":"*.{blade,blade.php}","name":"Blade Template","shortName":"Blade","features":{"ai":{"complete":{"enabled":true,"groups":["php"]}}}},"brainfuck":{"extensions":[".b",".bf"],"icon":"Brainf","name":"Brainfuck"},"c":{"extensions":[".c",".h"],"icon":"C","name":"C","features":{"ai":{"complete":{"enabled":true}}}},"cameligo":{"extensions":[".mligo"],"name":"Cameligo"},"cargo-lock":{"codeMirrorLanguage":"toml","files":["cargo.lock"],"icon":"Rust","name":"Cargo Lockfile"},"cargo-package":{"codeMirrorLanguage":"toml","files":["Cargo.toml"],"icon":"Rust","name":"Cargo Package","features":{"ai":{"complete":{"enabled":true,"groups":["rust"]}}}},"clojure":{"extensions":[".clj",".cljc",".cljx"],"icon":"Clojure","name":"Clojure"},"clojurescript":{"extensions":[".cljs"],"icon":"Clojure","name":"ClojureScript"},"cmake":{"extensions":[".cmake",".cmake.in"],"files":["CMakeLists.txt"],"name":"CMake"},"cobol":{"extensions":[".cob",".cbl",".ccp",".cobol"],"name":"COBOL"},"coffeescript":{"extensions":[".coffee"],"icon":"Coffeescript","name":"CoffeeScript"},"composer-lock":{"codeMirrorLanguage":"json","files":["composer.lock"],"icon":"Php","name":"Composer Lockfile"},"composer-package":{"codeMirrorLanguage":"json","files":["composer.json"],"icon":"Php","name":"Composer Package","features":{"ai":{"complete":{"enabled":true,"groups":["php"]}}}},"cpp":{"aliases":["c plus plus"],"extensions":[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],"icon":"CPlusPlus","name":"C++","features":{"ai":{"complete":{"enabled":true}}}},"cql":{"extensions":[".cql"],"icon":"Sql","name":"Cassandra","shortName":"CQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"crystal":{"extensions":[".cr"],"icon":"Crystal","name":"Crystal"},"csharp":{"aliases":["c sharp"],"extensions":[".cs",".csx",".cake"],"icon":"CSharp","name":"C#","features":{"ai":{"complete":{"enabled":true}}}},"css":{"extensions":[".css"],"icon":"Css","name":"CSS","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"csv":{"extensions":[".csv"],"icon":"Csv","name":"Comma Separated Values","shortName":"CSV"},"cython":{"aliases":["pyrex"],"extensions":[".pyx",".pxd",".pxi"],"icon":"Python","name":"Cython","features":{"ai":{"complete":{"enabled":true,"groups":["python"]}}}},"d":{"extensions":[".d"],"icon":"D","name":"D","features":{"ai":{"complete":{"enabled":true}}}},"dart":{"extensions":[".dart"],"icon":"Dart","name":"Dart"},"diff":{"extensions":[".diff",".patch"],"name":"Diff"},"dockerfile":{"extensions":[".dockerfile"],"files":["Dockerfile"],"icon":"Docker","name":"Dockerfile"},"dotreplit":{"codeMirrorLanguage":"toml","files":[".replit"],"icon":"Replit","name":"Replit Configuration","shortName":"Replit"},"dtd":{"codeMirrorLanguage":"xml","extensions":[".dtd"],"name":"Document Type Definition","shortName":"DTD"},"dylan":{"extensions":[".dylan",".dyl",".intr",".lid"],"name":"Dylan"},"ecl":{"extensions":[".ecl"],"name":"ECL"},"edn":{"extensions":[".edn"],"icon":"Clojure","name":"Extensible Data Notation","shortName":"EDN"},"eiffel":{"extensions":[".e"],"name":"Eiffel"},"ejs":{"extensions":[".ejs"],"name":"EJS"},"elisp":{"extensions":[".el"],"name":"Emacs Lisp","shortName":"Elisp"},"elixir":{"extensions":[".ex",".exs"],"icon":"Elixir","name":"Elixir"},"elm":{"extensions":[".elm"],"icon":"Elm","name":"Elm"},"enbf":{"extensions":[".ebnf"],"name":"Extended Backus-Naur Form","shortName":"EBNF"},"env":{"aliases":["environment"],"codeMirrorLanguage":"shell","extensions":[".env"],"name":"Environment Variables","shortName":"ENV"},"erb":{"extensions":[".erb",".rhtml",".rhtm"],"icon":"Ruby","name":"Embedded Ruby","shortName":"ERB"},"erlang":{"extensions":[".erl",".hrl"],"name":"Erlang"},"excalidraw":{"codeMirrorLanguage":"null","extensions":[".draw"],"icon":"Draw","name":"Excalidraw","openWith":["draw"]},"factor":{"extensions":[".factor"],"files":[".factor-boot-rc",".factor-rc"],"name":"Factor"},"flow9":{"extensions":[".flow"],"name":"Flow"},"fluent":{"extensions":[".ftl"],"name":"Fluent"},"forth":{"extensions":[".forth",".fth",".4th"],"icon":"Forth","name":"Forth"},"fortran":{"extensions":[".f",".for",".f90",".f95",".f03"],"name":"Fortran"},"freemarker2":{"extensions":[".ftlh",".ftlx"],"name":"FreeMarker 2"},"fsharp":{"aliases":["f sharp"],"extensions":[".fs",".fsi",".fsx",".fsscript"],"icon":"FSharp","name":"F#"},"gdscript":{"extensions":[".gd"],"name":"Godot Script","shortName":"GDScript"},"glsl":{"extensions":[".vert",".tesc",".tese",".geom",".frag",".comp",".glsl",".glslv",".glslf",".glslg"],"name":"GLSL"},"go":{"aliases":["golang"],"extensions":[".go"],"icon":"Go","name":"Go","features":{"ai":{"complete":{"enabled":true}}}},"graphql":{"extensions":[".graphql",".gql"],"icon":"Graphql","name":"GraphQL"},"groovy":{"extensions":[".groovy",".gvy",".gy",".gsh"],"name":"Groovy"},"handlebars":{"extensions":[".handlebars",".hbs"],"name":"Handlebars"},"haskell":{"extensions":[".hs",".lhs"],"icon":"Haskell","name":"Haskell","features":{"ai":{"complete":{"enabled":true}}}},"haxe":{"extensions":[".hx",".hxsl"],"name":"Haxe"},"hcl":{"extensions":[".tf",".tfvars",".hcl"],"name":"HashiCorp Configuration","shortName":"HCL"},"hlsl":{"extensions":[".hlsl",".hlsli",".fx",".fxh",".cginc"],"name":"High Level Shading Language","shortName":"HLSL"},"html":{"extensions":[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],"icon":"Html5","name":"HTML","features":{"emmet":true,"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"hxml":{"extensions":[".hxml"],"name":"HXML"},"idl":{"extensions":[".dlm"],"name":"Interactive Data Language","shortName":"IDL"},"ignore":{"aliases":["gitignore","dockerignore","npmignore","eslintignore","prettierignore","stylelintignore"],"files":[".gitignore",".dockerignore",".npmignore",".eslintignore",".prettierignore",".stylelintignore"],"name":"Ignore"},"image":{"extensions":[".exr",".apng",".bmp",".cgm",".drle",".emf",".fits",".g3",".gif",".heic",".heics",".heif",".heifs",".hej2",".hsj2",".ief",".jls",".jp2",".jpg2",".jpeg",".jpg",".jpe",".jph",".jhc",".jpm",".jpx",".jpf",".jxr",".jxra",".jxrs",".jxs",".jxsc",".jxsi",".jxss",".ktx",".png",".btif",".pti",".sgi",".t38",".tif",".tiff",".tfx",".psd",".azv",".uvi",".uvvi",".uvg",".uvvg",".djvu",".djv",".sub",".dwg",".dxf",".fbs",".fpx",".fst",".mmr",".rlc",".ico",".dds",".mdi",".wdp",".npx",".tap",".vtf",".wbmp",".xif",".pcx",".webp",".wmf",".3ds",".ras",".cmx",".fh",".fhc",".fh4",".fh5",".fh7",".jng",".sid",".pic",".pct",".pnm",".pbm",".pgm",".ppm",".rgb",".tga",".xbm",".xpm",".xwd"],"icon":"Image","name":"Image","openWith":["media"]},"ini":{"extensions":[".ini",".properties",".gitconfig"],"files":["config",".gitattributes",".gitconfig",".editorconfig",".properties"],"name":"INI"},"java":{"extensions":[".java",".jav"],"icon":"Java","name":"Java","features":{"ai":{"complete":{"enabled":true}}}},"javascript":{"aliases":["node","ecmascript","es"],"extensions":[".js",".es6",".mjs",".cjs"],"files":["jakefile"],"icon":"Javascript","name":"JavaScript","shortName":"JS","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"javascriptreact":{"codeMirrorLanguage":"JSX","extensions":[".jsx"],"icon":"React","name":"JavaScript React","shortName":"JSX","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"jinja":{"aliases":["jinja2"],"codeMirrorLanguage":"html","extensions":[".jinja",".j2",".jinja2"],"name":"Jinja"},"json":{"extensions":[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],"icon":"Json","name":"JSON","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"json5":{"codeMirrorLanguage":"javascript","extensions":[".json5"],"icon":"Json","name":"JSON5","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"jsonc":{"codeMirrorLanguage":"json","extensions":[".jsonc"],"icon":"Json","name":"JSON with Comments","shortName":"JSONC","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"jsonld":{"codeMirrorLanguage":"json","extensions":[".jsonld"],"icon":"Json","name":"JSON-LD","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"julia":{"extensions":[".jl"],"icon":"Julia","name":"Julia","features":{"ai":{"complete":{"enabled":true}}}},"kotlin":{"extensions":[".kt",".kts"],"icon":"Kotlin","name":"Kotlin"},"laravel-artisan":{"codeMirrorLanguage":"php","files":["artisan"],"icon":"Php","name":"Laravel Artisan"},"latex":{"aliases":["tex","stex"],"extensions":[".tex",".latex"],"name":"LaTeX"},"less":{"extensions":[".less"],"name":"Less"},"lexon":{"extensions":[".lex"],"name":"Lexon"},"lezer":{"extensions":[".lezer",".grammar"],"name":"Lezer"},"liquid":{"extensions":[".liquid"],"name":"Liquid"},"lisp":{"extensions":[".lisp",".lsp",".l",".fasl"],"icon":"Lisp","name":"Lisp","features":{"ai":{"complete":{"enabled":true}}}},"livescript":{"aliases":["live-script"],"extensions":[".ls","._ls"],"files":["Slakefile"],"name":"LiveScript","shortName":"LS"},"lua":{"extensions":[".lua"],"icon":"Lua","name":"Lua","features":{"ai":{"complete":{"enabled":true}}}},"m3":{"extensions":[".m3",".i3",".mg",".ig"],"name":"Modula-3","shortName":"M3"},"makefile":{"extensions":[".mak",".MAKE"],"files":["makefile","GNUmakefile"],"name":"Makefile","features":{"indentation":"tabs"}},"mariadb-sql":{"aliases":["mariadb","mariadb sql"],"icon":"Sql","name":"MariaDB","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"markdown":{"extensions":[".md",".mdx",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],"icon":"Markdown","name":"Markdown","features":{"ai":{"complete":{"enabled":false,"skipComplexProcessing":true}}}},"mathematica":{"aliases":["mma","wolfram"],"extensions":[".mathematica",".nb"],"name":"Mathematica"},"matlab":{"aliases":["octave"],"extensions":[".matlab",".m"],"name":"MATLAB"},"modelica":{"extensions":[".mo"],"name":"Modelica"},"ms-sql":{"aliases":["mssql","ms sql"],"icon":"Sql","name":"Microsoft SQL","shortName":"MS-SQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"msdax":{"aliases":["morphx","dynamicsax","x++","x plus plus"],"extensions":[".msdax",".dax"],"name":"Dynamics AX","shortName":"MSDAX"},"mysql":{"extensions":[".mysql"],"icon":"Sql","name":"MySQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"nginx":{"extensions":[".nginxconf",".nginx",".vhost"],"files":["nginx.conf"],"name":"Nginx"},"nim":{"extensions":[".nim"],"icon":"Nim","name":"Nim"},"nix":{"extensions":[".nix"],"icon":"Nix","name":"Nix"},"npm-lock":{"codeMirrorLanguage":"json","files":["package-lock.json"],"icon":"Npm","name":"NPM Lockfile"},"npm-package":{"codeMirrorLanguage":"json","files":["package.json"],"icon":"Npm","name":"NPM Package","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"npm-rc":{"codeMirrorLanguage":"ini","files":[".npmrc"],"icon":"Npm","name":"NPM RC"},"nvm-rc":{"codeMirrorLanguage":"null","files":[".nvmrc"],"icon":"Node","name":"NVM"},"objective-c":{"name":"Objective-C","shortName":"ObjC"},"objective-cpp":{"extensions":[".mm"],"name":"Objective-C++","shortName":"ObjC++"},"ocaml":{"extensions":[".ml",".mli"],"icon":"Ocaml","name":"OCaml","features":{"ai":{"complete":{"enabled":true}}}},"oz":{"extensions":[".oz"],"name":"Oz"},"pascal":{"extensions":[".pas",".p",".pp"],"name":"Pascal"},"pascaligo":{"extensions":[".ligo"],"name":"Pascaligo"},"pdf":{"extensions":[".pdf"],"icon":"Pdf","name":"PDF","openWith":["media"]},"perl":{"extensions":[".pl"],"icon":"Perl","name":"Perl"},"perl6":{"aliases":["raku","perl 6"],"extensions":[".pl6",".p6",".pm6",".pod6",".t6",".raku",".rakumod",".rakutest"],"icon":"Raku","name":"Raku"},"pgsql":{"extensions":[".pgsql",".postgres",".psql"],"icon":"Sql","name":"PostgreSQL","shortName":"Postgres","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"php":{"extensions":[".php",".php3",".php4",".php5",".php7",".phtml",".ctp"],"icon":"Php","name":"PHP","features":{"ai":{"complete":{"enabled":true,"groups":["php"]}}}},"pla":{"extensions":[".pla"],"name":"PLA"},"plaintext":{"aliases":["txt"],"extensions":[".txt"],"icon":"Txt","name":"Plain Text","shortName":"Text"},"plsql":{"aliases":["pl sql"],"extensions":[".pls",".pks",".pkb",".plsql"],"icon":"Sql","name":"PL/SQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"postiats":{"aliases":["ats"],"extensions":[".dats",".sats",".hats"],"name":"ATS2"},"powerquery":{"extensions":[".pq",".pqm"],"name":"Power Query"},"powershell":{"extensions":[".ps1",".psm1",".psd1"],"name":"PowerShell"},"processing":{"extensions":[".pde"],"icon":"Processing","name":"Processing"},"profile":{"codeMirrorLanguage":"shell","files":[".profile",".login",".bash_profile",".zshrc",".bashrc"],"icon":"Shell","name":"Profile"},"prolog":{"extensions":[".pro",".plg"],"name":"Prolog"},"protobuf":{"extensions":[".proto"],"name":"Protocol Buffers","shortName":"Protobuf"},"pug":{"aliases":["jade"],"extensions":[".pug",".jade"],"name":"Pug"},"python":{"aliases":["py","python2","python3"],"extensions":[".py",".rpy",".pyw",".gyp",".gypi",".cpy"],"icon":"Python","name":"Python","features":{"ai":{"complete":{"enabled":true,"groups":["python"]}}}},"python-requirements":{"files":["requirements.txt"],"icon":"Python","name":"Python Package"},"qml":{"extensions":[".qml",".qbs"],"name":"Qt Modelling Language","shortName":"QML"},"qsharp":{"aliases":["q sharp"],"extensions":[".qs"],"name":"Q#"},"r":{"extensions":[".r",".rhistory",".rmd",".rprofile",".rt"],"icon":"R","name":"R","features":{"ai":{"complete":{"enabled":true}}}},"racket":{"extensions":[".rkt"],"icon":"Scheme","name":"Racket","features":{"ai":{"complete":{"enabled":true}}}},"razor":{"extensions":[".cshtml"],"name":"Razor"},"reason":{"aliases":["reasonml"],"extensions":[".re",".rei"],"icon":"Reasonml","name":"Reason"},"redis":{"extensions":[".redis"],"name":"Redis"},"restructuredtext":{"extensions":[".rst"],"name":"Restructured Text","shortName":"RST"},"ruby":{"extensions":[".rb",".rbx",".rjs",".gemspec"],"files":["rakefile"],"icon":"Ruby","name":"Ruby","features":{"ai":{"complete":{"enabled":true}}}},"ruby-gems":{"codeMirrorLanguage":"ruby","files":["Gemfile","Gemfile.lock",".gemspec"],"icon":"Ruby","name":"Ruby Gems"},"rust":{"extensions":[".rs",".rslib"],"icon":"Rust","name":"Rust","features":{"ai":{"complete":{"enabled":true,"groups":["rust"]}}}},"sass":{"extensions":[".sass"],"icon":"Sass","name":"Sass"},"sb":{"extensions":[".sb"],"name":"Small Basic","shortName":"SB"},"scala":{"extensions":[".scala",".sc",".sbt"],"icon":"Scala","name":"Scala","features":{"ai":{"complete":{"enabled":true}}}},"scheme":{"extensions":[".scm",".ss",".sch"],"icon":"Scheme","name":"Scheme","features":{"ai":{"complete":{"enabled":true}}}},"scss":{"extensions":[".scss"],"icon":"Sass","name":"SCSS"},"shellscript":{"aliases":["sh","bash","zsh","ksh"],"codeMirrorLanguage":"shell","extensions":[".sh",".bash",".zsh",".ksh",".fish"],"icon":"Terminal","name":"Shell Script","shortName":"Shell","features":{"ai":{"complete":{"enabled":true}}}},"smarty":{"extensions":[".tpl"],"name":"Smarty Template","shortName":"Smarty"},"sml":{"extensions":[".sml",".sig",".fun"],"name":"Standard ML","shortName":"SML"},"solidity":{"aliases":["sol"],"extensions":[".sol"],"icon":"Sol","name":"Solidity","features":{"ai":{"complete":{"enabled":true}}}},"source-map":{"codeMirrorLanguage":"json","extensions":[".map"],"icon":"Json","name":"Source Map"},"sparql":{"extensions":[".rq"],"name":"SPARQL"},"sql":{"extensions":[".sql",".ddl",".prc",".tab",".udf",".viw"],"icon":"Sql","name":"SQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"sqlite":{"extensions":[".sqlite"],"icon":"Sqlite","name":"SQLite","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"squirrel":{"extensions":[".nut"],"name":"Squirrel"},"st":{"extensions":[".st",".iecst",".iecplc",".lc3lib"],"name":"Structured Text"},"stylus":{"extensions":[".styl"],"name":"Stylus"},"svelte":{"extensions":[".svelte"],"icon":"Svelte","name":"Svelte","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"svelte-config":{"codeMirrorLanguage":"javascript","filePattern":"svelte.config.{cjs,mjs,js}","icon":"Svelte","name":"Svelte Config","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"svg":{"codeMirrorLanguage":"xml","extensions":[".svg",".svgz"],"icon":"Svg","name":"Scalable Vector Graphics","openWith":["codeEditor","media","history"],"shortName":"SVG","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"swift":{"extensions":[".swift"],"icon":"Swift","name":"Swift","features":{"ai":{"complete":{"enabled":true}}}},"systemverilog":{"extensions":[".sv",".svh"],"name":"SystemVerilog","shortName":"SV"},"tcl":{"extensions":[".tcl"],"name":"Tcl"},"textile":{"extensions":[".textile"],"name":"Textile"},"toml":{"extensions":[".toml"],"icon":"Toml","name":"TOML","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"tsv":{"extensions":[".tsv"],"icon":"Csv","name":"Tab Separated Values","shortName":"TSV"},"twig":{"extensions":[".twig"],"name":"Twig"},"typescript":{"extensions":[".ts",".mts",".cts"],"icon":"Typescript","name":"TypeScript","shortName":"TS","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"typescript-config":{"codeMirrorLanguage":"json","files":["tsconfig.json"],"icon":"Typescript","name":"TypeScript Config","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"typescriptreact":{"codeMirrorLanguage":"TSX","extensions":[".tsx"],"icon":"React","name":"TypeScript React","shortName":"TSX","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"v":{"aliases":["vlang"],"extensions":[".v"],"name":"V"},"vala":{"extensions":[".vala",".vapi"],"name":"Vala"},"vb":{"extensions":[".vb"],"name":"Visual Basic","shortName":"VB"},"vbscript":{"extensions":[".vbs"],"name":"VBScript"},"velocity":{"codeMirrorLanguage":"html","extensions":[".vtl"],"name":"Velocity Template","shortName":"Velocity"},"verilog":{"extensions":[".vh"],"name":"Verilog"},"video":{"extensions":[".3gpp",".3gp",".3g2",".h263",".h261",".h264",".jpgv",".jpgm",".mj2",".mjp2",".mp4",".mp4v",".mpg4",".mpeg",".mpg",".mpe",".m1v",".m2v",".ogv",".qt",".mov",".uvh",".uvvh",".uvm",".uvvm",".uvp",".uvvp",".uvs",".uvvs",".uvv",".uvvv",".dvb",".fvt",".mxu",".m4u",".pyv",".uvu",".uvvu",".viv",".webm",".f4v",".fli",".flv",".m4v",".mkv",".mk3d",".mks",".mng",".asf",".asx",".vob",".wm",".wmv",".wmx",".wvx",".avi",".movie",".smv"],"icon":"Play","name":"Video","openWith":["media"]},"vim-script":{"aliases":["vim","viml","nvim"],"extensions":[".vim",".vba",".vimrc",".vmb"],"files":[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"],"name":"Vim Script"},"vue":{"extensions":[".vue"],"icon":"Vue","name":"Vue","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"webassembly":{"extensions":[".wasm",".wat"],"icon":"Wasm","name":"WebAssembly","shortName":"WASM"},"webidl":{"extensions":[".webidl"],"name":"WebIDL"},"webpack-config":{"codeMirrorLanguage":"javascript","filePattern":"webpack.config.{cjs,mjs,js}","icon":"Webpack","name":"Webpack Config","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"xml":{"extensions":[".xml",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".opf",".xsl"],"name":"XML","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"xquery":{"extensions":[".xq",".xquery",".xqm",".xql",".xqy"],"name":"XQuery"},"yaml":{"aliases":["yml"],"extensions":[".yaml",".yml"],"icon":"Yaml","name":"YAML","features":{"indentation":"spaces","ai":{"complete":{"enabled":true,"groups":"all"}}}},"yarn-lock":{"codeMirrorLanguage":"yaml","files":["yarn.lock"],"icon":"Yarn","name":"Yarn Lockfile"},"zig":{"extensions":[".zig",".zir"],"name":"Zig","features":{"ai":{"complete":{"enabled":true}}}},"zip":{"extensions":[".zip"],"icon":"Zip","name":"Zip Archive","openWith":[],"shortName":"Zip"}}');var a=n(78542),s=n(13454),l=n(27189),u=n(5482),c=n(81272),d=n(79557),p=n(1979),f=d.e.filter(function(e){return"Markdown"!==e.name});let v=[c.t$.of({name:"CSS",extensions:["css"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(9501),n.e(882)]).then(n.bind(n,60882))}).then(function(e){return e.default})]})})()}}),c.t$.of({name:"Markdown",extensions:["md","markdown","mkd","mdx"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(3936),n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(755),n.e(7901)]).then(n.bind(n,17901))}).then(function(e){return e.markdown(f)})]})})()}}),c.t$.of({name:"JavaScript",alias:["ecmascript","js","node","JSX"],extensions:["js","mjs","cjs","jsx"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(7140)]).then(n.bind(n,7140))}).then(function(e){return e.jsLanguageSupport})]})})()}}),c.t$.of({name:"TSX",extensions:["tsx"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(7140)]).then(n.bind(n,7140))}).then(function(e){return e.tsxLanguageSupport})]})})()}}),c.t$.of({name:"TypeScript",alias:["ts"],extensions:["ts"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(7140)]).then(n.bind(n,7140))}).then(function(e){return e.tsLanguageSupport})]})})()}}),c.t$.of({name:"HTMLish",extensions:["ejs","erb","cshtml"],load:function(){var e=d.e.find(function(e){return"HTML"===e.name});if(!e)throw Error("Expected HTML language");return e.load()}}),c.t$.of({name:"XMLish",extensions:["csproj"],load:function(){var e=d.e.find(function(e){return"XML"===e.name});if(!e)throw Error("Expected XML language");return e.load()}}),c.t$.of({name:"YAMLish",filename:/^yarn.lock$/,load:function(){var e=d.e.find(function(e){return"YAML"===e.name});if(!e)throw Error("Expected YAML language");return e.load()}}),c.t$.of({name:"Processing",extensions:["pde"],load:function(){var e=d.e.find(function(e){return"Java"===e.name});if(!e)throw Error("Expected Java language");return e.load()}}),c.t$.of({name:"Reason",extensions:["re"],load:function(){var e=d.e.find(function(e){return"OCaml"===e.name});if(!e)throw Error("Expected OCaml language");return e.load()}}),c.t$.of({name:"MySQL",extensions:["mysql"],load:function(){var e=d.e.find(function(e){return"MySQL"===e.name});if(!e)throw Error("Expected MySQL language");return e.load()}}),c.t$.of({name:"PGSQL",extensions:["pgsql","psql"],load:function(){var e=d.e.find(function(e){return"PostgreSQL"===e.name});if(!e)throw Error("Expected PGSQL language");return e.load()}}),c.t$.of({name:"SQLite",extensions:["sqlite"],load:function(){var e=d.e.find(function(e){return"SQLite"===e.name});if(!e)throw Error("Expected mySQL language");return e.load()}}),c.t$.of({name:"Elixir",extensions:["ex","exs"],load:function(){return(0,s._)(function(){var e;return(0,u.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(3417).then(n.bind(n,63417))})];case 1:return e=t.sent().elixir,[2,new c.Yy(c.Tg.define(e))]}})})()}}),c.t$.of({name:"Lezer",extensions:["grammar"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(8900)]).then(n.bind(n,38900))})];case 1:return[2,(0,e.sent().lezer)()]}})})()}}),c.t$.of({name:"Nix",extensions:["nix"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(938)]).then(n.bind(n,80938))})];case 1:return[2,(0,e.sent().nix)()]}})})()}}),c.t$.of({name:"GraphQL",extensions:["graphql","gql"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(8626),n.e(7118)]).then(n.bind(n,57118))})];case 1:return[2,(0,e.sent().graphqlLanguageSupport)()]}})})()}}),c.t$.of({name:"DotReplit",filename:/^\.replit$/,load:function(){return(0,s._)(function(){var e;return(0,u.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(3562).then(n.bind(n,3562))})];case 1:return e=t.sent().toml,[2,new c.Yy(c.Tg.define(e))]}})})()}}),c.t$.of({name:"Solidity",extensions:["sol"],load:function(){return(0,s._)(function(){var e;return(0,u.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(9659).then(n.bind(n,69659))})];case 1:return e=t.sent().solidity,[2,new c.Yy(c.Tg.define(e))]}})})()}}),c.t$.of({name:"Nim",extensions:["nim"],load:function(){return(0,s._)(function(){var e;return(0,u.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(344).then(n.bind(n,30344))})];case 1:return e=t.sent().nim,[2,new c.Yy(c.Tg.define(e()))]}})})()}}),c.t$.of({name:"Basic",extensions:["bas"],load:function(){return(0,s._)(function(){var e;return(0,u.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(2186).then(n.bind(n,92186))})];case 1:return e=t.sent().vbScript,[2,new c.Yy(c.Tg.define(e))]}})})()}}),c.t$.of({name:"Octave",extensions:["m"],load:function(){return(0,s._)(function(){var e;return(0,u.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(6641).then(n.bind(n,26641))})];case 1:return e=t.sent().octave,[2,new c.Yy(c.Tg.define(e))]}})})()}}),c.t$.of({name:"Svelte",extensions:["svelte"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(3272)]).then(n.bind(n,3272))})];case 1:return[2,(0,e.sent().svelte)()]}})})()}}),c.t$.of({name:"CSharp",alias:["C#"],extensions:["cs"],load:function(){return(0,s._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7177)]).then(n.bind(n,27177))})];case 1:return[2,(0,e.sent().csharp)()]}})})()}})].concat((0,l._)(d.e));var h=["codeEditor","history"],g=function(){"use strict";function e(t){if((0,a._)(this,e),this.id=t.id,this.aliases=t.aliases||[],this.name=t.name,this.openWith=null!==(s=t.openWith)&&void 0!==s?s:h,this.defaultPane=null!==(l=this.openWith[0])&&void 0!==l?l:null,this.shortName=t.shortName,this.extensions=t.extensions||void 0,this.files=t.files||void 0,this.filePattern=U(t.filePattern),this.features=null!==(u=t.features)&&void 0!==u?u:{},this.definedFeatures=new Set(Object.keys(this.features)),this.id=this.id.toLowerCase(),this.aliases=this.aliases.map(function(e){return e.toLowerCase()}),this.extensions=null===(n=this.extensions)||void 0===n?void 0:n.map(function(e){return e.toLowerCase()}),this.files=null===(r=this.files)||void 0===r?void 0:r.map(function(e){return e.toLowerCase()}),this.aliases.includes(this.id)||this.aliases.push(this.id),this.aliases.includes(this.name.toLowerCase())||this.aliases.push(this.name.toLowerCase()),this.shortName&&!this.aliases.includes(this.shortName.toLowerCase())&&this.aliases.push(this.shortName.toLowerCase()),this.unassociated=!(null===(i=this.extensions)||void 0===i?void 0:i.length)&&!(null===(o=this.files)||void 0===o?void 0:o.length)&&!this.filePattern,this.codeMirrorLanguage=null,this.openWith.includes("codeEditor")&&"null"!==t.codeMirrorLanguage&&null!==t.codeMirrorLanguage){if(""===t.codeMirrorLanguage)throw Error('Unknown codeMirrorLanguage for "'.concat(this.id,'": (empty string)'));if(t.codeMirrorLanguage){var n,r,i,o,s,l,u,d=c.t$.matchLanguageName(v,t.codeMirrorLanguage);if(!d)throw Error('Unknown codeMirrorLanguage for "'.concat(this.id,'": ').concat(t.codeMirrorLanguage));this.codeMirrorLanguage=d}if(!this.codeMirrorLanguage){var p=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e.aliases[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=c.t$.matchLanguageName(v,a);if(null!==s)return s}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}if(e.extensions){var l=!0,u=!1,d=void 0;try{for(var p,f=e.extensions[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var h=p.value,g=c.t$.matchFilename(v,h);if(null!==g)return g}}catch(e){u=!0,d=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw d}}}if(e.files){var m=!0,U=!1,b=void 0;try{for(var y,E=e.files[Symbol.iterator]();!(m=(y=E.next()).done);m=!0){var S=y.value,C=c.t$.matchFilename(v,S);if(null!==C)return C}}catch(e){U=!0,b=e}finally{try{m||null==E.return||E.return()}finally{if(U)throw b}}}return null}(this);p&&(this.codeMirrorLanguage=p)}}}var t=e.prototype;return t.matchesPath=function(e){return m(e,this)},t.matchesAlias=function(e){return this.aliases.includes(e.toLowerCase())},t.hasFeature=function(e){return this.definedFeatures.has(e)},t.getFeature=function(e){var t;return this.definedFeatures.has(e)&&null!==(t=this.features[e])&&void 0!==t?t:null},e}();function m(e,t){var n,r,i,o,a=e.lastIndexOf("."),s=a>0?e.slice(a).toLowerCase():"",l=e.slice(e.lastIndexOf("/")+1).toLowerCase();return null!==(o=(null===(n=t.extensions)||void 0===n?void 0:n.includes(l))||(null===(r=t.extensions)||void 0===r?void 0:r.includes(s))||(null===(i=t.files)||void 0===i?void 0:i.includes(l))||b(l,t.filePattern)||b(e,t.filePattern))&&void 0!==o&&o}function U(e,t){return e?e instanceof RegExp?e:(0,p.tL)(e,t)||void 0:void 0}function b(e,t){var n=U(t);return!!n&&null!=e.match(n)}function y(e){return e&&(e.extensions&&e.extensions.length>0||e.files&&e.files.length>0||e.filePattern)?e:null}var E=n(39487),S=new(function(){"use strict";function e(){(0,a._)(this,e),this.types=new Set,this.allIds=new Set,this.aliasesToType=new Map,this.extensionsToType=new Map,this.filesToType=new Map}var t=e.prototype;return t.register=function(e){if(!(e instanceof g&&this.types.has(e))){var t=e instanceof g?e:new g(e);if(this.allIds.has(t.id))throw Error('File type with id "'.concat(t.id,'" already exists'));this.types.add(t),this.allIds.add(t.id);var n=!0,r=!1,i=void 0;try{for(var o,a=t.aliases[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.aliasesToType.get(s);if(l)throw Error('File type "'.concat(t.id,'" has alias "').concat(s,'" that already exists on file type "').concat(l.id,'"'));this.aliasesToType.set(s,t)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}if(t.extensions){var u=!0,c=!1,d=void 0;try{for(var p,f=t.extensions[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var v=p.value,h=this.extensionsToType.get(v);if(h)throw Error('File type "'.concat(t.id,'" is overriding extension "').concat(v,'" from "').concat(h.id,'"'));this.extensionsToType.set(v,t)}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}}if(t.files){var m=!0,U=!1,b=void 0;try{for(var y,E=t.files[Symbol.iterator]();!(m=(y=E.next()).done);m=!0){var S=y.value,C=this.filesToType.get(S);if(C)throw Error("File type ".concat(t.id,' is overriding file "').concat(S,'" from "').concat(C.id,'"'));this.filesToType.set(S,t)}}catch(e){U=!0,b=e}finally{try{m||null==E.return||E.return()}finally{if(U)throw b}}}}},t.has=function(e){var t=e.toLowerCase();if(this.aliasesToType.has(t)||this.extensionsToType.has(t)||this.filesToType.has(t))return!0;var n=!0,r=!1,i=void 0;try{for(var o,a=this.types[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)if(o.value.matchesPath(e))return!0}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1},t.from=function(e){var t=e.toLowerCase(),n=this.aliasesToType.get(t);if(n)return n;var r=this.extensionsToType.get(t);if(r)return r;var i=this.filesToType.get(t);if(i)return i;var o=!0,a=!1,s=void 0;try{for(var l,u=this.types[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c.matchesPath(e))return c}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return null},t.filterByFeature=function(t,n){var r=new e,i=!0,o=!1,a=void 0;try{for(var s,l=this.types[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=u.getFeature(t);null!==c&&(!n||n(c))&&r.register(u)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return r},t[Symbol.iterator]=function(){return this.types.values()},(0,E._)(e,[{key:"ids",get:function(){return Array.from(this.allIds)}},{key:"size",get:function(){return this.types.size}}]),e}());function C(e,t){var n=y(t.fileTypeAttrs);return!n&&(null==t?void 0:t.language)&&(n=S.from(t.language)),!!(n&&m(e,n))}var Z=!0,_=!1,x=void 0;try{for(var A,w=Object.entries(o)[Symbol.iterator]();!(Z=(A=w.next()).done);Z=!0){var I=(0,i._)(A.value,2),k=I[0],O=I[1];S.register((0,r._)({id:k},O))}}catch(e){_=!0,x=e}finally{try{Z||null==w.return||w.return()}finally{if(_)throw x}}},1979:(e,t,n)=>{function r(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{globstar:!0,extended:!0},r=String(e),i="",o=!!n&&!!n.extended,a=!!n&&!!n.globstar,s=!1,l=n&&"string"==typeof n.flags?n.flags:"",u=0,c=r.length;u<c;u++)switch(t=r[u]){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":i+="\\"+t;break;case"?":if(o){i+=".";break}case"[":case"]":if(o){i+=t;break}case"{":if(o){s=!0,i+="(";break}case"}":if(o){s=!1,i+=")";break}case",":if(s){i+="|";break}i+="\\"+t;break;case"*":for(var d=r[u-1],p=1;"*"===r[u+1];)p++,u++;var f=r[u+1];a?p>1&&("/"===d||void 0===d)&&("/"===f||void 0===f)?(i+="((?:[^/]*(?:/|$))*)",u++):i+="([^/]*)":i+=".*";break;default:i+=t}l&&~l.indexOf("g")||(i="^"+i+"$");try{return new RegExp(i,l)}catch(e){return null}}n.d(t,{F3:()=>a,tL:()=>r,jc:()=>i.A});var i=n(76091),o=n(78542),a=function(){"use strict";function e(t){(0,o._)(this,e),this.callback=t,this.handle=null,this.running=!1,this.stop=this.stop.bind(this)}var t=e.prototype;return t.start=function(){var e=this;if(!this.running){this.running=!0;var t=performance.now(),n=function(r){if(e.running){var i=r-t;t=r,e.callback(i/1e3,e.stop),e.running&&(e.handle=requestAnimationFrame(n))}};this.handle=requestAnimationFrame(n)}},t.stop=function(){this.running=!1,null!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=null)},e}()},76091:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(13454),i=n(5482);function o(){return(o=(0,r._)(function(e){return(0,i.YH)(this,function(t){return[2,new Promise(function(t){return setTimeout(t,e)})]})})).apply(this,arguments)}function a(e){return s.apply(this,arguments)}function s(){return(s=(0,r._)(function(t){var n,r,s=arguments;return(0,i.YH)(this,function(i){switch(i.label){case 0:if((n=s.length>1&&void 0!==s[1]?s[1]:1)>5)throw Error("Failed to load module: ".concat(e));i.label=1;case 1:return i.trys.push([1,2,,4]),[2,t()];case 2:if((r=i.sent())instanceof Error&&"ChunkLoadError"!==r.name)throw r;return[4,function(e){return o.apply(this,arguments)}(Math.random()*(Math.pow(2,n)-1)*1e3)];case 3:return i.sent(),[2,a(t,n+1)];case 4:return[2]}})})).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=(0,r._)(function(e){return(0,i.YH)(this,function(t){return[2,a(e)]})})).apply(this,arguments)}e=n.hmd(e)},66061:(e,t,n)=>{n.d(t,{HJ:()=>u,J2:()=>o,Rj:()=>a,G9:()=>l,q3:()=>d});var r=n(30758),i=n(75362);function o(e,t){var n=(0,r.useMemo)(function(){if(!e)return{subscribe:function(){return function(){}},getSnapshot:function(){return i.NV}};var t=e instanceof i.l$?e:i.cP.from(e),n=i.NV,r=i.NV;return"current"in e&&(n=e.current),e instanceof i.V_&&(n=i.V_.getLastValueEscapeHatch(e)),{subscribe:function(e){var i=t.subscribe({next:function(t){var r=n;n=t,Object.is(r,t)||e()},error:function(t){r=t,e()}});return function(){i.unsubscribe()}},getSnapshot:function(){if(r!==i.NV)throw r;return n}}},[e]),o=(0,r.useSyncExternalStore)(n.subscribe,n.getSnapshot,n.getSnapshot);return o===i.NV?t:o}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,r.useMemo)(e,t),s=o(a,i.NV),l=(0,r.useRef)(n.default);return a&&(s!==i.NV||!1!==n.preserve)?s!==i.NV&&(l.current=s):l.current=n.default,l.current}var s=r.useLayoutEffect;function l(e,t){var n=(0,r.useState)()[1],o=(0,r.useRef)(!1),a=(0,r.useRef)(t),l=(0,r.useRef)(null);if(l.current!==e&&(o.current=!1,a.current=t,l.current=e,e&&e instanceof i.V_)){var u=i.V_.getLastValueEscapeHatch(e);u!==i.NV&&(o.current=!0,a.current=u)}return o.current||a.current===t||(a.current=t),s(function(){if(e)return i.cP.from(e).subscribe({next:function(e){o.current=!0,a.current=e},error:function(e){n(function(){throw e})}})},[e,n]),a}function u(e){var t=(0,r.useRef)(null);return t.current||(t.current=new i.N(e)),t.current}var c=r.useLayoutEffect;function d(e,t){var n=(0,r.useRef)(t),o=(0,r.useState)()[1];c(function(){n.current=t}),(0,r.useEffect)(function(){if(e&&n.current)return i.cP.from(e).subscribe({next:function(e){var t;"function"==typeof n.current?n.current(e):(null===(t=n.current)||void 0===t?void 0:t.next)&&n.current.next(e)},complete:function(){var e;"function"!=typeof n.current&&(null===(e=n.current)||void 0===e?void 0:e.complete)&&n.current.complete()},error:function(e){var t;"function"!=typeof n.current&&(null===(t=n.current)||void 0===t?void 0:t.error)?n.current.error(e):o(function(){throw e})}})},[e,!!t])}},78452:(e,t,n)=>{n.d(t,{B:()=>r});var r={production:"wss://production-ai-chat.replit.com/river",staging:"wss://staging-ai-chat.replit.com/river",development:"ws://127.0.0.1:8000/river"}},89022:(e,t,n)=>{function r(e){return new Map(Object.entries(e))}function i(e,t){return e.includes(t)}function o(e){return function(){return e.forEach(function(e){return null==e?void 0:e()})}}n.d(t,{CP:()=>r,gM:()=>i,xW:()=>o})},80039:(e,t,n)=>{n.d(t,{yz:()=>y,av:()=>Z,Ih:()=>C,vL:()=>m,FZ:()=>E,IZ:()=>S,f:()=>_,eR:()=>b});var r,i,o,a=n(72275),s=n(27189),l=n(89022),u=n(54867),c=function(e){return e.EgressGoval_10Gib="egress_goval_10_gib",e.EgressGoval_50Gib="egress_goval_50_gib",e.EgressGoval_100Gib="egress_goval_100_gib",e.EgressGoval_500Gib="egress_goval_500_gib",e.EgressGoval_1000Gib="egress_goval_1000_gib",e}({}),d=function(e){switch(e){case"egress_goval_10_gib":return 10;case"egress_goval_50_gib":return 50;case"egress_goval_100_gib":return 100;case"egress_goval_500_gib":return 500;case"egress_goval_1000_gib":return 1e3;default:(0,u.A)(e)}},p=function(e){return 10*d(e)},f=/^[0-9a-zA-Z-]+$/,v=/^[0-9a-zA-Z]{2,28}$/,h=/^[0-9a-zA-Z-]{1,100}$/,g=n(80470),m=(i={"always-on":20,private:500,ghostwriter:1e3,gpu:375,"neon-database-preview":100,egress:10},(0,a._)(i,c.EgressGoval_10Gib,p(c.EgressGoval_10Gib)),(0,a._)(i,c.EgressGoval_50Gib,p(c.EgressGoval_50Gib)),(0,a._)(i,c.EgressGoval_100Gib,p(c.EgressGoval_100Gib)),(0,a._)(i,c.EgressGoval_500Gib,p(c.EgressGoval_500Gib)),(0,a._)(i,c.EgressGoval_1000Gib,p(c.EgressGoval_1000Gib)),(0,a._)(i,"hosting_tier",0),(0,a._)(i,"hosting_tier_e2_micro",20),(0,a._)(i,"hosting_tier_e2_small",40),(0,a._)(i,"hosting_tier_e2_medium",80),(0,a._)(i,"hosting_tier_n1_custom_1_4",165),(0,a._)(i,"hosting_tier_e2_standard_2",330),(0,a._)(i,"hosting_tier_e2_standard_4",660),(0,a._)(i,"storage",g.bR),(0,a._)(i,g.R4.Storage_10Gib,(0,g.GF)(g.R4.Storage_10Gib)),(0,a._)(i,g.R4.Storage_50Gib,(0,g.GF)(g.R4.Storage_50Gib)),(0,a._)(i,g.R4.Storage_100Gib,(0,g.GF)(g.R4.Storage_100Gib)),(0,a._)(i,g.R4.Storage_500Gib,(0,g.GF)(g.R4.Storage_500Gib)),(0,a._)(i,g.R4.Storage_1000Gib,(0,g.GF)(g.R4.Storage_1000Gib)),i);o={},(0,a._)(o,"hosting_tier_e2_micro",{dedicated:!1,vCpu:.25,ram:1,egress:10}),(0,a._)(o,"hosting_tier_e2_small",{dedicated:!1,vCpu:.5,ram:2,egress:20}),(0,a._)(o,"hosting_tier_e2_medium",{dedicated:!1,vCpu:1,ram:4,egress:40}),(0,a._)(o,"hosting_tier_n1_custom_1_4",{dedicated:!0,vCpu:1,ram:4,egress:100}),(0,a._)(o,"hosting_tier_e2_standard_2",{dedicated:!0,vCpu:2,ram:8,egress:200}),(0,a._)(o,"hosting_tier_e2_standard_4",{dedicated:!0,vCpu:4,ram:16,egress:400}),(r=Math).max.apply(r,(0,s._)(Object.values(m)));var U=["newReplModal","cyclesPage","workspace","profile","bounties","tipSurface","account"];function b(e){var t=e.unsanitizedRedirect,n=e.unsanitizedRedirectReplTitle,r=e.unsanitizedRedirectTipSurface;if("workspace"===t)return"string"==typeof n&&n.match(f)?{redirect:"workspace",redirectReplTitle:n}:{redirect:"cyclesPage"};if("tipSurface"===t){if(!r)throw Error("Missing redirectTipSurface for redirect type tipSurface");return"string"==typeof r.username&&r.username.match(v)&&"string"==typeof r.slug&&("repl"===r.surfaceType&&r.slug.match(f)||"theme"===r.surfaceType&&r.slug.match(h))?{redirect:"tipSurface",redirectTipSurface:r}:{redirect:"cyclesPage"}}return(0,l.gM)(U,t)?{redirect:t}:{redirect:"cyclesPage"}}var y=.01,E=function(e){return(1*e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})},S=function(e){return 1*e},C=150,Z=1e6;function _(e){return e>=C&&e<=Z}new Date("2024-02-09T00:00:00.000Z").toLocaleDateString("en-US",{month:"long",day:"numeric"})},8482:(e,t,n)=>{function r(e){var t=e.toString();return t.endsWith("/")?t.slice(0,-1):t}function i(e){if(o(e))throw Error("Absolute paths are not allowed, got: ".concat(e));if(e.startsWith("~/"))throw Error("Tilde paths are not allowed, got: ".concat(e));return"."===e||"./"===e||""===e?".":e.startsWith("./")?r(e.slice(2)):r(e)}function o(e){return e.startsWith("/")}function a(e){var t;return null!==(t=r(e.toString()).split("/").pop())&&void 0!==t?t:""}function s(e){if(u(e))throw Error("Cannot get parent path of root path");return i(e.toString().split("/").slice(0,-1).join("/"))}function l(e){for(var t=e.toString().split("/"),n=["."],r=0;r<t.length;r++){var o=t.slice(0,r+1).join("/");n.push(i(o))}return n}function u(e){return"."===e}function c(e,t){if(e===t)return!1;if(u(e))return!0;if(u(t))return!1;var n=e.toString();return t.toString().startsWith(n+"/")}function d(e,t){if(!c(e,t))return!1;if(u(e))return!0;var n=e.toString();return t.toString().split("/").length-n.split("/").length==1}function p(e,t){return u(e)?i(t.toString()):i("".concat(e,"/").concat(t))}function f(e,t,n){if(!c(e,n))throw Error("Path is not a descendant of old ancestor path");if(u(e))return p(t,a(n));var r=n.toString();if(u(t))return i(r.replace("".concat(e.toString(),"/"),""));var o=e.toString(),s=t.toString();return i(r.replace(o+"/",s+"/"))}n.d(t,{B$:()=>s,NE:()=>p,Yq:()=>a,Z1:()=>o,aO:()=>d,fG:()=>c,jX:()=>u,ju:()=>f,mc:()=>i,q:()=>l})},53654:(e,t,n)=>{n.d(t,{Ag:()=>Z,yh:()=>C,J:()=>v,an:()=>d,WP:()=>f,P7:()=>u,_6:()=>h,jP:()=>p,Go:()=>l,Zy:()=>E,P1:()=>g,e$:()=>b,FN:()=>c,m6:()=>U,rb:()=>m,Z7:()=>y});var r=n(26196),i=["zip","gz","tgz","tar","rar","7z"],o=n(35212),a=n(61766),s=n(19327);function l(e){var t;return t=d(e),i.includes(t)}function u(e){return o.A.get(d(e).toLowerCase())}function c(e){return!e.endsWith(".ts")&&!!u(e)}function d(e){return(0,r.extname)(e).slice(1)}n(14733);var p=function(e){return e.split("/").length};function f(e){return e.split("/").pop()}function v(e){return f(e).split(".")[0]}function h(e){return e.split("/").slice(0,-1).join("/")}function g(e){return e.endsWith(".draw")}function m(e){return e.endsWith(".pedit")||e.endsWith(".kbmsprite")}function U(e){return!(m(e)||g(e)||c(e)||l(e))}function b(e){return e.endsWith(".md")}function y(e){return e.endsWith(".svg")}function E(e){return e.endsWith(".csv")}var S=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function C(e,t){return e&&t?S.compare(e,t):0}var Z=function(e){var t=e.sort(function(e,t){var n=p(e.path);return p(t.path)-n}),n=[];return t.forEach(function(e,r){for(var i=r+1;i<t.length;i++)if(t[i].type===s.pt.Directory&&(0,a.hL)(t[i].path,e.path))return;n.push(e)}),n}},40581:(e,t,n)=>{n.d(t,{QY:()=>i,VL:()=>r,YP:()=>o});var r=function(e){return e.AdminTutorialUpdate="admin-tutorial-update",e.CommunityPost="community-post",e.ProfileImage="profile-image",e.ProfileCoverImage="profile-cover-image",e.OrgProfileImage="org-profile-image",e.TemplateIcon="template-icon",e.ReplIcon="repl-icon",e.ReplCoverImage="repl-cover-image",e.TrainingProfileImage="training-profile-image",e}({}),i="https://icons-util.replit.app/bash.svg",o="https://icons-util.replit.app/bash.svg"},35212:(e,t,n)=>{n.d(t,{A:()=>r});let r=new Map([["pdf","application/pdf"],["3gpp","video/3gpp"],["adp","audio/adpcm"],["au","audio/basic"],["snd","audio/basic"],["mid","audio/midi"],["midi","audio/midi"],["kar","audio/midi"],["rmi","audio/midi"],["mp3","audio/mpeg"],["m4a","audio/mp4"],["mp4a","audio/mp4"],["mpga","audio/mpeg"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["m2a","audio/mpeg"],["m3a","audio/mpeg"],["oga","audio/ogg"],["ogg","audio/ogg"],["spx","audio/ogg"],["s3m","audio/s3m"],["sil","audio/silk"],["uva","audio/vnd.dece.audio"],["uvva","audio/vnd.dece.audio"],["eol","audio/vnd.digital-winds"],["dra","audio/vnd.dra"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["lvp","audio/vnd.lucent.voice"],["pya","audio/vnd.ms-playready.media.pya"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["rip","audio/vnd.rip"],["wav","audio/wave"],["weba","audio/webm"],["aac","audio/x-aac"],["aif","audio/x-aiff"],["aiff","audio/x-aiff"],["aifc","audio/x-aiff"],["caf","audio/x-caf"],["flac","audio/x-flac"],["mka","audio/x-matroska"],["m3u","audio/x-mpegurl"],["wax","audio/x-ms-wax"],["wma","audio/x-ms-wma"],["ram","audio/x-pn-realaudio"],["ra","audio/x-pn-realaudio"],["rmp","audio/x-pn-realaudio-plugin"],["xm","audio/xm"],["exr","image/aces"],["apng","image/apng"],["bmp","image/bmp"],["cgm","image/cgm"],["drle","image/dicom-rle"],["emf","image/emf"],["fits","image/fits"],["g3","image/g3fax"],["gif","image/gif"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["hsj2","image/hsj2"],["ief","image/ief"],["jls","image/jls"],["jp2","image/jp2"],["jpg2","image/jp2"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jpe","image/jpeg"],["jph","image/jph"],["jhc","image/jphc"],["jpm","image/jpm"],["jpx","image/jpx"],["jpf","image/jpx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["ktx","image/ktx"],["png","image/png"],["btif","image/prs.btif"],["pti","image/prs.pti"],["sgi","image/sgi"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["t38","image/t38"],["tif","image/tiff"],["tiff","image/tiff"],["tfx","image/tiff-fx"],["psd","image/vnd.adobe.photoshop"],["azv","image/vnd.airzip.accelerator.azv"],["uvi","image/vnd.dece.graphic"],["uvvi","image/vnd.dece.graphic"],["uvg","image/vnd.dece.graphic"],["uvvg","image/vnd.dece.graphic"],["djvu","image/vnd.djvu"],["djv","image/vnd.djvu"],["sub","image/vnd.dvb.subtitle"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["fbs","image/vnd.fastbidsheet"],["fpx","image/vnd.fpx"],["fst","image/vnd.fst"],["mmr","image/vnd.fujixerox.edmics-mmr"],["rlc","image/vnd.fujixerox.edmics-rlc"],["ico","image/vnd.microsoft.icon"],["dds","image/vnd.ms-dds"],["mdi","image/vnd.ms-modi"],["wdp","image/vnd.ms-photo"],["npx","image/vnd.net-fpx"],["tap","image/vnd.tencent.tap"],["vtf","image/vnd.valve.source.texture"],["wbmp","image/vnd.wap.wbmp"],["xif","image/vnd.xiff"],["pcx","image/vnd.zbrush.pcx"],["webp","image/webp"],["wmf","image/wmf"],["3ds","image/x-3ds"],["ras","image/x-cmu-raster"],["cmx","image/x-cmx"],["fh","image/x-freehand"],["fhc","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["jng","image/x-jng"],["sid","image/x-mrsid-image"],["pic","image/x-pict"],["pct","image/x-pict"],["pnm","image/x-portable-anymap"],["pbm","image/x-portable-bitmap"],["pgm","image/x-portable-graymap"],["ppm","image/x-portable-pixmap"],["rgb","image/x-rgb"],["tga","image/x-tga"],["xbm","image/x-xbitmap"],["xpm","image/x-xpixmap"],["xwd","image/x-xwindowdump"],["3gp","video/3gpp"],["3g2","video/3gpp2"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["jpgv","video/jpeg"],["jpgm","video/jpm"],["mj2","video/mj2"],["mjp2","video/mj2"],["ts","video/mp2t"],["mp4","video/mp4"],["mp4v","video/mp4"],["mpg4","video/mp4"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpe","video/mpeg"],["m1v","video/mpeg"],["m2v","video/mpeg"],["ogv","video/ogg"],["qt","video/quicktime"],["mov","video/quicktime"],["uvh","video/vnd.dece.hd"],["uvvh","video/vnd.dece.hd"],["uvm","video/vnd.dece.mobile"],["uvvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvvs","video/vnd.dece.sd"],["uvv","video/vnd.dece.video"],["uvvv","video/vnd.dece.video"],["dvb","video/vnd.dvb.file"],["fvt","video/vnd.fvt"],["mxu","video/vnd.mpegurl"],["m4u","video/vnd.mpegurl"],["pyv","video/vnd.ms-playready.media.pyv"],["uvu","video/vnd.uvvu.mp4"],["uvvu","video/vnd.uvvu.mp4"],["viv","video/vnd.vivo"],["webm","video/webm"],["f4v","video/x-f4v"],["fli","video/x-fli"],["flv","video/x-flv"],["m4v","video/x-m4v"],["mkv","video/x-matroska"],["mk3d","video/x-matroska"],["mks","video/x-matroska"],["mng","video/x-mng"],["asf","video/x-ms-asf"],["asx","video/x-ms-asf"],["vob","video/x-ms-vob"],["wm","video/x-ms-wm"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wvx","video/x-ms-wvx"],["avi","video/x-msvideo"],["movie","video/x-sgi-movie"],["smv","video/x-smv"]])},37936:(e,t,n)=>{n.d(t,{KH:()=>r,Xp:()=>o,r8:()=>i});var r="/t/",i=3,o=50},61766:(e,t,n)=>{function r(e){return""===e||e.endsWith("/")?e:e+"/"}function i(e,t){return t!==e&&t.startsWith(r(e))}function o(e,t){if(!i(e,t))return!1;var n=r(e),o=t.slice(n.length);return o.endsWith("/")&&(o=o.slice(-1)),!o.includes("/")}function a(e){return""===e||"./"===e?".":e.startsWith("./")?e.slice(2):e}n.d(t,{Fd:()=>a,GG:()=>o,hL:()=>i,me:()=>r})},19097:(e,t,n)=>{n.d(t,{E:()=>o});var r=n(13454),i=n(5482);function o(){return a.apply(this,arguments)}function a(){return(a=(0,r._)(function(){var e,t;return(0,i.YH)(this,function(n){switch(n.label){case 0:return e="0.0.1090",[3,2];case 1:return t=n.sent(),null!=e||(e=null!=t?t:"dev"),[2,e];case 2:if(!e)throw Error("expected PID2_VERSION to be set in prod");return[2,e]}})})).apply(this,arguments)}n(68558),n(65640)},96367:(e,t,n)=>{n.d(t,{Dl:()=>i,ob:()=>o});var r=n(8482),i=(0,r.mc)("."),o=(0,r.mc)(".env");(0,r.mc)(".lesson"),(0,r.mc)(".tutorial")},19327:(e,t,n)=>{n.d(t,{BM:()=>v,Tr:()=>p,dV:()=>l,iC:()=>u,pt:()=>c,sT:()=>s,sn:()=>f,tJ:()=>d});var r=n(78910),i=n(78542),o=n(88708),a=n(54013),s=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.MANUAL_SAVE=1]="MANUAL_SAVE",e}({}),l=function(e){return e.Create="CREATE",e.Move="MOVE",e.Delete="DELETE",e.Modify="MODIFY",e}({}),u=function(e){return e.Local="LOCAL",e.Container="CONTAINER",e}({}),c=function(e){return e.File="FILE",e.Directory="DIRECTORY",e}({}),d=function(e){"use strict";function t(){var e;return(0,i._)(this,t),e=(0,r._)(this,t,arguments),e.name="FileReadError",e.message="could not read the uploaded file",e}return(0,o._)(t,e),t}((0,a._)(Error)),p=function(e){return e.NotFound="NOT_FOUND",e.NotReadable="NOT_READABLE",e.AlreadyExists="ALREADY_EXIST",e.NotDirectory="NOT_DIRECTORY",e.IsDirectory="IS_DIRECTORY",e.InvalidPath="INVALID_PATH",e.DiskQuotaExceeded="DISK_QUOTA_EXCEEDED",e.PermissionDenied="PERMISSION_DENIED",e.FileSystemUnavailable="FileSystemUnavailable",e}({}),f=function(e){return e.Syncing="SYNCING",e.Clean="CLEAN",e}({}),v=function(e){return e.Dirty="DIRTY",e.Syncing="SYNCING",e.Clean="CLEAN",e}({})},14733:(e,t,n)=>{n.d(t,{Ay:()=>a,UC:()=>i,ap:()=>o});var r=n(27189),i=["package.json","package-lock.json","yarn.lock","bun.lockb","node_modules","pnpm-lock.yaml","poetry.lock","pyproject.toml","requirements.txt",".venv",".pythonlibs","uv.lock","go.mod","go.sum","Gemfile","Gemfile.lock","pom.xml","target","Rconfig.json","Rconfig.lock.json","composer.json","composer.lock","vendor",".upm"],o=[".replitignore",".replit","replit.nix"];let a=(0,r._)(i).concat((0,r._)(o))},80470:(e,t,n)=>{n.d(t,{CN:()=>a,GF:()=>d,O8:()=>o,R4:()=>u,RB:()=>s,bR:()=>l});var r,i=n(72275),o=0x40000000,a=0x80000000,s=0xc80000000,l=15,u=function(e){return e.Storage_10Gib="storage_10_gib",e.Storage_50Gib="storage_50_gib",e.Storage_100Gib="storage_100_gib",e.Storage_500Gib="storage_500_gib",e.Storage_1000Gib="storage_1000_gib",e}({}),c=(r={},(0,i._)(r,"storage_10_gib",10),(0,i._)(r,"storage_50_gib",50),(0,i._)(r,"storage_100_gib",100),(0,i._)(r,"storage_500_gib",500),(0,i._)(r,"storage_1000_gib",1e3),r),d=function(e){return c[e]*l}},45038:(e,t,n)=>{n.d(t,{$J:()=>g,uq:()=>v,yk:()=>h});var r=n(78910),i=n(78542),o=n(88708),a=n(27189),s=n(54013),l=n(40174),u=n(49711),c=n(7267),d=n.n(c),p=n(85012),f=n.n(p);l.PR.Set("uuid",function(e){return f()(e)}),l.PR.Set("date-time",function(e){return d()(e)});var v=function(e){return l.ZU.Optional(l.ZU.Union([l.ZU.Null(),e]))},h=function(e){"use strict";function t(e){var n;return(0,i._)(this,t),(n=(0,r._)(this,t)).name="Schema validation error",n.message=e.map(function(e){return"".concat(e.path,": ").concat(e.message)}).join("\n"),n.issues=e,n}return(0,o._)(t,e),t}((0,s._)(Error));function g(e,t){return new h((0,a._)(u.WT.Errors(e,t)))}}}]);
//# sourceMappingURL=1302-8bf66c364b58a2ab.js.map