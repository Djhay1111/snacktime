!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4d8895fe-1eaa-40ca-97c4-2d4b68090b11",e._sentryDebugIdIdentifier="sentry-dbid-4d8895fe-1eaa-40ca-97c4-2d4b68090b11")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"f0223803"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6754],{9863:(e,t,n)=>{"use strict";n.d(t,{A:()=>B});var r=n(20837),i=n(16530),a=n(66622),o=n(27189),l=n(94086),u=n(60049),s=n(30758),c=n(55195),d=n(37729),f=n(29917),p=n(66144),m=n(16608),h=n(37976),v=n(40073),g=n(28648),w=n(27330),b=n(27881),y=n(5387),A=n(81383),x=n(27712),D=n(74312),Y=n(27089),S=n(66562),F=n(91665),k=n(9076),E=n(61754),C=n(63679),_=n(1175),U=n(26190),T=n(32904),L=n(43035),R=n(99655),P=n(82542),z=m.w4.of([{key:"Shift-Enter",run:f.Bn,shift:f.Bn},{key:"ArrowDown",run:(0,d.aU)(!0)},{key:"ArrowUp",run:(0,d.aU)(!1)},{key:"PageDown",run:(0,d.aU)(!0,"page")},{key:"PageUp",run:(0,d.aU)(!1,"page")},{key:"Enter",run:d.$w},{key:"Mod-z",run:f.tN,preventDefault:!0},{key:"Mod-y",run:f.ZS,preventDefault:!0},{key:"Mod-Shift-z",run:f.ZS,preventDefault:!0}]),I=m.w4.of([{key:"Enter",run:f.Bn,shift:f.Bn}]);let B=(0,s.forwardRef)(function(e,t){var n,d,f,B,N,H,M,O,W,V,j,Z,K,q,G,$,Q,J=e.elementRef,X=e.initialDoc,ee=e.fontSize,et=e.readOnly,en=e.extensions,er=e.initializing,ei=e.loading,ea=e.onException,eo=(0,i._)(e,["elementRef","initialDoc","fontSize","readOnly","extensions","initializing","loading","onException"]),el=(0,a._)((0,s.useState)(null),2),eu=el[0],es=el[1],ec=(0,a._)((0,s.useState)(null),2),ed=ec[0],ef=ec[1],ep=(0,s.useRef)(X),em=(0,a._)((0,s.useState)(0),2),eh=em[0],ev=em[1],eg=(0,s.useRef)(eh),ew=(0,s.useCallback)(function(){ev(function(e){if(e-eg.current>=5)throw Error("CodeMirror error refresh loop detected");return e+1})},[]);(0,s.useEffect)(function(){var e=setTimeout(function(){eg.current=eh},1e3);return function(){return clearTimeout(e)}},[eh]),(0,s.useImperativeHandle)(t,function(){return{view:eu,dom:ed}},[eu,ed]),(0,A.vO)();var eb=(0,U.A)(null!=ea?ea:A.oB),ey=(d=(n={fontSize:ee,readOnly:et,extensions:en,initializing:er,loading:ei}).fontSize,f=n.readOnly,B=n.extensions,N=n.initializing,H=n.loading,M=(0,u.useRouter)(),O=(0,_.a)(),W=(0,R.Po)(M),V=(0,R.m5)(),j=(0,C._P)({controlName:"flag-editor-root-level-tooltips",logFlagToAnalytics:!1}),Z=(0,A.Im)(B),q=(K=(0,P.D)()).values,G=K.isDarkColorScheme,$=Y.i.use(q,G,d),Q=[x.h.use(f,W,j,!1),D.p.use(f),A.Hf.use(Z),$,S.R.use(!0),w.A.use(N),b.n5.use(H),y.D.use(V)],[p.Nb.highest(E.LI),k.Pb,b.zn,v.T,h.i,O?I:z,F.D].concat((0,o._)(Q)));(0,s.useEffect)(function(){var e,t=function(e){if(eb.current(e),(0,A.Mq)(e)){var t=e instanceof Error?e.message:void 0;c.ZQ({category:"codemirror",message:"Codemirror refresh called",data:{error:t},level:"error"}),ew()}};if(ed){var n=null;try{n=new m.Lz({doc:null!==(e=ep.current)&&void 0!==e?e:void 0,parent:ed,extensions:[m.Lz.exceptionSink.of(t)].concat((0,o._)(ey))})}catch(e){t(e)}return n&&es(n),function(){if(n){es(null);try{n.destroy()}catch(e){t(e)}}}}},[ed,eh]),(0,g.O)(eu);var eA=(0,T.A)(function(){return J?(0,L.P)(ef,J):ef},[J]);return(0,l.FD)(l.FK,{children:[(0,l.Y)("div",(0,r._)({ref:eA},eo)),(0,l.Y)(E.OE,{view:eu})]})})},23118:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var r=n(16608).Lz.contentAttributes.of({autocapitalize:"on"})},89236:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r=n(16608).Lz.contentAttributes.of({autocorrect:"on"})},61465:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(94086),i=n(22510),a=n(74587),o=n(33005),l=n(19169),u=n(30790),s=n(26196),c=Array.prototype.concat,d=function(e){return{recursive:!!e.recursive,bail:e.bail&&e.bail>0?e.bail:1e3}},f=function(e){return c.apply([],e)},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;if(!e||n>=t.bail||!e.isDirectory||!e.createReader)return Promise.resolve([]);var i=null!=r?r:e.name;return new Promise(function(r){e.createReader().readEntries(function(e){return Promise.all(e.map(function(e){var r,a,o,l;return r=e,a=t,o=n,l=i,r.isDirectory?a.recursive?p(r,a,o+1,(0,s.join)(l,r.name)):Promise.resolve([]):new Promise(function(e,t){r.file?r.file(e,t):e(null)}).catch(function(){return null}).then(function(e){return e&&(e.dirPath=(0,s.join)(l,e.name)),e?[e]:[]})})).then(function(e){return r(f(e))})},function(){return r([])})})},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p("function"==typeof e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry?e.webkitGetAsEntry():null,d(t))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=d(t),new Promise(function(n){var r,i;(null==e?void 0:null===(r=e.dataTransfer)||void 0===r?void 0:r.items)?Promise.all(f(e.dataTransfer.items).filter(function(e){return"file"===e.kind}).map(function(e){return m(e,t).then(function(t){if(!t.length){var n=e.getAsFile();t=n?[n]:t}return t})})).then(function(e){return n(f(e))}):(null==e?void 0:null===(i=e.dataTransfer)||void 0===i?void 0:i.files)?n(f(e.dataTransfer.files)):n([])})},v=n(54191);document.addEventListener("drop",function(e){var t;(null===(t=e.dataTransfer)||void 0===t?void 0:t.files.length)&&e.preventDefault()});var g=null,w=null;function b(e){var t=function(e){var t=e.isTouchBackend;if(w&&t)return w;if(g&&!t)return g;var n={dragDropManager:(0,u.b)(function(e){var n=t?(0,l.qi)(e,void 0,{delayTouchStart:500}):(0,a.t2)(e),r=n.handleTopDropCapture;return n.handleTopDropCapture=function(e){var t,i=n.monitor.getItemType();i===o.HTML||i===o.TEXT||i===o.FILE?(n.dropTargetIds=[],null===(t=n.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer),n.enterLeaveCounter.reset()):r.call(n,e),n.currentNativeSource&&(n.currentNativeSource.item.dirContent=h(e,{recursive:!0}))},n})};return t?w=n:g=n,n}({isTouchBackend:(0,v.JD)()});return(0,r.Y)(i.M.Provider,{value:t,children:e.children})}},64279:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var r=n(94086),i=n(52757),a=n(24955),o=(0,i.AH)({backgroundColor:a.LU.outlineDimmest,width:1,flexShrink:0,flexGrow:0});function l(e){var t=e.className;return(0,r.Y)("div",{className:t,css:o})}},74013:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function l(e){return(0,a.FD)(o.Ay,(0,i._)((0,r._)({},e),{children:[(0,a.Y)("path",{fillRule:"evenodd",d:"M12 8.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM9.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0Z",clipRule:"evenodd"}),(0,a.Y)("path",{fillRule:"evenodd",d:"M12 1.5a.75.75 0 0 1 .75.75v.78a9.002 9.002 0 0 1 8.22 8.22h.78a.75.75 0 0 1 0 1.5h-.78a9.002 9.002 0 0 1-8.22 8.22v.78a.75.75 0 0 1-1.5 0v-.78a9.002 9.002 0 0 1-8.22-8.22h-.78a.75.75 0 0 1 0-1.5h.78a9.002 9.002 0 0 1 8.22-8.22v-.78A.75.75 0 0 1 12 1.5Zm.75 3.037a7.503 7.503 0 0 1 6.713 6.713h-.713a.75.75 0 0 0 0 1.5h.713a7.503 7.503 0 0 1-6.713 6.713v-.713a.75.75 0 0 0-1.5 0v.713a7.503 7.503 0 0 1-6.713-6.713h.713a.75.75 0 0 0 0-1.5h-.713a7.502 7.502 0 0 1 6.713-6.713v.713a.75.75 0 0 0 1.5 0v-.713Z",clipRule:"evenodd"})]}))}},73197:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function l(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v10.19l3.72-3.72a.75.75 0 1 1 1.06 1.06l-5 5a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 1 1 1.06-1.06l3.72 3.72V3a.75.75 0 0 1 .75-.75Zm-9 12a.75.75 0 0 1 .75.75v4A1.25 1.25 0 0 0 5 20.25h14A1.25 1.25 0 0 0 20.25 19v-4a.75.75 0 0 1 1.5 0v4A2.75 2.75 0 0 1 19 21.75H5A2.75 2.75 0 0 1 2.25 19v-4a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},84962:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function l(e){return(0,a.FD)(o.Ay,(0,i._)((0,r._)({},e),{children:[(0,a.Y)("path",{fillRule:"evenodd",d:"M19 2.922a2.079 2.079 0 0 0-1.47.608L4.171 16.89 3.07 20.93 7.11 19.83l.859-.86a.75.75 0 1 1 1.06 1.061l-1 1a.75.75 0 0 1-.333.194l-5.5 1.5a.75.75 0 0 1-.92-.921l1.5-5.5a.75.75 0 0 1 .193-.333l13.5-13.5a3.579 3.579 0 0 1 5.06 5.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l4.5-4.5A2.078 2.078 0 0 0 19 2.922Z",clipRule:"evenodd"}),(0,a.Y)("path",{fillRule:"evenodd",d:"M13.938 12.3c-.147-.4-.73-.4-.876 0l-1.004 2.744a.458.458 0 0 1-.298.278l-2.436.746a.446.446 0 0 0 0 .857l2.437.752a.458.458 0 0 1 .297.279l1.005 2.745c.146.399.728.399.875 0l1.004-2.745a.458.458 0 0 1 .297-.278l2.437-.75a.446.446 0 0 0 0-.857l-2.437-.749a.458.458 0 0 1-.297-.278l-1.004-2.745Z",clipRule:"evenodd"})]}))}},10863:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function l(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M2.476 2.463a.75.75 0 0 1 .845-.14l19 9a.75.75 0 0 1 0 1.355l-19 9a.75.75 0 0 1-1.006-.983L6.179 12 2.315 3.305a.75.75 0 0 1 .161-.842ZM7.487 12.75l-2.98 6.706 14.158-6.706H7.487Zm11.178-1.5H7.487l-2.98-6.706 14.158 6.706Z",clipRule:"evenodd"})}))}},63943:(e,t,n)=>{"use strict";n.d(t,{Ni:()=>a,a4:()=>i,fp:()=>o,iY:()=>l});var r=Object.values(n(73966).A.multiplayer);function i(e){var t={};return r.forEach(function(e){t[e]=0}),e.forEach(function(e){t[e.color]++}),Object.keys(t).sort(function(e,n){return t[e]-t[n]})[0]}function a(e){var t=e.sessions.sort(function(e,t){return e.timestamp-t.timestamp}),n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;if(l.activeFile)return l.activeFile}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return null}function o(e,t){var n=t.find(function(t){return t.sessions.some(function(t){return t.id===e})});if(!n)throw Error("Expected user with session ID ".concat(e));return n}function l(e){var t=e.seconds,n=e.nanos;return Number(t||0)+(n||0)/1e9}},73966:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"},brands:{github:"#181717",twitter:"#00A8FF",discord:"#7289DA",facebook:"#3B5998",linkedin:"#0077B5"}}},41056:(e,t,n)=>{"use strict";n.d(t,{A:()=>h,B:()=>v});var r=n(66622),i=n(94086),a=n(30758),o=n(10168),l=n(32842),u=n(84911),s=n(47303),c=n(98541),d=n(40889),f=n(65599),p=n(8367),m=(0,o.x)({label:[l.wp.cursor.pointer,l.wp.color.foregroundDimmer,{"&:hover":[l.wp.color.foregroundDefault]}]});function h(e){var t=(0,u.c)();return(0,i.FD)(p.S,{row:!0,gap:4,align:"center",children:[(0,i.Y)(s.S,{id:t("deep-thinking"),checked:e.isEnabled,onChange:function(t){return e.setIsEnabled(t)},size:"small","aria-labelledby":t("deep-thinking-label")}),(0,i.Y)(f.m_,{tooltip:(0,i.Y)(c.a,{text:"Staff-only",colorway:"warning"}),children:(0,i.Y)(p.S,{tag:"label",htmlFor:t("deep-thinking"),css:m.label,id:t("deep-thinking-label"),children:(0,i.Y)(d.EY,{variant:"small",children:"Think deeply"})})})]})}function v(){var e=(0,r._)((0,a.useState)(!1),2);return{isDeepThinkingEnabled:e[0],setIsDeepThinkingEnabled:e[1]}}},87171:(e,t,n)=>{"use strict";n.d(t,{J:()=>h});var r=n(72275),i=n(20837),a=n(43952),o=n(16530),l=n(94086),u=n(24955),s=n(8367),c=n(14753),d=n(10863),f=n(20376),p=n.n(f),m=(0,u.CK)("SendButton.module.css",["--background-color","--background-color-hover","--size"]);function h(e){var t,n,f,h=e.loading,v=e.variant,g=e.iconOverride,w=e.size,b=(0,o._)(e,["loading","variant","iconOverride","size"]);return(0,l.Y)(s.S,(0,a._)((0,i._)({align:"center",justify:"center",clsx:p().root,style:(f={},(0,r._)(f,m.backgroundColor,"agent"===v?u.LU.accentPrimaryDimmer:u.LU.tealDimmer),(0,r._)(f,m.backgroundColorHover,"agent"===v?u.LU.accentPrimaryDefault:u.LU.tealDefault),(0,r._)(f,m.size,"".concat(null!=w?w:24,"px")),f),tag:"button",alt:null!==(t=b.alt)&&void 0!==t?t:"Send",disabled:null!==(n=b.disabled)&&void 0!==n?n:h},b),{children:g||(0,l.Y)(l.FK,{children:h?(0,l.Y)(c.A,{}):(0,l.Y)(d.A,{})})}))}},47736:(e,t,n)=>{"use strict";n.d(t,{e:()=>g});var r=n(13454),i=n(5482),a=n(94086),o=n(30758),l=n(22846),u=n(10168),s=n(32842),c=n(95235),d=n(8367),f=n(20837),p=n(43952),m=n(42022);function h(e){return(0,a.Y)(m.Ay,(0,p._)((0,f._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M9.75 3A3.75 3.75 0 0 0 6 6.75V15a6 6 0 0 0 12 0V6.75a.75.75 0 0 1 1.5 0V15a7.5 7.5 0 0 1-15 0V6.75a5.25 5.25 0 1 1 10.5 0V15a3 3 0 0 1-6 0V6.75a.75.75 0 1 1 1.5 0V15a1.5 1.5 0 0 0 3 0V6.75A3.75 3.75 0 0 0 9.75 3Z",clipRule:"evenodd"})}))}var v=(0,u.x)({button:[s.wp.color.foregroundDimmer,{"&:hover:not([disabled], [aria-disabled])":s.wp.color.foregroundDefault}]});function g(e){var t,n=e.disabled,u=e.status,s=e.addAttachments,f=e.onInteract,p=(0,o.useRef)(null),m=(0,o.useRef)(null);return(0,a.FD)(d.S,{onClick:function(e){return e.stopPropagation()},children:[(0,a.Y)(c.K0,{alt:"Attach file",size:24,disabled:n||"loading"===u,onClick:function(){null==f||f(),p.current&&p.current.click()},css:v.button,children:(0,a.Y)(h,{})}),(0,a.Y)(l.v,{fileUploadInputRef:p,dirUploadInputRef:m,uploadFiles:(t=(0,r._)(function(e){return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,s(e.files.map(function(e){return{fileName:e.name,file:e}}))];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)})})]})}},57382:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(94086),i=n(24955),a=n(10168),o=n(32842),l=n(64279),u=n(8367),s=(0,a.x)({container:[o.wp.overflowX("auto"),o.wp.flex.row,o.wp.gap(8)],divider:{backgroundColor:i.LU.outlineDimmest}});function c(e){var t=e.detectedUrls,n=void 0===t?[]:t,i=e.fileAttachments,a=void 0===i?[]:i,o=e.className;if(0===n.length&&0===a.length)return null;var c=n.length>0&&a.length>0;return(0,r.FD)(u.S,{css:s.container,className:o,children:[n,c?(0,r.Y)(l.a,{css:s.divider}):null,a]})}},47091:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var r=n(13454),i=n(66622),a=n(5482),o=n(94086),l=n(30758),u=n(73754),s=n(23705),c=n(86587),d=n(39183),f=n(24955),p=n(10168),m=n(3460),h=n(32842),v=n(40172),g=n(31955),w=n(40889),b=n(65599),y=n(8367),A=n(30846),x=n(74894),D=n(91918),Y=(0,p.x)({container:[h.wp.border({color:f.LU.outlineDimmer}),h.wp.borderRadius("container"),h.wp.overflow("hidden")],header:[h.wp.px(8),h.wp.py(0),h.wp.flex.row,h.wp.width("100%")],urlText:[h.wp.truncate,h.wp.maxWidth(2*s.cU-20)],optionsContainer:[h.wp.px(8),h.wp.py(6)],option:[h.wp.reset.button,h.wp.align.center,h.wp.justify.center,h.wp.colWithGap(4),h.wp.p(4),h.wp.borderRadius("container"),h.wp.border({color:f.LU.outlineDefault}),h.wp.width(s.cU),h.wp.height(s.Mw),h.wp.cursor.pointer,{transition:"background-color 0.2s ease, color 0.2s ease",":hover":{backgroundColor:f.LU.backgroundHigher},":hover .option-text":{color:f.LU.foregroundDefault},":hover .option-icon":{color:f.LU.foregroundDefault}}],loadingOption:[h.wp.align.center,h.wp.justify.center,h.wp.p(8),h.wp.borderRadius("container"),h.wp.width(s.cU),h.wp.height(s.Mw),m.S.backgroundPulse(f.LU.backgroundHighest,f.LU.backgroundHigher)],icon:[{color:f.LU.foregroundDimmer,transition:"color 0.2s ease"}],optionText:[h.wp.textAlign.center]});function S(e){var t,n,p=e.url,m=e.addUrlAttachment,h=e.removeUrlAttachment,S=e.onError,F=p.replace(/^https?:\/\//,""),k=(0,u.dI)(),E=(0,i._)((0,l.useState)(!1),2),C=E[0],_=E[1],U=(0,i._)((0,l.useState)(!1),2),T=U[0],L=U[1],R=(0,i._)((0,l.useState)(null),2),P=R[0],z=R[1],I=(0,i._)((0,l.useState)(null),2),B=I[0],N=I[1],H=(0,i._)((0,l.useState)(!1),2),M=H[0],O=H[1],W=(0,l.useRef)(null);(0,l.useEffect)(function(){if(W.current){var e=W.current,t=e.offsetWidth;O(e.scrollWidth>t)}},[F]);var V=(t=(0,r._)(function(){var e,t,n,r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:L(!0),e="content-".concat(Date.now(),".md"),t=(0,c.Vg)(e),a.label=1;case 1:return a.trys.push([1,3,4,5]),m({url:p,file:{path:t,mimeType:"text/markdown",file:new File([],e,{type:"text/markdown"}),isLoading:!0}}),[4,k.getUrlScrapedContent(p)];case 2:return(n=a.sent()).ok&&(r=new File([new Blob([n.payload],{type:"text/markdown"})],e,{type:"text/markdown"}),m({url:p,file:i={path:t,mimeType:"text/markdown",file:r,isLoading:!1}}),N(i)),[3,5];case 3:return a.sent(),S("Error getting text content. Please try again later."),[3,5];case 4:return L(!1),[7];case 5:return[2]}})}),function(){return t.apply(this,arguments)}),j=(n=(0,r._)(function(){var e,t,n,r,i,o,l;return(0,a.YH)(this,function(a){switch(a.label){case 0:_(!0),e="screenshot-".concat(Date.now(),".png"),t=(0,c.Vg)(e),a.label=1;case 1:return a.trys.push([1,,8,9]),m({url:p,file:{path:t,mimeType:"image/png",file:new File([],e,{type:"image/png"}),isLoading:!0}}),[4,k.getUrlScreenshot(p)];case 2:if(!(n=a.sent()).ok)return[3,7];r=n.payload,a.label=3;case 3:return a.trys.push([3,6,,7]),[4,fetch(r)];case 4:if(!(i=a.sent()).ok)throw Error("Failed to fetch image: ".concat(i.status," ").concat(i.statusText));return[4,i.blob()];case 5:return o=new File([a.sent()],e,{type:"image/png"}),m({url:p,file:l={path:t,mimeType:"image/png",file:o,isLoading:!1}}),z(l),[3,7];case 6:return a.sent(),S("Error taking screenshot. Please try again later."),[3,7];case 7:return[3,9];case 8:return _(!1),[7];case 9:return[2]}})}),function(){return n.apply(this,arguments)});return(0,o.FD)(g.ui,{elevated:!0,css:Y.container,children:[(0,o.FD)(g.ui,{row:!0,gap:8,align:"center",css:Y.header,elevated:!0,children:[(0,o.Y)(x.A,{color:f.LU.foregroundDimmest,size:16}),(0,o.Y)(b.m_,{tooltip:p,isDisabled:!M,placement:"top",children:(0,o.Y)(w.EY,{multiline:!1,css:Y.urlText,ref:W,children:F})})]}),(0,o.FD)(y.S,{row:!0,gap:8,css:Y.optionsContainer,justify:"space-between",children:[P?(0,o.Y)(s.m1,{attachment:P,getAttachmentTypeDisclaimer:(0,d.F)({aiName:(0,u.Nn)({capitalizeFirstChar:!0})}),removeAttachment:function(){h(P.path),z(null)},size:"small"},P.path):C?(0,o.Y)(y.S,{css:Y.loadingOption,children:(0,o.Y)(w.EY,{color:"dimmer",variant:"small",css:Y.optionText,children:"Taking screenshot"})}):(0,o.FD)(v.SC,{css:Y.option,onPress:j,children:[(0,o.Y)(D.A,{css:Y.icon,className:"option-icon",size:16}),(0,o.Y)(w.EY,{color:"dimmer",variant:"small",css:Y.optionText,className:"option-text",children:"Take screenshot"})]}),B?(0,o.Y)(s.m1,{attachment:B,getAttachmentTypeDisclaimer:(0,d.F)({aiName:(0,u.Nn)({capitalizeFirstChar:!0})}),removeAttachment:function(){h(B.path),N(null)},size:"small"},B.path):T?(0,o.Y)(y.S,{css:Y.loadingOption,children:(0,o.Y)(w.EY,{color:"dimmer",variant:"small",css:Y.optionText,children:"Getting content"})}):(0,o.FD)(v.SC,{css:Y.option,onPress:V,children:[(0,o.Y)(A.A,{css:Y.icon,className:"option-icon",size:16}),(0,o.Y)(w.EY,{color:"dimmer",variant:"small",css:Y.optionText,className:"option-text",children:"Get text content"})]})]})]})}},23705:(e,t,n)=>{"use strict";n.d(t,{m1:()=>R,Mw:()=>U,cU:()=>T});var r=n(66622),i=n(94086),a=n(30758),o=n(53654),l=n(26352),u=n(72275),s=n(24955),c=n(88966),d=n(10168),f=n(32842),p=n(95235),m=n(31955),h=n(70953),v=n(14753),g=(0,d.x)({button:[f.wp.position.absolute,f.wp.top(-6),f.wp.right(-6)]}),w=(0,d.x)({button:[g.button,(0,c.Li)("negative"),(0,u._)({borderRadius:"50%"},f.$_.canHover,{opacity:0})],uploadingButton:[g.button,(0,c.Li)("grey"),{borderRadius:"50%",backgroundColor:s.LU.backgroundRoot}]});function b(e){var t=e.onRemoveClick,n=e.isLoading,r=e.alt;return t?(0,i.Y)(m.ui,{elevated:!0,children:(0,i.Y)(p.K0,{alt:n?"Uploading...":void 0===r?"Remove attachment":r,size:18,onClick:t,css:n?w.uploadingButton:w.button,disabled:n,"data-attachment-status":n?"uploading":"remove",children:n?(0,i.Y)(v.A,{size:16}):(0,i.Y)(h.A,{size:16})})}):null}var y=n(2298),A=n(40172),x=n(72700),D=n(76985),Y=n(93532),S=n(40889),F=n(65599),k=n(8367),E=n(48729),C=n(20778),_=n(68753),U=52,T=104,L=(0,d.x)({defaultButton:[f.wp.reset.button,y.b.outlined,f.wp.height(77),f.wp.width(130),f.wp.position.relative,f.wp.hover({'[data-attachment-status="remove"]':{opacity:1}}),{':focus-within [data-attachment-status="remove"]':{opacity:1}}],smallButton:[f.wp.reset.button,y.b.outlined,f.wp.height(U),f.wp.width(T),f.wp.position.relative,f.wp.hover({'[data-attachment-status="remove"]':{opacity:1}}),{':focus-within [data-attachment-status="remove"]':{opacity:1}}],tooltipContents:[f.wp.maxWidth("100%"),f.wp.textAlign.center],viewerModalContents:[f.wp.p(16),f.wp.maxHeight("80vh"),f.wp.overflowY("auto")]});function R(e){var t,n,l,u=e.attachment,s=e.removeAttachment,c=e.readFile,d=e.getAttachmentTypeDisclaimer,p=e.imagesDisabledMessage,m=e.size,h=void 0===m?"default":m,v=d(u.mimeType),g=(0,r._)((0,a.useState)(!1),2),w=g[0],y=g[1];n=(null===(t=u.mimeType)||void 0===t?void 0:t.startsWith("image/"))?(0,i.Y)(B,{attachment:u,readFile:c,imagesDisabledMessage:p}):"text/markdown"===u.mimeType?(0,i.Y)(V,{attachment:u,readFile:c,size:h}):(0,i.Y)(z,{attachment:u,getAttachmentTypeDisclaimer:d}),l=(0,o.FN)(u.path)?(0,i.Y)(M,{attachment:u,readFile:c}):"text/markdown"===u.mimeType?(0,i.Y)(Z,{attachment:u,readFile:c}):(0,i.Y)(N,{attachment:u,readFile:c});var x=null!=v?v:p;return(0,i.FD)(i.FK,{children:[(0,i.Y)(A.SC,{onPress:function(){y(!0)},css:"default"===h?L.defaultButton:L.smallButton,children:(0,i.FD)(F.m_,{tooltip:(0,i.FD)(k.S,{css:L.tooltipContents,children:[(0,i.Y)(S.EY,{children:(0,o.WP)(u.path)}),x?(0,i.Y)(S.EY,{css:f.wp.color.orangeStrongest,children:x}):null]}),maxWidth:300,placement:"bottom",css:P.tooltip,children:[n,s?(0,i.Y)(b,{onRemoveClick:function(){return s(u.path)},isLoading:u.isLoading}):null]})}),(0,i.Y)(D.a,{isOpen:w,maxWidth:800,onRequestClose:function(){return y(!1)},centered:!0,children:(0,i.FD)(k.S,{css:L.viewerModalContents,gap:8,children:[(0,i.Y)(S.EY,{variant:"subheadDefault",css:f.wp.textAlign.center,children:(0,o.WP)(u.path)}),l,v?(0,i.Y)(Y.N,{text:v,colorway:"orange",icon:(0,i.Y)(_.A,{size:16})}):null]})})]})}var P=(0,d.x)({tooltip:[f.wp.flex.grow(1)],container:[f.wp.px(8),f.wp.center,f.wp.flex.grow(1)],image:[f.wp.borderRadius(4)],disabledImage:[f.wp.borderRadius(4),{opacity:.3}],fileName:[f.wp.align.center,f.wp.rowWithGap(2)],imageWrapper:[f.wp.flex.grow(1)]});function z(e){var t=e.attachment,n=(0,e.getAttachmentTypeDisclaimer)(t.mimeType);return(0,i.FD)(k.S,{css:P.container,gap:4,children:[(0,i.Y)(x.A,{path:t.path,size:20}),(0,i.FD)(S.EY,{color:"dimmer",multiline:!1,css:P.fileName,children:[n?(0,i.FD)(i.FK,{children:[(0,i.Y)(_.A,{size:16,color:s.LU.orangeStrongest})," "]}):null,(0,o.WP)(t.path)]})]})}function I(e){var t=e.file,n=e.setSrc;if(["image/jpeg","image/png","image/gif","image/webp"].includes(t.type))n(URL.createObjectURL(t));else{var r=new FileReader;r.onload=function(e){var t;(null===(t=e.target)||void 0===t?void 0:t.result)&&n(e.target.result)},r.readAsDataURL(t)}}function B(e){var t=e.attachment,n=e.readFile,o=e.imagesDisabledMessage,l=(0,r._)((0,a.useState)(t.path),2),u=l[0],c=l[1];return(0,a.useEffect)(function(){t.dataUrl?c(t.dataUrl):t.file?I({file:t.file,setSrc:c}):n&&n(t.path).then(function(e){if("content"in e){var n=e.content.toString("base64");c("data:".concat(t.mimeType,";base64,").concat(n))}})},[t,n]),(0,i.FD)(k.S,{css:P.imageWrapper,align:"center",justify:"center",children:[(0,i.Y)(E.A,{src:u,layout:"fill",alt:"Attached Image","aria-label":"Image",objectFit:"cover",css:o?P.disabledImage:P.image}),o?(0,i.Y)(_.A,{size:24,color:s.LU.orangeStrongest}):null]})}function N(e){var t=e.attachment,n=e.readFile,o=(0,r._)((0,a.useState)(null),2),l=o[0],u=o[1];return(0,a.useEffect)(function(){t.dataUrl?fetch(t.dataUrl).then(function(e){return e.text()}).then(function(e){return u(e)}):t.file?t.file.text().then(u):n&&n(t.path).then(function(e){"content"in e&&u(e.content.toString("utf8").slice(0,5e3)+(e.content.length>5e3?"...":""))})},[t.file,n,t]),(0,i.Y)(i.FK,{children:l?(0,i.Y)(S.EY,{css:{whiteSpace:"pre-wrap"},children:l}):(0,i.Y)(v.A,{})})}var H=(0,d.x)({container:[f.wp.center,f.wp.px(8),f.wp.flex.grow(1),f.wp.flex.column],imageWrapper:[f.wp.center,f.wp.width("auto"),f.wp.height("auto"),f.wp.minWidth(200),f.wp.minHeight(200),f.wp.p(16)]});function M(e){var t=e.attachment,n=e.readFile,u=(0,r._)((0,a.useState)(t.path),2),s=u[0],c=u[1];return(0,a.useEffect)(function(){t.dataUrl?c(t.dataUrl):t.file?I({file:t.file,setSrc:c}):n&&n(t.path).then(function(e){if("content"in e){var n=e.content.toString("base64");c((0,l.p4)(n,t.mimeType))}})},[t,n]),(0,i.Y)(k.S,{css:H.container,gap:4,children:(0,i.Y)(k.S,{css:H.imageWrapper,children:(0,i.Y)(l.jM,{src:s,fileName:(0,o.WP)(t.path),mime:t.mimeType})})})}var O=(0,d.x)({container:[f.wp.px(8),f.wp.textAlign.left,f.wp.justify.center,f.wp.align.start,f.wp.flex.grow(1),f.wp.flex.column,f.wp.gap(4),f.wp.backgroundColor.backgroundHigher,f.wp.borderRadius(2)],previewContainer:[f.wp.flex.column,f.wp.flex.grow(1),f.wp.borderRadius(4),f.wp.maxHeight(61),{position:"relative",overflow:"hidden"}],previewContainerSmall:[f.wp.flex.column,f.wp.flex.grow(1),f.wp.borderRadius(4),f.wp.maxHeight(U-16),{position:"relative",overflow:"hidden"}],previewContent:[{pointerEvents:"none",width:"100%",height:"100%",overflow:"hidden","& *":{fontSize:"5px !important",lineHeight:"1.2 !important"},"& p, & h1, & h2, & h3, & h4, & h5, & h6":{margin:"2px 0 !important"},"& code":{padding:"0 2px !important"}}]}),W={a:function(e){return(0,i.FD)(S.EY,{children:["[",e.children,"](",e.href,")"]})},img:function(e){return(0,i.FD)(S.EY,{children:["![",e.alt,"](",e.src,")"]})}};function V(e){var t=e.attachment,n=e.readFile,o=e.size,l=(0,r._)((0,a.useState)(null),2),u=l[0],s=l[1],c=function(e){return e.trim().split("\n").slice(0,50).join(" ").replace(/\s+/g," ").trim()};return(0,a.useEffect)(function(){t.file?t.file.text().then(function(e){s(c(e))}):n&&n(t.path).then(function(e){"content"in e&&s(c(e.content.toString("utf8")))})},[t,n]),(0,i.Y)(k.S,{css:O.container,children:(0,i.Y)(k.S,{css:"default"===(void 0===o?"default":o)?O.previewContainer:O.previewContainerSmall,children:u?(0,i.Y)(k.S,{css:O.previewContent,children:(0,i.Y)(C.Ay,{components:W,children:u})}):(0,i.Y)(v.A,{})})})}var j=(0,d.x)({container:[f.wp.p(8)]});function Z(e){var t=e.attachment,n=e.readFile,o=(0,r._)((0,a.useState)(null),2),l=o[0],u=o[1];return(0,a.useEffect)(function(){t.file?t.file.text().then(u):n&&n(t.path).then(function(e){"content"in e&&u(e.content.toString("utf8"))})},[t,n]),(0,i.Y)(i.FK,{children:l?(0,i.Y)(k.S,{css:j.container,children:(0,i.Y)(C.Ay,{components:W,children:l})}):(0,i.Y)(v.A,{})})}},28175:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(16608),i=new(n(36601)).k(function(e){var t=e.addAttachments,n=e.onAutoAttachedLargePaste;return r.Lz.domEventHandlers({paste:function(e){if(!e.clipboardData)return!1;var r=e.clipboardData.items,i=!1,a=!0,o=!1,l=void 0;try{for(var u,s=r[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value;if(0===c.type.indexOf("image")){e.preventDefault();var d=c.getAsFile();if(d){var f=function(e){if(e){var t=e.lastIndexOf("."),n=-1!==t?e.slice(0,t):e,r=-1!==t?e.slice(t):"";return"".concat(n,"_").concat(Date.now()).concat(r)}return"pasted_".concat(Date.now())}(d.name),p=new File([d],f,{type:c.type}),m={fileName:p.name,file:p};t([m]),i=!0;break}}}}catch(e){o=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw l}}if(i)return!0;var h=e.clipboardData.getData("text");if(h.length<2e3)return!1;e.preventDefault();var v="Pasted-".concat(h.slice(0,100).replace(/[^a-zA-Z0-9-]/g,"-").replace(/-+/g,"-"),"-").concat(Date.now(),".txt"),g=new File([h],v,{type:"text/plain"});return t([{fileName:v,file:g}]),null==n||n(g.size),!0}})})},62623:(e,t,n)=>{"use strict";n.d(t,{fd:()=>Y,Ff:()=>b,Wd:()=>g});var r=n(51297),i=n(28668),a=n(66144),o=n(16608),l=n(80421),u=n.n(l),s=n(83585),c=["py","md"],d=s.filter(function(e){return!c.includes(e)}).map(function(e){return new RegExp("\\.".concat(e.replace(".",""),"$"))}),f=/(https?:\/\/)?[\w~@#$%&+=\-.]+\.[^\s]+/g;function p(e){for(var t,n=[];null!==(t=f.exec(e));){for(var r=t[0];r.length>0&&/[.,!?)]$/.test(r);)r=r.slice(0,-1);u()(r,{host_whitelist:d})&&n.push({url:r,start:t.index,end:t.index+r.length})}return n}var m=n(24955),h=n(30846),v=n(91918);i.UPK.URL_SCREENSHOT,v.A,i.UPK.URL_CRAWL_CONTENT,h.A;var g=a.sU.define({create:function(e){return[]},update:function(e,t){return(0,r.jM)(e,function(e){var n=!0,r=!1,i=void 0;try{for(var a,o=t.effects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)!function(){var t=a.value;if(t.is(w)){var n=t.value;0>e.findIndex(function(e){return e===n})&&e.push(n)}t.is(b)&&e.splice(0,e.length)}()}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}})}}),w=a.Pe.define(),b=a.Pe.define(),y=a.sU.define({create:function(){return o.NZ.none},update:function(e,t){var n=[],r=p(t.state.doc.toString()),i=!0,a=!1,l=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value,d=c.start,f=c.end;n.push(A.range(d,f))}}catch(e){a=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}return o.NZ.set(n)},provide:function(e){return o.Lz.decorations.from(e)}}),A=o.NZ.mark({class:"cm-url-underline"}),x=o.Lz.baseTheme({".cm-url-underline":{textDecoration:"underline 1.5px ".concat(m.LU.blueDefault),textUnderlineOffset:"3px"}}),D=o.Lz.updateListener.of(function(e){if(e.docChanged){var t=p(e.state.doc.toString()),n=e.view,r=n.state.field(g),i=t.map(function(e){return e.url});if(!function(e,t){if(e.length!==t.length)return!1;var n=new Set(e);return t.every(function(e){return n.has(e)})}(r,i)&&(n.dispatch({effects:b.of(null)}),i.length>0)){var a=!0,o=!1,l=void 0;try{for(var u,s=i[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value;n.dispatch({effects:w.of(c)})}}catch(e){o=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw l}}}}}),Y=[y,x,g,D]},78122:(e,t,n)=>{"use strict";n.d(t,{s:()=>eS,A:()=>eU});var r,i=n(72275),a=n(27189),o=n(94086),l=n(30758),u=n(81273),s=n(73754),c=n(37729),d=n(16608),f=n(66144),p=n(36601),m=new p.k(function(e){var t=e.onFirstEdit;return f.sU.define({create:function(){return!1},update:function(e,n){return!e&&n.docChanged&&void 0!==n.annotation(f.ZX.userEvent)?(null==t||t(),!0):e}})}),h=n(23118),v=n(89236),g=n(9076),w=n(9863),b=n(9980),y=n(24392),A=n(26190),x=n(39651),D=n(43035),Y=n(99655),S=n(44087),F=n(47736),k=n(57382),E=n(47091),C=n(23705),_=n(86587),U=n(34420),T=n(97285),L=new p.k(function(e){return e?d.Lz.updateListener.of(function(t){if(t.docChanged){var n=t.state.doc.toString();T.A.set(e,n)}}):[]}),R=n(35504),P=n(39183),z=n(66061),I=n(78542),B=n(98251),N=n(75362),H=n(16170),M=n(92517),O=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,I._)(this,e),this.isSupported=n,this.events=new N.V_(function(e){if(t.isSupported){var n=function(t){return(0,H.$Z)(t,function(t){return e.next(t.result)})};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}}),this.transcript=new N.V_(function(e){return t.events.subscribe(function(t){"update"===t.event&&e.next(t.transcript)})}),this.isTranscribing=new N.V_(function(e){return t.events.subscribe(function(t){switch(t.event){case"update":case"start":e.next(!0);break;default:e.next(!1)}})}),this.isSupported=n}return e.prototype.requestAction=function(e){if(this.isSupported){var t={messageType:M.tF.REQUEST_SPEECH_TO_TEXT_ACTION,action:e};(0,H._z)(t,(0,B.Ak)())}},e}(),W=n(24955),V=n(8367),j=n(20837),Z=n(43952),K=n(42022);function q(e){return(0,o.Y)(K.Ay,(0,Z._)((0,j._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M9.776.978A3.75 3.75 0 0 1 15.75 4V9.34a.75.75 0 0 1-1.5 0V4a2.25 2.25 0 0 0-4.455-.45.75.75 0 1 1-1.47-.3A3.75 3.75 0 0 1 9.775.979ZM.47.47a.75.75 0 0 1 1.06 0l22 22a.75.75 0 1 1-1.06 1.06l-5.518-5.517a7.75 7.75 0 0 1-4.202 1.752v2.485H16a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1 0-1.5h3.25v-2.485a7.75 7.75 0 0 1-7-7.768V10a.75.75 0 0 1 1.5 0v2.005a6.25 6.25 0 0 0 10.136 4.941l-1.82-1.82a3.75 3.75 0 0 1-5.816-3.125V9.31L.47 1.53A.75.75 0 0 1 .47.47Zm9.28 10.34V12a2.25 2.25 0 0 0 3.218 2.028L9.75 10.811ZM19 9.25a.75.75 0 0 1 .75.75v2c0 .457-.041.913-.122 1.362a.75.75 0 1 1-1.476-.264c.065-.363.098-.73.098-1.099V10a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}function G(e){return(0,o.Y)(K.Ay,(0,Z._)((0,j._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M9.348 1.348A3.75 3.75 0 0 1 15.75 4v8a3.75 3.75 0 0 1-7.5 0V4a3.75 3.75 0 0 1 1.098-2.652ZM12 1.75A2.25 2.25 0 0 0 9.75 4v8a2.25 2.25 0 0 0 4.5 0V4A2.25 2.25 0 0 0 12 1.75Zm-7 7.5a.75.75 0 0 1 .75.75v2a6.25 6.25 0 0 0 12.5 0v-2a.75.75 0 0 1 1.5 0v2a7.75 7.75 0 0 1-7 7.714v2.536H16a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1 0-1.5h3.25v-2.536a7.75 7.75 0 0 1-7-7.714v-2A.75.75 0 0 1 5 9.25Z",clipRule:"evenodd"})}))}var $=n(79376),Q=n.n($),J=(0,W.CK)("SpeechToTextButton.module.css",["--mic-color"]);function X(e){var t,n=e.disabled,r=e.getCurrentText,a=e.onUpdateText,u=(0,l.useRef)(null),s=(0,l.useRef)(""),c=(0,Y.Dr)("speechRecognition"),d=(t=(0,Y.Dr)("speechRecognition"),(0,l.useRef)(new O(t)).current),f=(0,z.J2)(d.isTranscribing);return((0,l.useEffect)(function(){return d.events.subscribe(function(e){switch(e.event){case"start":s.current=r();break;case"update":a(s.current+" "+e.transcript)}})}),(0,l.useEffect)(function(){(0,S.U)(u,(0,i._)({},J.micColor,f?W.LU.redDefault:W.LU.foregroundDimmer))},[f]),!c||n)?null:(0,o.Y)(V.S,{innerRef:u,clsx:Q().root,onClick:function(){return d.requestAction(f?"stopTranscription":"startTranscription")},children:f?(0,o.Y)(q,{}):(0,o.Y)(G,{})})}var ee=n(79261),et=n(41056),en=n(87171),er=n(88456),ei=n(15145),ea=n(30989),eo=n(66622),el=n(13454),eu=n(5482),es=n(82436),ec=n(95235),ed=n(84962),ef=n(14753),ep=n(29567);function em(e){var t,n,r,i=(t=({view:e.view}).view,n=(0,s.dI)(),{onUndo:function(e){null==t||t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e}})},onEnhance:(r=(0,el._)(function(){var e,r,i,a;return(0,eu.YH)(this,function(o){switch(o.label){case 0:return r=null!==(e=null==t?void 0:t.state.doc.toString())&&void 0!==e?e:"",[4,n.enhancePrompt(r)];case 1:if(!(i=o.sent()).ok||!(a=i.payload))throw Error("Failed to generate prompt");return null==t||t.dispatch({changes:{from:0,to:t.state.doc.length,insert:a.trimStart().trimEnd()}}),(0,es.u4)(es.AZ.AI_ENHANCE_PROMPT_USED,{action:"prompt_enhanced",originalPrompt:r,generatedPrompt:a}),[2,r]}})}),function(){return r.apply(this,arguments)})}),a=i.onUndo,u=i.onEnhance,c=(0,eo._)((0,l.useState)(null),2),d=c[0],f=c[1],p=(0,eo._)((0,l.useState)({type:"waiting"}),2),m=p[0],h=p[1];return(0,o.FD)(V.S,{row:!0,gap:4,align:"center",children:[null!==d?(0,o.Y)(ec.K0,{alt:"Undo",disabled:e.loading,onClick:function(){f(null),a(d)},children:(0,o.Y)(ep.A,{})}):null,(0,o.Y)(ec.K0,{alt:"Improve prompt",tooltipContents:"Improve prompt",disabled:e.isDisabled||"waiting"!==m.type,onClick:function(){h({type:"generating"}),u().then(function(e){return f(e)}).finally(function(){return h({type:"waiting"})})},children:(0,o.Y)(function(){return"generating"===m.type?(0,o.Y)(ef.A,{}):(0,o.Y)(ed.A,{})},{})})]})}var eh=n(28175),ev=n(62623),eg=n(88966),ew=n(10168),eb=n(2298),ey=n(1478),eA=n(32842),ex=n(31955),eD=n(65599),eY=n(10863),eS="Message Agent…",eF=(0,ey.v)(["borderColor","hoverBorderColor","focusedBorderColor"]),ek=eF.cssVars,eE=eF.styleTokens,eC=(0,ew.x)({wrapper:[eA.wp.position.relative,eA.wp.minHeight("fit-content"),{display:"grid",gridTemplate:"1fr / 1fr","& > *":{gridArea:"1 / 1"}}],surface:[eb.b.filledAndOutlined,eA.wp.borderRadius(6),eA.wp.flex.growAndShrink(1),eA.wp.p(4),{rowGap:W.LU.space4,borderColor:eE.borderColor,display:"flex",flexDirection:"column","&[disabled], &[aria-disabled]":{"& .cm-editor":{opacity:.5}},"@media (hover: hover)":{":not([disabled], [aria-disabled])":{cursor:"text"}},"&:hover:not([disabled], [aria-disabled]):hover":{borderColor:eE.hoverBorderColor},"&:focus-within:not([disabled], [aria-disabled])":{borderColor:eE.focusedBorderColor}}],inputWrapper:[eA.wp.flex.growAndShrink(1)],codemirror:[eA.wp.display.flex,eA.wp.flex.grow(1),eA.wp.overflow("auto"),eA.wp.maxHeight(300),{"& .cm-editor":[eA.wp.flex.grow(1)]}],attachments:[eA.wp.px(4),eA.wp.py(6)],sendDisabled:[(0,eg.Li)("grey"),{pointerEvents:"none",cursor:"default",":hover":{pointerEvents:"none"}}],sendEnabled:[(0,eg.Li)("primary")],primaryButtonGroup:[eA.wp.pb(2),eA.wp.height(32)],primaryButtonGroupRight:[eA.wp.pr(2),eA.wp.align.center],submitButton:[eA.wp.borderRadius()],overlayBackground:[eA.wp.borderRadius(4),eA.wp.minHeight("100%"),eA.wp.height("fit-content"),{backgroundColor:W.LU.backgroundDefault,zIndex:1,display:"flex",flexDirection:"column"}],overlayContent:[eA.wp.display.flex,eA.wp.flex.column,eA.wp.align.center,eA.wp.justify.center,eA.wp.p(24),eA.wp.height("100%"),eA.wp.flex.grow(1),{pointerEvents:"auto"}]}),e_=d.Lz.theme((r={"&":{flexGrow:1},"& .cm-content":{fontFamily:W.LU.fontFamilyDefault}},(0,i._)(r,"& .".concat(y.Fb),{display:"none"}),(0,i._)(r,"& .cm-cursor",{borderLeftColor:W.LU.foregroundDefault,borderLeftWidth:"1px"}),r));function eU(e){var t,n,r,c,f,p,y,z,I,B,N,H=(0,b.A)(),M=H.ref,O=H.view,j=(0,u.wR)(),Z=(0,Y.m5)(),K=null!==(y=e.status)&&void 0!==y?y:"composing",q=(0,g.Vn)(O,ei.Im),G=(0,x.A)().showError,$=(0,ei.hk)({text:null!==(z=e.placeholderText)&&void 0!==z?z:eS,disableAnimation:e.disablePlaceholderAnimation}),Q=er.bZ.use(2e3),J=(t=e.persistenceKey,(0,l.useEffect)(function(){if(!(!t||(null==O?void 0:O.state.doc.toString()))){var e=T.A.get(t,"string");if(e){if(!O)return;O.dispatch({changes:{from:0,to:O.state.doc.length,insert:e}})}}},[t,O]),{persistPromptDraftCompartment:L.use(t),clearPersistedPromptDraft:function(){t&&T.A.remove(t)}}),eo=J.persistPromptDraftCompartment,el=J.clearPersistedPromptDraft,eu=(0,R.e)(),es=(0,_.Ay)({sessionId:e.sessionId,uploadFiles:e.uploadFiles,onError:function(e){G(e)}}),ed=es.attachments,ep=es.urlAttachments,eg=es.removeAttachment,ew=es.addAttachments,eb=es.addUrlAttachment,ey=es.removeUrlAttachment,eA=es.clearAttachments,eF=es.isLoading,eE=null!==(I=(0,g.Vn)(O,ev.Wd))&&void 0!==I?I:[],eU=(0,l.useCallback)(function(e){O&&O.dispatch(O.state.update({changes:{from:0,to:O.state.doc.length,insert:e}}))},[O]),eL=(0,U.A)({addAttachments:ew}),eR=eL.isDraggedOver,eP=eL.drop,ez=(0,et.B)(),eI=ez.isDeepThinkingEnabled,eB=ez.setIsDeepThinkingEnabled,eN=e.requireTextToSubmit&&q||q&&0===ed.length&&"composing"===K||"loading"===K||e.isSubmitDisabled||!!e.disabled||eF,eH=eF?"Please wait for files to finish uploading":e.submitDisabledReason,eM=e.onUpsell,eO=e.onSubmit,eW=e.disableClearOnSubmit,eV=(0,l.useCallback)(function(){if(eN||!O){e.isSubmitDisabled&&eM&&eM();return}var t=O.state.doc.toString();el(),eO(t,(0,a._)(ed).concat((0,a._)(ep.map(function(e){return e.file}))),[],eI),eW||(eA(),O.dispatch({effects:ev.Ff.of(null)}),O.dispatch({changes:{from:0,to:O.state.doc.length}}))},[eN,eM,O,el,e.isSubmitDisabled,eO,ed,eW,eA,eI,ep]),ej=(0,A.A)(eV),eZ=eT.use({onSubmit:(0,l.useCallback)(function(){return ej.current()},[ej]),preventSubmitOnEnter:e.preventSubmitOnEnter}),eK=(r=(n={view:O,setPromptEditor:e.inputRef}).view,c=n.setPromptEditor,f=(0,l.useRef)(null),p=(0,A.A)(c),(0,l.useEffect)(function(){if(r&&p.current){var e=p.current;return e({setValue:function(e){r.state.doc.toString()!==e&&(r.dispatch({changes:{from:0,to:r.state.doc.length,insert:e}}),requestAnimationFrame(function(){var e=r.state.doc.lines,t=r.state.doc.line(e).from;r.dispatch({effects:d.Lz.scrollIntoView(t,{y:"end"})})}))},getValue:function(){return r.state.doc.toString()},focus:function(){r.focus(),r.dispatch({selection:{anchor:r.state.doc.length}})},animatePlaceholder:function(){r.dispatch({effects:ei.om.of(!0)}),(0,S.U)(f,"border-color",W.LU.accentPrimaryDefault),setTimeout(function(){requestAnimationFrame(function(){var e;null===(e=f.current)||void 0===e||e.style.removeProperty("border-color")})},60),r.focus()}}),function(){e(null)}}},[r,p]),f),eq=eh.U.use({addAttachments:ew,onAutoAttachedLargePaste:function(t){(0,ee.pI)({action:"auto_attached_large_paste",fileSize:t,sessionId:e.sessionId})}}),eG=m.use({onFirstEdit:function(){var t;null===(t=e.onFirstEdit)||void 0===t||t.call(e)}}),e$=(0,l.useCallback)(function(e){(0,D.P)(eP,eK)(e)},[eP,eK]);return(0,o.FD)(V.S,{css:eC.wrapper,children:[(0,o.FD)(ex.ui,{css:eC.surface,innerRef:e$,gap:4,style:(N={},(0,i._)(N,ek.borderColor,eR?W.LU.accentPrimaryDefault:W.LU.outlineDimmer),(0,i._)(N,ek.focusedBorderColor,W.LU.accentPrimaryDefault),(0,i._)(N,ek.hoverBorderColor,W.LU.accentPrimaryDefault),N),"aria-hidden":!e.overlay,"aria-disabled":!!e.disabled||void 0,inert:e.overlay?"true":void 0,onClick:function(e){e.target===e.currentTarget&&(null==O||O.focus())},children:[null!==(B=e.header)&&void 0!==B?B:null,(0,o.FD)(V.S,{css:eC.inputWrapper,gap:4,children:[(0,o.Y)(k.A,{css:eC.attachments,detectedUrls:eE.map(function(e){return(0,o.Y)(E.A,{url:e,addUrlAttachment:eb,removeUrlAttachment:ey,onError:G},e)}),fileAttachments:ed.map(function(e){return(0,o.Y)(C.m1,{attachment:e,removeAttachment:eg,getAttachmentTypeDisclaimer:(0,P.F)({aiName:(0,s.Nn)({capitalizeFirstChar:!0})})},e.path)})}),j?(0,o.Y)(V.S,{style:{minHeight:e.minHeight?"".concat(e.minHeight,"px"):void 0}}):(0,o.Y)(w.A,{"data-chromatic":"ignore",ref:M,css:eC.codemirror,style:{minHeight:e.minHeight?"".concat(e.minHeight,"px"):void 0,maxHeight:e.maxHeight?e.maxHeight:void 0,cursor:e.disabled?"default":void 0},fontSize:14,readOnly:e.disabled,extensions:[e_,eZ,eq,$,er.tP,Q,eo,v.r,h.N,eG,e.disableUrlDetectionFeature||eu?[]:ev.fd],id:"ai-prompt-input","data-cy":"ai-prompt-input"})]}),(0,o.FD)(V.S,{row:!0,gap:4,css:eC.primaryButtonGroup,justify:"space-between",align:"end",onClick:function(e){e.target===e.currentTarget&&(null==O||O.focus())},children:[(0,o.FD)(V.S,{row:!0,gap:Z?12:4,align:"center",children:[(0,o.Y)(ex.ui,{elevated:!0,children:(0,o.Y)(F.e,{disabled:e.disabled,status:K,addAttachments:ew})}),(0,o.Y)(X,{getCurrentText:function(){var e;return null!==(e=null==O?void 0:O.state.doc.toString())&&void 0!==e?e:""},onUpdateText:eU}),e.showVisualSelector?(0,o.Y)(ex.ui,{elevated:!0,children:(0,o.Y)(ea.G,{})}):null,(0,o.Y)(ex.ui,{elevated:!0,children:e.debugButton})]}),(0,o.FD)(V.S,{css:eC.primaryButtonGroupRight,row:!0,gap:8,children:[e.feedbackButton,e.showDeepThinkingControl?(0,o.Y)(ex.ui,{elevated:!0,children:(0,o.Y)(et.A,{isEnabled:eI,setIsEnabled:eB})}):null,e.showEnhanceButton&&O?(0,o.Y)(ex.ui,{elevated:!0,children:(0,o.Y)(em,{isDisabled:e.disabled||null==q||q,view:O})}):null,Z&&!e.renderCustomSubmitButton?(0,o.Y)(en.J,{loading:"loading"===K,variant:"agent",alt:"composing"===K?"Send":"Loading…",disabled:eN,onClick:eV,dataCy:"ai-prompt-submit"}):(0,o.Y)(ex.ui,{elevated:!0,css:eC.submitButton,children:(0,o.Y)(eD.m_,{isDisabled:!eH,tooltip:eH,children:e.renderCustomSubmitButton?e.renderCustomSubmitButton({onSubmit:eV,disabled:eN}):(0,o.Y)(ec.K0,{alt:"composing"===K?"Send":"Loading...",tooltipBehavior:"hidden",disabled:eN,onClick:eV,dataCy:"ai-prompt-submit",css:eN?eC.sendDisabled:eC.sendEnabled,children:"composing"===K?(0,o.Y)(eY.A,{}):(0,o.Y)(ef.A,{})})})})]})]})]}),e.overlay?(0,o.Y)(V.S,{css:eC.overlayBackground,children:(0,o.Y)(V.S,{css:eC.overlayContent,children:e.overlay})}):null]})}var eT=new p.k(function(e){var t=e.onSubmit,n=e.preventSubmitOnEnter;return d.Lz.domEventHandlers({keydown:function(e,r){(0,c.lq)(r.state).length>0||n||("Enter"===e.key&&e.metaKey&&e.stopPropagation(),"Enter"!==e.key||e.shiftKey||(e.preventDefault(),t()))}})})},34420:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(66622),i=n(25930),a=n(33005);function o(e){var t=e.addAttachments,n=(0,r._)((0,i.H)(function(){return{accept:[a.FILE],drop:function(e){e.dirContent.then(function(e){t(e.filter(function(e){return".DS_Store"!==e.name}).map(function(e){return{fileName:e.name,file:e}}))})},collect:function(e){return{isOver:!0===e.isOver()}}}}),2);return{isDraggedOver:n[0].isOver,drop:n[1]}}},35504:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(63679);function i(){return(0,r._P)({controlName:"flag-url-context-feature-killswitch"})}},39183:(e,t,n)=>{"use strict";function r(e){var t=e.aiName;return function(e){return e.startsWith("video/")||e.startsWith("audio/")||e.startsWith("application/pdf")?"".concat(t," can't read this file type, but it can use the file in your project."):null}}n.d(t,{F:()=>r})},88456:(e,t,n)=>{"use strict";n.d(t,{bZ:()=>h,tP:()=>y,v$:()=>x});var r=n(72275),i=n(94086),a=n(66144),o=n(16608),l=n(2814),u=n(9076),s=n(36601),c=n(24955),d=n(10168),f=n(32842),p=n(40889),m=a.sj.define({combine:function(e){var t;return null!==(t=e[0])&&void 0!==t?t:0}}),h=new s.k(function(e){return m.of(e)}),v={marker:"cm-empty-state-dom"},g=o.Lz.theme((0,r._)({},".".concat(v.marker),{backgroundColor:c.LU.redDefault,opacity:"0.2"})),w=a.sU.define({create:function(e){return e.doc.length},update:function(e,t){return t.state.doc.length}}),b=function(e){return Math.max(e.doc.length-e.facet(m),0)},y=a.sU.define({create:b,update:function(e,t){return(0,l.$H)(t,"doc",m)?b(t.state):e},provide:function(e){return[w,g,(0,o.qd)({above:!1,update:function(t){return(0,l.$H)(t,e)},markers:function(t){var n=t.state.field(e);if(0===n)return[];var r=t.state.doc.length;return o.Ip.forRange(t,v.marker,a.OF.range(r-n,r))}})]}}),A=(0,d.x)({charLimit:[f.wp.color.redDefault]});function x(e){var t=e.view,n=(0,u.Vn)(t,y);return n?(0,i.Y)(p.EY,{variant:"small",css:A.charLimit,children:n}):null}},15145:(e,t,n)=>{"use strict";n.d(t,{Im:()=>h,hk:()=>v,om:()=>m});var r,i=n(72275),a=n(30758),o=n(66144),l=n(16608),u=n(2814),s=n(5805),c=n(24955),d={layer:"cm-placeholder-layer",dom:"cm-placeholder-dom"},f=l.Lz.theme((r={},(0,i._)(r,".".concat(d.layer),{width:"100%",height:"100%",pointerEvents:"none"}),(0,i._)(r,".".concat(d.dom),{position:"absolute",width:"100%",pointerEvents:"none",fontFamily:c.LU.fontFamilyDefault,color:c.LU.foregroundDimmest}),r)),p=function(e){return 0===e.doc.toString().trim().length},m=o.Pe.define(),h=o.sU.define({create:p,update:function(e,t){return p(t.state)}});function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=void 0===t?"Type message…":t,r=e.disableAnimation,i=void 0!==r&&r;return(0,a.useMemo)(function(){var e;return[h,f,(0,l.qd)((e=Date.now(),{above:!1,class:d.layer,update:function(t){var n=!1;return(0,s.C)(t,m,function(){n=!0,e=Date.now()}),n||(0,u.$H)(t,h)},markers:function(t){if(!t.state.field(h))return[];var r,a,o,l,u,s,c,f=t.coordsAtPos(0);if(!f)return[];var p=t.dom.getBoundingClientRect(),m=f.left-p.left;return[(a=(r={top:f.top-p.top,left:m,height:f.bottom-f.top,animateTimestamp:e,text:n,disableAnimation:i}).top,o=r.left,l=r.height,u=r.animateTimestamp,s=r.text,c=r.disableAnimation,{draw:function(){var e=document.createElement("div");e.className=d.dom,e.style.width="100%",e.style.paddingTop=a+"px",e.style.paddingLeft=o+"px",e.style.height=l+"px";var t=s.length;return c?e.textContent=s:function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;requestAnimationFrame(function(){e.textContent=s.slice(0,r),r<t&&n(r+1)})}(),e},animateTimestamp:u,eq:function(e){return this.animateTimestamp===e.animateTimestamp}})]}}))]},[n,i])}},26352:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>g,jM:()=>w,p4:()=>v});var r=n(66622),i=n(94086),a=n(30758),o=n(53654),l=n(32842),u=n(14968),s=n(95235),c=n(93532),d=n(40889),f=n(8367),p=n(73197),m=n(14753),h=n(68753);function v(e,t){var n=t;return"audio/wave"===n&&(n="audio/wav"),"data:".concat(n,";base64,").concat(e)}function g(e){var t=e.fs,n=e.filePath,u=(0,r._)((0,a.useState)(null),2),c=u[0],f=u[1],h=(0,r._)((0,a.useState)(!0),2),v=h[0],g=h[1];(0,a.useEffect)(function(){var e=t.watchFile(n,{onChange:function(e){f(e.toString("base64")),g(!1)},onError:function(){f(null),g(!1)},onMoveOrDelete:function(){f(null),g(!1)}});return function(){e(),g(!0),f(null)}},[t,n]);var b=(0,o.P7)(n);"audio/wave"===b&&(b="audio/wav");var y=c?"data:".concat(b,";base64,").concat(c):"";return v?(0,i.Y)(m.A,{}):c?(0,i.FD)(i.FK,{children:[(0,i.Y)(w,{src:y,fileName:(0,o.WP)(n),mime:(0,o.P7)(n)}),(0,i.Y)(s.K0,{alt:"Download",css:[l.wp.position.absolute,l.wp.bottom(8),l.wp.right(8),l.wp.p(16)],children:(0,i.Y)("a",{href:"data:text/plain;base64,".concat(c),download:(0,o.WP)(n),css:[l.wp.color.foregroundDimmer],children:(0,i.Y)(p.A,{})})})]}):(0,i.Y)(d.EY,{multiline:!1,children:"Failed to load media file"})}var w=function(e){var t=e.src,n=e.fileName,r=e.mime,a=void 0===r?"":r;return a.startsWith("video/")?(0,i.Y)("video",{src:t,css:{maxHeight:"100%",maxWidth:"100%"},controls:!0,title:n}):a.startsWith("image/")?(0,i.Y)("img",{alt:"Preview",src:t,css:{width:"80%",height:"80%",objectFit:"contain",imageRendering:"pixelated"}}):a.startsWith("audio/")?(0,i.Y)("audio",{src:t,css:{maxHeight:"100%",maxWidth:"100%"},controls:!0,title:n}):"application/pdf"===a?(0,i.Y)("object",{data:t,type:"application/pdf",css:{width:"100%",height:"100%",flex:1},children:(0,i.FD)(f.S,{gap:16,align:"end",children:[(0,i.Y)(c.N,{colorway:"warning",icon:(0,i.Y)(h.A,{}),text:"Your browser doesn't support displaying PDFs inside of Replit."}),(0,i.Y)(u.v,{href:t,referrerPolicy:"no-referrer",target:"_blank",text:"View PDF in new tab",size:"small",variant:"outlined",colorway:"primary",noNextLink:!0})]})}):(0,i.Y)(d.EY,{multiline:!1,children:"File type not supported."})}},22846:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(94086);function i(e){var t=e.uploadFiles,n=e.fileUploadInputRef,i=e.dirUploadInputRef;return(0,r.FD)(r.FK,{children:[(0,r.Y)("input",{style:{display:"none"},ref:n,type:"file",onChange:function(e){var n=e.target.files;n&&t({files:Array.from(n)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*"}),(0,r.Y)("input",{style:{display:"none"},ref:i,type:"file",onChange:function(e){var n=e.target.files;n&&t({files:Array.from(n)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*"})]})}},30989:(e,t,n)=>{"use strict";n.d(t,{G:()=>m});var r=n(94086),i=n(1175),a=n(17504),o=n(75165),l=n(56362),u=n(10168),s=n(32842),c=n(40172),d=n(65599),f=n(74013),p=(0,u.x)({button:[s.wp.height(24),s.wp.p(4),s.wp.color.foregroundDimmer,{"&:hover:not([disabled], [aria-disabled])":s.wp.color.foregroundDefault}]});function m(){var e,t,n=(0,l.Z)(),u=n.isActive,s=n.toggleVisualEditor,m=n.isSelectorScriptLoaded,h=n.element,v=(0,o.Av)(),g=null!==(e=(0,a.A)(v))&&void 0!==e&&e;if((0,i.a)({tablet:!0}))return null;var w=!m||!g;return(0,r.Y)(d.m_,{tooltip:w?"Element selector unavailable":"Element selector",placement:"top-start",maxWidth:300,children:(0,r.Y)(c.$n,{css:p.button,disabled:w,variant:u?"default":"nofill",colorway:u?"primary":void 0,size:"small",text:null!==(t=null==h?void 0:h.componentName)&&void 0!==t?t:"",onClick:s,iconLeft:(0,r.Y)(f.A,{size:16})})})}},75165:(e,t,n)=>{"use strict";n.d(t,{CP:()=>y,J0:()=>f.J0,Q4:()=>b.Q4,xi:()=>l.xi,rM:()=>f.rM,gp:()=>l.gp,vO:()=>f.vO,u6:()=>l.u6,eg:()=>l.eg,F9:()=>w,W9:()=>c,xu:()=>l.xu,Qd:()=>l.Qd,RF:()=>g,gi:()=>d,Av:()=>l.Av});var r=n(94086),i=n(66622),a=n(30758),o=n(70452),l=n(93508),u=n(71549),s=(0,o.eU)(null);function c(){return(0,u.h)(s)}function d(){return(0,u.ob)(s)}var f=n(31352),p=n(51297),m=n(32904),h=(0,o.eU)(new Map),v=(0,o.eU)(null,function(e,t,n){t(h,function(e){return(0,p.jM)(e,function(e){n.indicatorType?e.set(n.paneType,n.indicatorType):e.delete(n.paneType)})})});function g(){return(0,u.ob)(v)}function w(e){var t=e.paneType;return(0,u.h)((0,m.A)(function(){return(0,o.eU)(function(e){return t?e(h).get(t):void 0})},[t]))}var b=n(40460);function y(e){var t,n=(t=e.isAgentOnboarding,(0,i._)((0,a.useState)(function(){var e=(0,o.y$)();return t&&e.set(l.QQ,!0),e}),1)[0]);return(0,r.Y)(u.IC.Provider,{value:n,children:e.children})}},40460:(e,t,n)=>{"use strict";n.d(t,{Q4:()=>C,DJ:()=>S,q6:()=>R});var r=n(13454),i=n(66622),a=n(27189),o=n(5482),l=n(30758),u=n(96489),s=n.n(u),c=n(51297),d=n(70452),f=n(88165),p=n(32889),m=n.n(p),h=n(45009);function v(){var e=(0,h._)(["\n  query WorkspaceSessionPresence($userIds: [Int!]!) {\n    usersByIds(ids: $userIds) {\n      id\n      image\n    }\n  }\n"]);return v=function(){return e},e}var g=(0,n(30632).J1)(v()),w=n(77781),b=n(32904),y=n(99019),A=n(63943),x=n(71549),D=(0,d.eU)(new Map),Y=(0,d.eU)(null,function(e,t,n){return t(D,function(e){return(0,c.jM)(e,function(e){e.set(n.userId,n.color)})})});function S(){var e=(0,x.Ou)(k),t=(0,x.ob)(Y);return(0,l.useCallback)(function(n){var r,i=e(),a=null===(r=i.get(n.userId))||void 0===r?void 0:r.color;return a||t({color:a=(0,A.a4)(Object.values(i)),userId:n.userId}),a},[e,t])}function F(e,t,n,r){var i=r||{timestamp:Math.floor(Date.now()/1e3),activeFile:null},o=e.get(t.id);if(o){o.sessions.set(t.session,i);return}e.set(t.id,{id:t.id,username:t.name,color:null!=n?n:(0,A.a4)((0,a._)(e.values())),roles:t.roles,sessions:new Map([[t.session,i]])})}var k=(0,d.eU)(new Map),E=((0,f.mg)(k,function(e){var t=new Map,n=!0,r=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var u=(0,i._)(o.value,2)[1],s=null,c=!0,d=!1,f=void 0;try{for(var p,m=u.sessions[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var h=(0,i._)(p.value,2)[1];!h.activeFile||s&&s.timestamp>h.timestamp||(s=h)}}catch(e){d=!0,f=e}finally{try{c||null==m.return||m.return()}finally{if(d)throw f}}if(null==s?void 0:s.activeFile){var v=t.get(s.activeFile),g={id:u.id,username:u.username,image:u.image,color:u.color,roles:u.roles};v?v.push(g):t.set(s.activeFile,[g])}}}catch(e){r=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}return t},s()),(0,f.mg)(k,function(e){return(0,a._)(e.values()).map(function(e){return{id:e.id,username:e.username,color:e.color,image:e.image,roles:e.roles}})},s()));function C(){return(0,x.h)(E)}function _(e){var t=e.id,n=e.name,r=e.session,i=e.roles;return t&&n&&r&&i?{id:t,name:n,session:r,roles:i}:null}function U(e){var t=e.seconds,n=e.nanos;return"number"!=typeof t||"number"!=typeof n?null:(0,A.iY)({seconds:t,nanos:n})}var T=(0,d.eU)(null,function(e,t,n,r){t(k,function(t){return(0,c.jM)(t,function(t){var a;if(null===(a=n.roster)||void 0===a?void 0:a.user){var o=!0,l=!1,u=void 0;try{for(var s,c=n.roster.user[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var d=s.value,f=_(d);if(null!==f&&(null==f?void 0:f.id)!==r){var p=function(e,t){if(!e.files)return null;var n=e.files.find(function(e){return e.userId===t.id&&e.session===t.session});if(!n)return null;var r=n.timestamp?U(n.timestamp):null;return r?{activeFile:n.file||null,timestamp:r}:null}(n.roster,f),m=e(D).get(f.id);F(t,f,m,p)}}}catch(e){l=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw u}}return}if(n.join){var h=_(n.join);if(!h||h.id===r)return;var v=e(D).get(h.id);F(t,h,v);return}if(n.part){var g,w,b=n.part,y=b.id,A=b.session;if(!y||!A)return;g={id:y,session:A},(w=t.get(g.id))&&(1===w.sessions.size?t.delete(g.id):w.sessions.delete(g.session));return}if(n.fileOpened){var x=n.fileOpened,Y=x.session,S=x.userId,k=x.file,E=n.fileOpened.timestamp?U(n.fileOpened.timestamp):null;if(!E||!Y||!S||!k)return;!function(e,t){var n=e.get(t.userId);if(n){var r=n.sessions.get(t.session);r?(r.timestamp=t.timestamp,r.activeFile=t.file):n.sessions.set(t.session,{timestamp:t.timestamp,activeFile:t.file})}}(t,{timestamp:E,session:Y,userId:S,file:k});return}if(n.sessionTimestampUpdated){var C=n.sessionTimestampUpdated.session,T=n.sessionTimestampUpdated.timestamp?U(n.sessionTimestampUpdated.timestamp):null;if(!T||!C)return;!function(e,t){var n=t.session,r=t.timestamp,a=!0,o=!1,l=void 0;try{for(var u,s=e[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=(0,i._)(u.value,2)[1].sessions.get(n);if(c){c.timestamp=r;break}}}catch(e){o=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw l}}}(t,{timestamp:T,session:C});return}})})}),L=(0,d.eU)(null,function(){var e=(0,r._)(function(e,t){var n,r,a,l,u,s,d,f,p,m,h;return(0,o.YH)(this,function(o){switch(o.label){case 0:n=[],r=e(k),a=!0,l=!1,u=void 0;try{for(s=r[Symbol.iterator]();!(a=(d=s.next()).done);a=!0)p=(f=(0,i._)(d.value,2))[0],f[1].image||n.push(p)}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}if(!n.length)return[2];return[4,null===y.V||void 0===y.V?void 0:y.V.query({query:g,variables:{userIds:n}})];case 1:if(!(h=null==(m=o.sent())?void 0:m.data.usersByIds))return[2];return t(k,function(e){return(0,c.jM)(e,function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=h[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,l=e.get(o.id);l&&(l.image=o.image)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}})}),[2]}})});return function(t,n){return e.apply(this,arguments)}}());function R(){var e=(0,w.T)(),t=(0,x.ob)(L),n=(0,x.ob)(T),r=(0,x.AI)(k);return(0,l.useEffect)(function(){t();var e=m()(t,2e3);return r.subscribe(function(){return e()})},[t,r]),(0,b.A)(function(){return function(t){e&&n(t,e)}},[n,e])}},93508:(e,t,n)=>{"use strict";n.d(t,{Av:()=>h,QQ:()=>v,Qd:()=>p,eg:()=>g,gp:()=>w,nb:()=>A,rN:()=>y,u6:()=>f,xi:()=>s,xu:()=>c});var r=n(30758),i=n(70452),a=n(88165),o=n(25161),l=n(71549),u=(0,a.tG)("areHiddenFilesVisible",!1);function s(){return(0,l.h)(u)}function c(){return(0,l.ob)(u)}var d=(0,i.eU)(null);function f(){return(0,l.Ou)(d)}function p(){return(0,l.ob)(d)}var m=(0,i.eU)((0,o.F)(!1));function h(){return(0,l.h)(m)}var v=(0,i.eU)(!1);function g(){return(0,l.h)(v)}function w(){var e=(0,l.ob)(v);return(0,r.useCallback)(function(){return e(!1)},[e])}var b=(0,i.eU)(!1);function y(){return(0,l.h)(b)}function A(){return(0,l.ob)(b)}},20376:e=>{e.exports={root:"SendButton_root__TF8bc"}},79376:e=>{e.exports={root:"SpeechToTextButton_root__P1bjL"}}}]);
//# sourceMappingURL=6754-2c2d6bd9438418f8.js.map